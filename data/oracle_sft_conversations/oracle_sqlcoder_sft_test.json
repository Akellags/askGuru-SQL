[
  {
    "id": "oracle_sqlcoder_v1_000773",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 5 items by total PO amount (unit price \u00d7 quantity).*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, SUM(pla.unit_price * pla.quantity) AS total_value FROM po_lines_all pla LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id GROUP BY NVL(msi.segment1, pla.item_description) ORDER BY total_value DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINES_ALL"
      ],
      "schema_length": 5706,
      "prompt_token_estimate": 1468,
      "sql_length": 431
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000133",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `show some details for purchase order distributions along with operating unit`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT hou.name AS operating_unit, pod.po_distribution_id, pod.po_header_id, pod.code_combination_id, pod.quantity_ordered, pod.destination_type_code FROM hr_operating_units hou JOIN po_distributions_all pod ON hou.organization_id = pod.org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1518,
      "prompt_token_estimate": 424,
      "sql_length": 243
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001010",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers, PO numbers, and their latest shipment date using MAX and GROUP BY.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, MAX(rsh.shipped_date) AS latest_shipment FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 631,
      "sql_length": 284
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001148",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify shipments where the number of containers exceeds 10 and materials are still in staging (not delivered).*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rsh.shipment_num, aps.vendor_name, SUM(rct.quantity) AS qty_in_staging FROM rcv_shipment_headers rsh JOIN rcv_transactions rct ON rsh.shipment_header_id = rct.shipment_header_id JOIN ap_suppliers aps ON rsh.vendor_id = aps.vendor_id WHERE rsh.num_of_containers > 10 AND rct.transaction_type = 'RECEIVE' GROUP BY rsh.shipment_num, aps.vendor_name HAVING SUM(rct.quantity) > 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 3020,
      "prompt_token_estimate": 809,
      "sql_length": 381
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000731",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers and count of POs where PO unit price is less than 100.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pla.po_line_id) AS low_price_count FROM po_lines_all pla JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pla.unit_price < 100 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 758,
      "sql_length": 256
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002481",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Supplier Invoices Paid Late by More Than 30 Days`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT\n    aia.invoice_id,\n    aia.invoice_num,\n    aia.invoice_date,\n    aia.invoice_amount,\n    apsa.due_date,\n    NVL(MIN(aca.check_date), SYSDATE) AS effective_payment_date,\n    NVL(MIN(aca.check_date), SYSDATE) - apsa.due_date AS days_delayed\nFROM\n    ap_invoices_all aia\n    JOIN ap_payment_schedules_all apsa ON aia.invoice_id = apsa.invoice_id\n    LEFT JOIN ap_invoice_payments_all aipa \n        ON aia.invoice_id = aipa.invoice_id\n        AND apsa.payment_num = aipa.payment_num\n    LEFT JOIN ap_checks_all aca\n        ON aipa.check_id = aca.check_id\nWHERE\n    aia.invoice_amount > 0\n    AND aia.invoice_type_lookup_code IN ('STANDARD', 'MISCELLANEOUS')\nGROUP BY\n    aia.invoice_id,\n    aia.invoice_num,\n    aia.invoice_date,\n    aia.invoice_amount,\n    apsa.due_date\nHAVING\n    NVL(MIN(aca.check_date), SYSDATE) - apsa.due_date > 30\nORDER BY\n    days_delayed DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 3445,
      "prompt_token_estimate": 899,
      "sql_length": 873
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000492",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get count of POs and total value per organization.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org.organization_name, COUNT(pha.po_header_id) AS po_count, SUM(pla.unit_price * pla.quantity) AS total_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN org_organization_definitions org ON pha.org_id = org.organization_id GROUP BY org.organization_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2146,
      "prompt_token_estimate": 575,
      "sql_length": 306
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001388",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `CTE: Find highest amount shipped per organization`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Table MAX_SHIPPED schema not available\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH max_shipped AS ( SELECT org_id, MAX(amount_shipped) AS max_amount FROM po_line_locations_all GROUP BY org_id ) SELECT * FROM max_shipped"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MAX_SHIPPED"
      ],
      "schema_length": 2090,
      "prompt_token_estimate": 560,
      "sql_length": 141
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000102",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find set_of_books_id having more than 5 usable operating units.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT set_of_books_id FROM hr_operating_units WHERE usable_flag = 'Y' GROUP BY set_of_books_id HAVING COUNT(*) > 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 113,
      "sql_length": 115
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001161",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs where the same supplier used more than 2 different vendor site IDs across shipments.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rsh.vendor_site_id) AS site_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rsh.vendor_site_id) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 634,
      "sql_length": 338
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001370",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count shipments where unit of measure class is either 'Weight' or 'Volume'`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(line_location_id) AS weight_or_volume_shipments FROM po_line_locations_all WHERE unit_of_measure_class IN ('Weight', 'Volume')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 556,
      "sql_length": 139
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000092",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show short_code and name where set_of_books_id is missing (null.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT short_code, name FROM hr_operating_units WHERE set_of_books_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 113,
      "sql_length": 77
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000101",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show organization_id and name with date_from before 2000.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT organization_id, name FROM hr_operating_units WHERE date_from < TO_DATE('2000-01-01','YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 111,
      "sql_length": 105
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000491",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers with no POs in the last year.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name FROM ap_suppliers aps WHERE NOT EXISTS (SELECT 1 FROM po_headers_all pha WHERE pha.vendor_id = aps.vendor_id AND pha.creation_date >= ADD_MONTHS(SYSDATE, -12))"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 1740,
      "prompt_token_estimate": 472,
      "sql_length": 182
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001980",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find approved EXPENSE REPORT invoices where vendor is 'Global Supplies' and distributions validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'EXPENSE REPORT' AND i.APPROVAL_STATUS = 'APPROVED' AND s.VENDOR_NAME = 'Global Supplies' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 983,
      "sql_length": 404
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000418",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get POs and suppliers where items have been delivered but not yet invoiced  AS ON 31-DEC-2007*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID = PO_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT      aps.vendor_name,     pha.segment1 AS po_number,     NVL(msi.segment1, pla.item_description) AS item_code,     (NVL(receipt_qty, 0) - NVL(invoiced_qty, 0)) AS unbilled_quantity FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id LEFT JOIN (     SELECT          pod.po_distribution_id,         SUM(rct.quantity) AS receipt_qty     FROM rcv_transactions rct     JOIN po_distributions_all pod ON rct.po_distribution_id = pod.po_distribution_id     WHERE rct.transaction_type = 'RECEIVE'       AND rct.transaction_date <= TO_DATE('2007-12-31', 'YYYY-MM-DD')     GROUP BY pod.po_distribution_id ) recv ON recv.po_distribution_id = pod.po_distribution_id LEFT JOIN (     SELECT          aid.po_distribution_id,         SUM(NVL(aid.amount, 0)) AS invoiced_qty     FROM ap_invoice_distributions_all aid     WHERE aid.accounting_date <= TO_DATE('2007-12-31', 'YYYY-MM-DD')     GROUP BY aid.po_distribution_id ) invoiced ON invoiced.po_distribution_id = pod.po_distribution_id LEFT JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id      AND pod.destination_organization_id = msi.organization_id WHERE (NVL(receipt_qty, 0) - NVL(invoiced_qty, 0)) > 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 11776,
      "prompt_token_estimate": 2993,
      "sql_length": 1406
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001999",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoice numbers and payment terms names for approved invoices */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, t.NAME AS TERMS_NAME FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE i.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_TERMS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2673,
      "prompt_token_estimate": 711,
      "sql_length": 211
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000028",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the total ledger count  for each ledger category code.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_category_code, COUNT(ledger_id) AS total_ledgers FROM gl_ledgers GROUP BY ledger_category_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 109,
      "sql_length": 108
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002253",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find bank accounts used for foreign currency payments */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT      aca.BANK_ACCOUNT_ID AS \"BANK_ACCOUNT_ID\",      aca.CURRENCY_CODE AS \"PAYMENT_CURRENCY\",      gl.CURRENCY_CODE AS \"ACCOUNTING_CURRENCY\" FROM      ap_checks_all aca     JOIN hr_operating_units hou ON aca.ORG_ID = hou.ORGANIZATION_ID     JOIN gl_ledgers gl ON hou.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE      aca.CURRENCY_CODE <> gl.CURRENCY_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_LEDGERS",
        "AP_CHECKS_ALL"
      ],
      "schema_length": 2190,
      "prompt_token_estimate": 587,
      "sql_length": 361
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001607",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get the me receipt num and item details of items received`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rsh.receipt_num, rct.transaction_id, rct.transaction_type, rct.transaction_date, rct.quantity, rsl.item_id, rsl.item_description, rsl.unit_of_measure, hou.name AS operating_unit_name, ood.organization_name AS inventory_organization_name FROM rcv_transactions rct JOIN rcv_shipment_headers rsh ON rct.shipment_header_id = rsh.shipment_header_id JOIN rcv_shipment_lines rsl ON rct.shipment_line_id = rsl.shipment_line_id JOIN org_organization_definitions ood ON rct.organization_id = ood.organization_id JOIN hr_operating_units hou ON ood.operating_unit = hou.organization_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS",
        "RCV_SHIPMENT_LINES",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 4408,
      "prompt_token_estimate": 1142,
      "sql_length": 580
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001422",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show the top 5 distributions by amount ordered using RANK.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT po_distribution_id, amount_ordered, RANK() OVER (ORDER BY amount_ordered DESC) AS rnk FROM po_distributions_all ) WHERE rnk <= 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 348,
      "sql_length": 151
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001573",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all lines where the packing slip is 'PKG12345'.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_line_id, creation_date, shipment_header_id, line_num, packing_slip, item_id FROM rcv_shipment_lines WHERE packing_slip = 'PKG12345'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 411,
      "sql_length": 147
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001419",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions where the amount financed is not zero.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_distribution_id AS \"PO Distribution ID\", amount_financed AS \"Amount Financed\" FROM po_distributions_all WHERE amount_financed <> 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 348,
      "sql_length": 140
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000865",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List top 5 suppliers by total billed amount using RANK and multiple joins.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Table SUPPLIER_TOTALS schema not available\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH supplier_totals AS ( SELECT aps.vendor_name, SUM(pod.amount_billed) AS total_billed FROM po_distributions_all pod JOIN po_headers_all pha ON pod.po_header_id = pha.po_header_id JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name ) SELECT vendor_name, total_billed, RANK() OVER (ORDER BY total_billed DESC) AS billing_rank FROM supplier_totals FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "SUPPLIER_TOTALS",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6598,
      "prompt_token_estimate": 1694,
      "sql_length": 528
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001044",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and POs where PO lines and shipment lines both have NULL comments.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number   FROM po_headers_all pha        JOIN po_lines_all pla           ON pha.po_header_id = pla.po_header_id        JOIN rcv_shipment_lines rsl           ON pla.po_line_id = rsl.po_line_id        JOIN ap_suppliers aps           ON pha.vendor_id = aps.vendor_id  WHERE pla.note_to_vendor IS NULL AND rsl.comments IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1167,
      "sql_length": 364
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002293",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify suppliers in Vision Operations where payments are delayed by more than 15 days kpi related report */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table PARAM schema not available\n\n-- Table BANK_PAYMENTS schema not available\n\n-- Table UNPAID_SCHEDULES schema not available\n\n-- Table PARTIAL_UNPAID_SCHEDULES schema not available\n\n-- Table PREPAY_APPLIED schema not available\n\n-- Table PREPAY_LINES schema not available\n\n-- Table DUAL schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH param AS (SELECT SYSDATE AS report_date, 'Vision Operations' AS org_name FROM dual), unpaid_schedules AS (SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.PAYMENT_NUM, aps.DUE_DATE, aps.AMOUNT_REMAINING AS AMOUNT, 'UNPAID' AS SOURCE_TYPE, param.report_date AS SOURCE_DATE, param.report_date - aps.DUE_DATE AS DELAY_DAYS, sup.VENDOR_NAME, hou.NAME AS ORG_NAME FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_suppliers sup ON ai.VENDOR_ID = sup.VENDOR_ID JOIN hr_operating_units hou ON ai.ORG_ID = hou.organization_id JOIN param ON hou.name = param.org_name WHERE ai.INVOICE_DATE BETWEEN TO_DATE('01-JAN-2008','DD-MON-YYYY') AND TO_DATE('31-DEC-2008','DD-MON-YYYY') AND aps.AMOUNT_REMAINING = aps.GROSS_AMOUNT AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) = 'APPROVED' AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED') AND ai.CANCELLED_DATE IS NULL), partial_unpaid_schedules AS (SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.PAYMENT_NUM, aps.DUE_DATE, aps.AMOUNT_REMAINING AS AMOUNT, 'PARTIAL UNPAID' AS SOURCE_TYPE, param.report_date AS SOURCE_DATE, param.report_date - aps.DUE_DATE AS DELAY_DAYS, sup.VENDOR_NAME, hou.NAME AS ORG_NAME FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_suppliers sup ON ai.VENDOR_ID = sup.VENDOR_ID JOIN hr_operating_units hou ON ai.ORG_ID = hou.organization_id JOIN param ON hou.name = param.org_name WHERE ai.INVOICE_DATE BETWEEN TO_DATE('01-JAN-2008','DD-MON-YYYY') AND TO_DATE('31-DEC-2008','DD-MON-YYYY') AND aps.AMOUNT_REMAINING > 0 AND aps.AMOUNT_REMAINING < aps.GROSS_AMOUNT), bank_payments AS (SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.PAYMENT_NUM, aps.DUE_DATE, aip.AMOUNT, 'BANK PAYMENT' AS SOURCE_TYPE, aip.ACCOUNTING_DATE AS SOURCE_DATE, aip.ACCOUNTING_DATE - aps.DUE_DATE AS DELAY_DAYS, sup.VENDOR_NAME, hou.NAME AS ORG_NAME FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID AND aps.PAYMENT_NUM = aip.PAYMENT_NUM JOIN ap_suppliers sup ON ai.VENDOR_ID = sup.VENDOR_ID JOIN hr_operating_units hou ON ai.ORG_ID = hou.organization_id JOIN param ON hou.name = param.org_name WHERE ai.INVOICE_DATE BETWEEN TO_DATE('01-JAN-2008','DD-MON-YYYY') AND TO_DATE('31-DEC-2008','DD-MON-YYYY')), prepay_lines AS (SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.PAYMENT_NUM, aps.DUE_DATE, aid.ACCOUNTING_DATE, aid.AMOUNT AS PREPAY_AMOUNT, ROW_NUMBER() OVER (PARTITION BY aid.INVOICE_ID ORDER BY aps.DUE_DATE) AS rn, sup.VENDOR_NAME, hou.NAME AS ORG_NAME FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_distributions_all aid ON aid.INVOICE_ID = ai.INVOICE_ID JOIN ap_suppliers sup ON ai.VENDOR_ID = sup.VENDOR_ID JOIN hr_operating_units hou ON ai.ORG_ID = hou.organization_id JOIN param ON hou.name = param.org_name WHERE ai.INVOICE_DATE BETWEEN TO_DATE('01-JAN-2008','DD-MON-YYYY') AND TO_DATE('31-DEC-2008','DD-MON-YYYY') AND aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY'), prepay_applied AS (SELECT INVOICE_ID, INVOICE_NUM, INVOICE_DATE, PAYMENT_NUM, DUE_DATE, PREPAY_AMOUNT AS AMOUNT, 'PREPAYMENT' AS SOURCE_TYPE, ACCOUNTING_DATE AS SOURCE_DATE, ACCOUNTING_DATE - DUE_DATE AS DELAY_DAYS, VENDOR_NAME, ORG_NAME FROM prepay_lines) SELECT INVOICE_ID, INVOICE_NUM, VENDOR_NAME, ORG_NAME, INVOICE_DATE, PAYMENT_NUM, DUE_DATE, AMOUNT, SOURCE_TYPE, SOURCE_DATE, DELAY_DAYS FROM (SELECT * FROM unpaid_schedules UNION ALL SELECT * FROM partial_unpaid_schedules UNION ALL SELECT * FROM bank_payments UNION ALL SELECT * FROM prepay_applied) WHERE DELAY_DAYS > 15 ORDER BY INVOICE_ID, PAYMENT_NUM, SOURCE_TYPE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "PARAM",
        "BANK_PAYMENTS",
        "AP_SUPPLIERS",
        "UNPAID_SCHEDULES",
        "PARTIAL_UNPAID_SCHEDULES",
        "AP_INVOICES_ALL",
        "PREPAY_APPLIED",
        "PREPAY_LINES",
        "AP_PAYMENT_SCHEDULES_ALL",
        "DUAL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 5035,
      "prompt_token_estimate": 1312,
      "sql_length": 3858
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000786",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the latest 10 PO numbers and their suppliers where at least one transaction was corrected.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT pha.segment1 AS po_number, aps.vendor_name FROM rcv_transactions rct JOIN po_headers_all pha ON rct.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'CORRECT' ORDER BY rct.transaction_date DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 831,
      "sql_length": 301
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000062",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count ledgers per ledger_category_code where currency_code starts with 'E'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_category_code, COUNT(*) AS count_e_currency FROM gl_ledgers WHERE currency_code LIKE 'E%' GROUP BY ledger_category_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 113,
      "sql_length": 133
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001155",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO lines where the item\u2019s unit of measure conversion rate to primary unit os measure is above 1.5.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, muc.conversion_rate FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id LEFT JOIN mtl_uom_conversions muc ON muc.inventory_item_id = msi.inventory_item_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE muc.conversion_rate > 1.5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "MTL_UOM_CONVERSIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7882,
      "prompt_token_estimate": 2026,
      "sql_length": 574
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001709",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get transactions where PO_LINE_LOCATION_ID is NOT NULL and SUBINVENTORY = 'MAIN'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, po_line_location_id, subinventory FROM rcv_transactions WHERE po_line_location_id IS NOT NULL AND subinventory = 'MAIN'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 391,
      "sql_length": 142
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000724",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers with delayed shipments (expected date < sysdate and shipped_date is null).*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.expected_receipt_date < SYSDATE AND rsh.shipped_date IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 353,
      "sql_length": 202
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000098",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get operating units created in the same year (extract year from date_from.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Table DATE_FROM schema not available\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT EXTRACT(YEAR FROM date_from) AS year_created, COUNT(*) AS units_per_year FROM hr_operating_units GROUP BY EXTRACT(YEAR FROM date_from)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "DATE_FROM"
      ],
      "schema_length": 326,
      "prompt_token_estimate": 126,
      "sql_length": 141
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002030",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find average invoice amount under 'Vision Operations' by ledger */`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, AVG(i.INVOICE_AMOUNT) AS AVG_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3392,
      "prompt_token_estimate": 890,
      "sql_length": 329
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002297",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get list of invoices fully paid early (before due date) including days early and check details */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, aps.DUE_DATE, aip.CREATION_DATE AS PAYMENT_DATE, (aps.DUE_DATE - aip.CREATION_DATE) AS DAYS_EARLY, aca.CHECK_NUMBER, aca.AMOUNT, s.VENDOR_NAME FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID AND aps.PAYMENT_NUM = aip.PAYMENT_NUM JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID WHERE aip.CREATION_DATE < aps.DUE_DATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1185,
      "sql_length": 506
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002681",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `invoie payment status as of today for invoie abc123`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, ai.CREATION_DATE, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ssa.VENDOR_SITE_CODE, NVL (payments.TOTAL_ACTUAL_PAYMENT, 0) AS TOTAL_ACTUAL_PAYMENT, NVL (prepays.TOTAL_PREPAY_ADJUSTED, 0) AS TOTAL_PREPAY_ADJUSTED, NVL (schedules.TOTAL_OUTSTANDING_AMOUNT, 0) AS OUTSTANDING_AMOUNT FROM ap_invoices_all ai LEFT JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN ap_supplier_sites_all ssa ON ai.VENDOR_SITE_ID = ssa.VENDOR_SITE_ID LEFT JOIN (  SELECT aip.INVOICE_ID, SUM (aip.AMOUNT) AS TOTAL_ACTUAL_PAYMENT FROM ap_invoice_payments_all aip GROUP BY aip.INVOICE_ID) payments ON ai.INVOICE_ID = payments.INVOICE_ID LEFT JOIN (  SELECT aid.INVOICE_ID, SUM (aid.AMOUNT) AS TOTAL_PREPAY_ADJUSTED FROM ap_invoice_distributions_all aid JOIN ap_invoice_distributions_all prepay_dist ON aid.PREPAY_DISTRIBUTION_ID = prepay_dist.INVOICE_DISTRIBUTION_ID JOIN ap_invoices_all pre_ai ON prepay_dist.INVOICE_ID = pre_ai.INVOICE_ID WHERE     aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND pre_ai.INVOICE_TYPE_LOOKUP_CODE = 'PREPAYMENT' GROUP BY aid.INVOICE_ID) prepays ON ai.INVOICE_ID = prepays.INVOICE_ID LEFT JOIN (  SELECT aps.INVOICE_ID, SUM (aps.AMOUNT_REMAINING) AS TOTAL_OUTSTANDING_AMOUNT FROM ap_payment_schedules_all aps GROUP BY aps.INVOICE_ID) schedules ON ai.INVOICE_ID = schedules.INVOICE_ID WHERE ai.INVOICE_NUM = 'ABC'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 4848,
      "prompt_token_estimate": 1250,
      "sql_length": 1391
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001289",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO lines where quantity > 0 and secondary_quantity = 0.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE quantity > 0 AND secondary_quantity = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 290,
      "sql_length": 81
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002442",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get of the list of invoice distributions all`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT invoice_distribution_id,accounting_date,DISTRIBUTION_LINE_NUMBER, invoice_id,ASSETS_TRACKING_FLAG,\n       line_type_lookup_code, amount,base_amount,description, po_distribution_id,match_status_flag,org_id operating_unit,dist_match_type,\n       dist_code_combination_id charge_account,TAX_RECOVERABLE_FLAG,cancellation_flag,invoice_line_number,taxable_amount,tax_code_id\n  FROM ap_invoice_distributions_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 323,
      "sql_length": 412
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002340",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report total payments made per currency across Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.CURRENCY_CODE, SUM(aca.AMOUNT) AS TOTAL_PAID FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.CURRENCY_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 930,
      "sql_length": 333
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001993",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under 'Vision Operations' org with approved status */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, h.NAME AS ORG_NAME, i.INVOICE_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND i.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2984,
      "prompt_token_estimate": 788,
      "sql_length": 288
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002079",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List validated invoices with organization name and ledger */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, h.NAME AS ORG_NAME, g.NAME AS LEDGER_NAME FROM ap_invoices_all i JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all d WHERE d.INVOICE_ID = i.INVOICE_ID AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 3392,
      "prompt_token_estimate": 889,
      "sql_length": 335
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002139",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices linked to PO distributions but with unmatched lines */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE d.PO_DISTRIBUTION_ID IS NOT NULL AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 701,
      "sql_length": 198
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000389",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count the number of unique items ordered by each vendor in the last year.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS unique_item_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.creation_date >= ADD_MONTHS(SYSDATE, -12) GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1948,
      "sql_length": 517
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000392",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers with POs that have not been received yet.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT aps.vendor_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id WHERE rsl.shipment_line_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1160,
      "sql_length": 274
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001394",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `CTE: Shipments per org with average acceptance rate (accepted / received)`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Table ACCEPTANCE_RATE schema not available\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH acceptance_rate AS ( SELECT org_id, AVG(CASE WHEN quantity_received > 0 THEN quantity_accepted / quantity_received ELSE 0 END) AS avg_acceptance FROM po_line_locations_all GROUP BY org_id ) SELECT * FROM acceptance_rate"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "ACCEPTANCE_RATE"
      ],
      "schema_length": 2094,
      "prompt_token_estimate": 567,
      "sql_length": 224
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000061",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List ledgers with currency_code 'USD' and chart_of_accounts_id between 1000 and 3000, grouped by ledger_category_code.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_category_code, COUNT(*) AS count_usd_ledger FROM gl_ledgers WHERE currency_code = 'USD' AND chart_of_accounts_id BETWEEN 1000 AND 3000 GROUP BY ledger_category_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 124,
      "sql_length": 178
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001983",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices where vendor site code is 'NYC' and all distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, ss.VENDOR_SITE_CODE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE ss.VENDOR_SITE_CODE = 'NYC' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIER_SITES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3048,
      "prompt_token_estimate": 809,
      "sql_length": 355
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000382",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total quantity ordered and received per item for a specific supplier as of date or latest */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, SUM(plla.quantity) AS total_ordered, SUM(plla.quantity_received) AS total_received FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE aps.vendor_id = 3001 GROUP BY NVL(msi.segment1, pla.item_description)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1953,
      "sql_length": 559
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002664",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me list of suppllier invoices that are NOT paid before the due date by more than 60 days`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_id, ai.invoice_num, ai.invoice_date, ass.due_date, ass.amount_remaining, ai.vendor_id, aps.vendor_name, ai.creation_date AS invoice_creation_date, ai.last_update_date AS invoice_last_update_date, ass.payment_num, TRUNC(NVL(aip.creation_date, SYSDATE)) AS payment_date, ROUND(NVL(aip.creation_date, SYSDATE) - ass.due_date) AS delayed_days FROM ap_invoices_all ai JOIN ap_suppliers aps ON ai.vendor_id = aps.vendor_id JOIN ap_payment_schedules_all ass ON ai.invoice_id = ass.invoice_id LEFT JOIN ap_invoice_payments_all aip ON ass.invoice_id = aip.invoice_id AND ass.payment_num = aip.payment_num LEFT JOIN ap_checks_all aca ON aip.check_id = aca.check_id WHERE ai.cancelled_date IS NULL and ai.invoice_amount > 0 and ROUND(NVL(aip.creation_date, SYSDATE) - ass.due_date) >60 ORDER BY ass.payment_num, ai.invoice_id, aip.payment_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1184,
      "sql_length": 849
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000546",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and total shipped quantity for items shipped to a specific subinventory.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, SUM(pod.quantity_delivered) AS total_shipped FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pod.destination_subinventory = 'MAIN_STORE' GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1687,
      "sql_length": 429
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002385",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify suppliers with current largest number of unpaid overdue invoices under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(ai.INVOICE_ID) AS UNPAID_COUNT FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aps.AMOUNT_REMAINING > 0 AND aps.DUE_DATE < SYSDATE AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME ORDER BY UNPAID_COUNT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 827,
      "sql_length": 437
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000547",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the latest PO and item revision per supplier.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, MAX(pla.item_revision) AS latest_revision FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 754,
      "sql_length": 271
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002304",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify invoices paid in foreign currency with cleared checks under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT      ai.INVOICE_NUM AS \"INVOICE_NUM\",     aca.CURRENCY_CODE AS \"PAYMENT_CURRENCY\",     gl.CURRENCY_CODE AS \"ACCOUNTING_CURRENCY\",     aca.CHECK_NUMBER AS \"CHECK_NUMBER\",     aca.AMOUNT AS \"AMOUNT\",     aca.STATUS_LOOKUP_CODE AS \"STATUS_LOOKUP_CODE\",     s.VENDOR_NAME AS \"VENDOR_NAME\" FROM      ap_invoices_all ai     JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID     JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID     JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID     JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID     JOIN gl_ledgers gl ON h.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE      aca.CURRENCY_CODE <> gl.CURRENCY_CODE     AND aca.STATUS_LOOKUP_CODE = 'CLEARED'     AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 5053,
      "prompt_token_estimate": 1311,
      "sql_length": 766
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002208",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PREpayments ADJUSTED against invoiceS along with prepayment invoice details' */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT STD_AI.INVOICE_ID, std_ai.INVOICE_NUM AS STANDARD_INVOICE_NUM, std_ai.INVOICE_DATE AS STANDARD_INVOICE_DATE, std_ai.INVOICE_AMOUNT AS STANDARD_INVOICE_AMOUNT, std_ai.VENDOR_ID AS VENDOR_ID, s.VENDOR_NAME AS VENDOR_NAME, pre_ai.INVOICE_NUM AS PREPAYMENT_INVOICE_NUM, pre_ai.INVOICE_DATE AS PREPAYMENT_INVOICE_DATE, pre_ai.INVOICE_AMOUNT AS PREPAYMENT_INVOICE_AMOUNT, SUM(aid.AMOUNT) AS TOTAL_ADJUSTED_AMOUNT FROM ap_invoice_distributions_all aid JOIN ap_invoices_all std_ai ON aid.INVOICE_ID = std_ai.INVOICE_ID JOIN ap_invoice_distributions_all prepay_dist ON aid.PREPAY_DISTRIBUTION_ID = prepay_dist.INVOICE_DISTRIBUTION_ID JOIN ap_invoices_all pre_ai ON prepay_dist.INVOICE_ID = pre_ai.INVOICE_ID JOIN ap_suppliers s ON std_ai.VENDOR_ID = s.VENDOR_ID WHERE std_ai.INVOICE_TYPE_LOOKUP_CODE IN ('STANDARD', 'EXPENSE REPORT') AND aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND pre_ai.INVOICE_TYPE_LOOKUP_CODE = 'PREPAYMENT' GROUP BY STD_AI.INVOICE_ID, std_ai.INVOICE_NUM, std_ai.INVOICE_DATE, std_ai.INVOICE_AMOUNT, std_ai.VENDOR_ID, s.VENDOR_NAME, pre_ai.INVOICE_NUM, pre_ai.INVOICE_DATE, pre_ai.INVOICE_AMOUNT"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 979,
      "sql_length": 1111
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002036",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find minimum invoice amount per organization */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT h.NAME AS ORG_NAME, MIN(i.INVOICE_AMOUNT) AS MIN_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID GROUP BY h.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2984,
      "prompt_token_estimate": 783,
      "sql_length": 226
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000113",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show usable_flag and percentage of total units (using window function.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT usable_flag, count(*) AS cnt, ROUND(100 * count(*) / SUM(COUNT(*)) OVER (), 2) AS percent_of_total FROM hr_operating_units GROUP BY usable_flag"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 114,
      "sql_length": 150
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001476",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List distributions where rate_date is NULL but rate is not zero.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE rate_date IS NULL AND rate <> 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 349,
      "sql_length": 72
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000744",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and their expected receipt date for shipments of type 'ASBN'.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, rsh.expected_receipt_date FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.asn_type = 'ASBN'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 351,
      "sql_length": 186
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000153",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the top 5 most recently enabled organizations.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT organization_id, organization_name, user_definition_enable_date, RANK() OVER (ORDER BY user_definition_enable_date DESC) AS rnk FROM org_organization_definitions ) WHERE rnk <= 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 133,
      "sql_length": 201
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000478",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show POs and associated items where the destination type is 'EXPENSE'.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number,        NVL(msi.segment1, pla.item_description) AS item_code FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla     ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod     ON plla.line_location_id = pod.line_location_id LEFT JOIN mtl_system_items_b msi     ON pla.item_id = msi.inventory_item_id    AND pod.destination_organization_id = msi.organization_id WHERE pod.destination_type_code = 'EXPENSE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 8054,
      "prompt_token_estimate": 2057,
      "sql_length": 517
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001998",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoice numbers and payment terms names for approved invoices */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, t.NAME AS TERMS_NAME FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE i.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_TERMS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2673,
      "prompt_token_estimate": 711,
      "sql_length": 211
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002047",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find supplier sites where HOLD_UNMATCHED_INVOICES_FLAG = 'Y' but there\u2019s an ITEM line with no PO match */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT i.INVOICE_NUM, ss.VENDOR_SITE_CODE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE ss.HOLD_UNMATCHED_INVOICES_FLAG = 'Y' AND d.LINE_TYPE_LOOKUP_CODE = 'ITEM' AND d.PO_DISTRIBUTION_ID IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIER_SITES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3048,
      "prompt_token_estimate": 814,
      "sql_length": 324
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000395",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show PO details and the total number of containers received per PO.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, COUNT(rsh.num_of_containers) AS total_containers FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id GROUP BY pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2363,
      "prompt_token_estimate": 634,
      "sql_length": 264
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000155",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count organizations by chart of accounts ID.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT chart_of_accounts_id, COUNT(*) AS org_count FROM org_organization_definitions GROUP BY chart_of_accounts_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 131,
      "sql_length": 114
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002156",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with largest number of distribution lines per vendor */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, i.INVOICE_NUM, COUNT(d.INVOICE_DISTRIBUTION_ID) AS LINE_COUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID GROUP BY s.VENDOR_NAME, i.INVOICE_NUM ORDER BY LINE_COUNT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 975,
      "sql_length": 310
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000326",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find max and min approval dates for each vendor.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT vendor_id, MAX(approved_date) AS latest_approval, MIN(approved_date) AS earliest_approval FROM po_headers_all GROUP BY vendor_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 193,
      "sql_length": 135
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002403",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me invoice wise aging as on 31-dec-2007 outsanding due dates */`\n\n### Database Schema\n-- Table DIRECT_PAYMENTS schema not available\n\n-- Table PAYMENT_SCHEDULE_ORDERED schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table PREPAYMENT_APPLIED schema not available\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table ALLOCATED_SCHEDULES schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH direct_payments AS (\n    SELECT\n        aip.invoice_id,\n        aps.due_date,\n        aps.payment_num,\n        aps.gross_amount,\n        SUM(NVL(aip.amount, 0)) AS paid_amount\n    FROM\n        ap_invoice_payments_all aip\n        JOIN ap_payment_schedules_all aps \n            ON aip.invoice_id = aps.invoice_id\n            AND aip.payment_num = aps.payment_num\n    WHERE\n        aip.accounting_date <= to_date('31-dec-2007','dd-mon-yyyy')\n    GROUP BY\n        aip.invoice_id, aps.due_date, aps.payment_num, aps.gross_amount\n),\nprepayment_applied AS (\n    SELECT\n        invoice_id,\n        SUM(NVL(amount, 0)) AS prepay_amount\n    FROM\n        ap_invoice_distributions_all\n    WHERE\n        line_type_lookup_code = 'PREPAY'\n        AND accounting_date <= to_date('31-dec-2007','dd-mon-yyyy')\n    GROUP BY\n        invoice_id\n),\npayment_schedule_ordered AS (\n    SELECT\n        aps.invoice_id,\n        ai.invoice_num,\n        ai.invoice_date,\n        aps.payment_num,\n        aps.due_date,\n        aps.gross_amount,\n        NVL(dp.paid_amount, 0) AS paid_amount,\n        NVL(pap.prepay_amount, 0) AS prepay_amount,\n        ROW_NUMBER() OVER (PARTITION BY aps.invoice_id ORDER BY aps.due_date) AS rn\n    FROM\n        ap_payment_schedules_all aps\n        JOIN ap_invoices_all ai ON aps.invoice_id = ai.invoice_id\n        LEFT JOIN direct_payments dp ON aps.invoice_id = dp.invoice_id AND aps.payment_num = dp.payment_num\n        LEFT JOIN prepayment_applied pap ON aps.invoice_id = pap.invoice_id\n),\nallocated_schedules (\n    invoice_id,\n    invoice_num,\n    invoice_date,\n    payment_num,\n    due_date,\n    gross_amount,\n    paid_amount,\n    prepay_amount,\n    prepay_applied,\n    remaining_amount,\n    age,\n    rn\n) AS (\n    SELECT\n        invoice_id,\n        invoice_num,\n        invoice_date,\n        payment_num,\n        due_date,\n        gross_amount,\n        paid_amount,\n        prepay_amount,\n        0 AS prepay_applied,\n        gross_amount - paid_amount AS remaining_amount,\n        due_date - to_date('31-dec-2007','dd-mon-yyyy') AS age,\n        rn\n    FROM payment_schedule_ordered\n    WHERE rn = 1      UNION ALL      SELECT\n        ps.invoice_id,\n        ps.invoice_num,\n        ps.invoice_date,\n        ps.payment_num,\n        ps.due_date,\n        ps.gross_amount,\n        ps.paid_amount,\n        ps.prepay_amount,\n        CASE\n            WHEN prev.prepay_amount - prev.prepay_applied > 0 THEN\n                LEAST(ps.gross_amount - ps.paid_amount, prev.prepay_amount - prev.prepay_applied)\n            ELSE\n                0\n        END AS prepay_applied,\n        ps.gross_amount - ps.paid_amount - \n            CASE\n                WHEN prev.prepay_amount - prev.prepay_applied > 0 THEN\n                    LEAST(ps.gross_amount - ps.paid_amount, prev.prepay_amount - prev.prepay_applied)\n                ELSE\n                    0\n            END AS remaining_amount,\n        ps.due_date - to_date('31-dec-2007','dd-mon-yyyy') AS age,\n        ps.rn\n    FROM payment_schedule_ordered ps\n    JOIN allocated_schedules prev \n        ON ps.invoice_id = prev.invoice_id AND ps.rn = prev.rn + 1\n)\nSELECT\n    invoice_num,\n    invoice_id,\n    invoice_date,\n    payment_num,\n    due_date,\n    gross_amount,\n    paid_amount,\n    prepay_applied,\n    remaining_amount,\n    age\nFROM allocated_schedules\nWHERE remaining_amount <> 0\nORDER BY invoice_num, due_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "DIRECT_PAYMENTS",
        "PAYMENT_SCHEDULE_ORDERED",
        "AP_INVOICES_ALL",
        "PREPAYMENT_APPLIED",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "ALLOCATED_SCHEDULES"
      ],
      "schema_length": 3480,
      "prompt_token_estimate": 913,
      "sql_length": 3370
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002100",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find average invoice amount per vendor and ledger where distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, g.NAME AS LEDGER_NAME, AVG(i.INVOICE_AMOUNT) AS AVG_AMOUNT FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all d WHERE d.INVOICE_ID = i.INVOICE_ID AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N') GROUP BY s.VENDOR_NAME, g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4007,
      "prompt_token_estimate": 1049,
      "sql_length": 374
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000451",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List the top 10 most frequently ordered items across all suppliers.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, COUNT(*) AS order_count FROM po_lines_all pla LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id GROUP BY NVL(msi.segment1, pla.item_description) ORDER BY order_count DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINES_ALL"
      ],
      "schema_length": 5706,
      "prompt_token_estimate": 1469,
      "sql_length": 406
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002037",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find minimum invoice amount per organization */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT h.NAME AS ORG_NAME, MIN(i.INVOICE_AMOUNT) AS MIN_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID GROUP BY h.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2984,
      "prompt_token_estimate": 783,
      "sql_length": 226
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000522",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and count of POs where PO revision num is 0 (initial version).*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pha.po_header_id) AS po_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.revision_num = 0 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 762,
      "sql_length": 251
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002387",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report average number of payment installments per invoice under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AVG(PAYMENT_COUNT) AS AVG_INSTALLMENTS FROM (SELECT ai.INVOICE_ID, COUNT(DISTINCT aps.PAYMENT_NUM) AS PAYMENT_COUNT FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY ai.INVOICE_ID)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 2009,
      "prompt_token_estimate": 549,
      "sql_length": 344
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000918",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers where at least one PO distribution has NULL budget account using EXISTS.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE EXISTS ( SELECT 1 FROM po_distributions_all pod WHERE pod.po_header_id = pha.po_header_id AND pod.budget_account_id IS NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 812,
      "sql_length": 260
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001339",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total quantity cancelled by organization`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org_id, SUM(quantity_cancelled) AS total_cancelled FROM po_line_locations_all GROUP BY org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 548,
      "sql_length": 100
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000957",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and supplier names where the max transaction quantity exceeds 500 using GROUP BY and HAVING.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, MAX(rct.quantity) AS max_quantity FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name HAVING MAX(rct.quantity) > 500"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 834,
      "sql_length": 298
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000484",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs and total invoiced amount for each supplier in the last 6 months.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID = PO_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT     aps.vendor_name,     pha.segment1 AS po_number,     SUM(NVL(aid.amount, 0)) AS total_invoiced FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN ap_invoice_distributions_all aid ON pod.po_distribution_id = aid.po_distribution_id WHERE aid.accounting_date >= ADD_MONTHS(SYSDATE, -6) GROUP BY aps.vendor_name, pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7794,
      "prompt_token_estimate": 1993,
      "sql_length": 571
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001094",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and POs where transactions involve both 'RECEIVE' and 'RETURN TO SUPPLIER' types for the same PO.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type IN ('RECEIVE', 'RETURN TO SUPPLIER') GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rct.transaction_type) = 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 836,
      "sql_length": 344
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002534",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get list of items sent back to receiving for return to supplier but still not returned to supplier`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number,\n         pha.creation_date AS po_date,\n         pla.line_num AS po_line_number,\n         pla.item_id,\n         msi.segment1 AS item_code,\n         msi.description AS item_description,\n         pda.distribution_num,\n         COALESCE (rt_stagging.qty_rtn_to_staging, 0) AS qty_rtn_to_staging,\n         COALESCE (rt_vendor.qty_rtn_to_vendor, 0) AS qty_rtn_to_vendor,\n         (  COALESCE (rt_stagging.qty_rtn_to_staging, 0)\n          - COALESCE (rt_vendor.qty_rtn_to_vendor, 0))\n            AS qty_pending_rtn_to_vendor\n    FROM po_headers_all pha\n         JOIN po_lines_all pla\n            ON pha.po_header_id = pla.po_header_id\n         JOIN po_distributions_all pda\n            ON pla.po_line_id = pda.po_line_id\n         JOIN mtl_system_items_b msi\n            ON     pla.item_id = msi.inventory_item_id\n               AND msi.organization_id = pda.destination_organization_id\n         LEFT JOIN (  SELECT rt.po_distribution_id,\n                             SUM (\n                                rt.quantity * COALESCE (muc.conversion_rate, 1))\n                                AS qty_rtn_to_staging\n                        FROM rcv_transactions rt\n                             JOIN po_distributions_all pda\n                                ON rt.po_distribution_id = pda.po_distribution_id\n                             JOIN po_lines_all pla\n                                ON pda.po_line_id = pla.po_line_id\n                            left JOIN mtl_system_items_b msi\n                                ON     pla.item_id = msi.inventory_item_id\n                                   AND pda.destination_organization_id =\n                                          msi.organization_id\n                             LEFT JOIN mtl_uom_conversions muc\n                                ON     muc.inventory_item_id =\n                                          msi.inventory_item_id\n                                   AND muc.uom_code = rt.uom_code\n                        WHERE rt.transaction_type = 'RETURN TO RECEIVING'\n                    GROUP BY rt.po_distribution_id) rt_stagging\n            ON rt_stagging.po_distribution_id = pda.po_distribution_id\n         LEFT JOIN (  SELECT rt.po_distribution_id,\n                             SUM (\n                                rt.quantity * COALESCE (muc.conversion_rate, 1))\n                                AS qty_rtn_to_vendor\n                        FROM rcv_transactions rt\n                             JOIN po_distributions_all pda\n                                ON rt.po_distribution_id = pda.po_distribution_id\n                             JOIN po_lines_all pla\n                                ON pda.po_line_id = pla.po_line_id\n                             left JOIN mtl_system_items_b msi\n                                ON     pla.item_id = msi.inventory_item_id\n                                   AND pda.destination_organization_id =\n                                          msi.organization_id\n                             LEFT JOIN mtl_uom_conversions muc\n                                ON     muc.inventory_item_id =\n                                          msi.inventory_item_id\n                                   AND muc.uom_code = rt.uom_code                                   \n                       WHERE rt.transaction_type = 'RETURN TO VENDOR'\n                    GROUP BY rt.po_distribution_id) rt_vendor\n            ON rt_vendor.po_distribution_id = pda.po_distribution_id\n   WHERE (  COALESCE (rt_stagging.qty_rtn_to_staging, 0)\n         - COALESCE (rt_vendor.qty_rtn_to_vendor, 0)) > 0\nORDER BY pha.segment1, pla.line_num\n\n\nselect * from rcv_transactions"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7293,
      "prompt_token_estimate": 1873,
      "sql_length": 3655
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000845",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve item codes and PO numbers where shipment unit price is greater than 2000 and inspection status is 'ACCEPTED'.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number FROM rcv_shipment_lines rsl JOIN po_lines_all pla ON rsl.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rsl.shipment_unit_price > 2000 AND rct.inspection_status_code = 'ACCEPTED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 9751,
      "prompt_token_estimate": 2493,
      "sql_length": 576
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001930",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions by amount over 1000 */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_DISTRIBUTION_ID, AMOUNT FROM ap_invoice_distributions_all WHERE AMOUNT > 1000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 323,
      "sql_length": 92
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001360",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count shipments where tax was overridden and the amount is greater than 10,000`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(line_location_id) AS overridden_large_tax FROM po_line_locations_all WHERE tax_user_override_flag = 'Y' AND amount > 10000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 557,
      "sql_length": 135
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002083",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List invoices with mismatched terms between invoice and supplier site */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, s.VENDOR_NAME, t.NAME AS INVOICE_TERMS, ss.TERMS_ID AS SUPPLIER_SITE_TERMS_ID FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE i.TERMS_ID <> ss.TERMS_ID"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3023,
      "prompt_token_estimate": 799,
      "sql_length": 315
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002587",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me month wise period movement actuals for ACCOUNT 7360 for ledger Vision Operations (USA) between jan 2008 and mar 2008 along with growth month on month`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Table PERIOD_MOVEMENT schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH period_movement AS ( SELECT TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, SUM(NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS movement_in_accounting_period FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE GCC.segment3 = '7360' AND LED.NAME = 'Vision Operations (USA)' AND GP.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Jan-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND GP.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL and bal.currency_code = led.currency_code GROUP BY TO_CHAR(GP.START_DATE, 'YYYY-MM') ) SELECT period, movement_in_accounting_period, (movement_in_accounting_period - LAG(movement_in_accounting_period) OVER (ORDER BY period)) / NULLIF(LAG(movement_in_accounting_period) OVER (ORDER BY period), 0) * 100 AS month_on_month_growth FROM period_movement ORDER BY period"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "PERIOD_MOVEMENT"
      ],
      "schema_length": 1688,
      "prompt_token_estimate": 487,
      "sql_length": 1332
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002554",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Items Frequently Purchased (At Least Twice a Month) in 2007`\n\n### Database Schema\n-- Table PURCHASE_COUNTS schema not available\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH purchase_counts AS ( SELECT pla.item_id, msi.segment1 AS item_code, msi.description AS item_description, TO_CHAR(pha.creation_date, 'YYYY-MM') AS purchase_month, COUNT(DISTINCT pha.segment1) AS po_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id WHERE pha.approved_flag = 'Y' AND pha.creation_date BETWEEN DATE '2007-01-01' AND DATE '2007-12-31' GROUP BY pla.item_id, msi.segment1, msi.description, TO_CHAR(pha.creation_date, 'YYYY-MM') HAVING COUNT(DISTINCT pha.segment1) >= 2 ) SELECT item_code, item_description, purchase_month, po_count FROM purchase_counts ORDER BY item_code, purchase_month"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PURCHASE_COUNTS",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 4234,
      "prompt_token_estimate": 1099,
      "sql_length": 710
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002300",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors with the highest number of distinct invoices paid via EFT in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(DISTINCT ai.INVOICE_ID) AS EFT_INVOICE_COUNT FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.PAYMENT_METHOD_LOOKUP_CODE = 'EFT' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME ORDER BY EFT_INVOICE_COUNT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4645,
      "prompt_token_estimate": 1210,
      "sql_length": 496
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001828",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under 'Vision Operations' for vendor type 'SUPPLIER'`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND s.VENDOR_TYPE_LOOKUP_CODE = 'SUPPLIER'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 757,
      "sql_length": 290
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000175",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get organizations where organization name includes 'Main' (case-insensitive).`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM org_organization_definitions WHERE organization_name like '%Main%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 139,
      "sql_length": 80
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002221",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get THE LSIT OF PREPAYMENTS invoices and balances as  AS ON DATE */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table VALID_PREPAYMENTS schema not available\n\n-- Table DUAL schema not available\n\n-- Table CUT_OFF schema not available\n\n-- Table CONSUMED_PREPAYMENTS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH cut_off AS ( SELECT TO_DATE('2024-12-31', 'YYYY-MM-DD') AS as_of_date FROM dual ), valid_prepayments AS ( SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, ai.INVOICE_AMOUNT, ai.AMOUNT_PAID, ai.VENDOR_ID, s.VENDOR_NAME, ai.GL_DATE FROM ap_invoices_all ai JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN cut_off c ON 1=1 WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'PREPAYMENT' AND ai.AMOUNT_PAID = ai.INVOICE_AMOUNT AND ai.GL_DATE <= c.as_of_date ), consumed_prepayments AS ( SELECT prepay_dist.INVOICE_ID, SUM(aid.AMOUNT) AS CONSUMED_AMOUNT FROM ap_invoice_distributions_all aid JOIN ap_invoice_distributions_all prepay_dist ON aid.PREPAY_DISTRIBUTION_ID = prepay_dist.INVOICE_DISTRIBUTION_ID JOIN cut_off c ON 1=1 WHERE aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND aid.ACCOUNTING_DATE <= c.as_of_date GROUP BY prepay_dist.INVOICE_ID ) SELECT vp.INVOICE_NUM AS PREPAYMENT_INVOICE_NUM, vp.INVOICE_DATE AS PREPAYMENT_INVOICE_DATE, vp.INVOICE_AMOUNT, vp.AMOUNT_PAID, vp.VENDOR_NAME, NVL(cp.CONSUMED_AMOUNT, 0) AS CONSUMED_AMOUNT, vp.INVOICE_AMOUNT - NVL(cp.CONSUMED_AMOUNT, 0) AS BALANCE_REMAINING FROM valid_prepayments vp LEFT JOIN consumed_prepayments cp ON vp.INVOICE_ID = cp.INVOICE_ID WHERE vp.INVOICE_AMOUNT - NVL(cp.CONSUMED_AMOUNT, 0) > 0 ORDER BY vp.VENDOR_NAME, vp.INVOICE_NUM"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "VALID_PREPAYMENTS",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "DUAL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "CUT_OFF",
        "CONSUMED_PREPAYMENTS"
      ],
      "schema_length": 3905,
      "prompt_token_estimate": 1019,
      "sql_length": 1290
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001960",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find withholding tax (AWT) distributions under invoices approved for 'Vision Supplies' vendor */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT d.INVOICE_DISTRIBUTION_ID, i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'AWT' AND i.APPROVAL_STATUS = 'APPROVED' AND s.VENDOR_NAME = 'Vision Supplies'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 982,
      "sql_length": 297
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002072",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 10 suppliers by total withholding tax (AWT) applied */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(d.AMOUNT) AS TOTAL_AWT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'AWT' GROUP BY s.VENDOR_NAME ORDER BY TOTAL_AWT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 974,
      "sql_length": 297
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001886",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find approved invoices in 'Vision US Ledger'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, a.INVOICE_AMOUNT, g.NAME AS LEDGER_NAME FROM ap_invoices_all a JOIN gl_ledgers g ON a.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE g.NAME = 'Vision US Ledger' AND a.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 1665,
      "prompt_token_estimate": 453,
      "sql_length": 206
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000919",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers where at least one PO distribution has NULL budget account using EXISTS.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE EXISTS ( SELECT 1 FROM po_distributions_all pod WHERE pod.po_header_id = pha.po_header_id AND pod.budget_account_id IS NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 812,
      "sql_length": 260
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000296",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all distinct approval statuses.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT approved_flag FROM po_headers_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 190,
      "sql_length": 49
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002024",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find count of invoices under 'Vision Operations' by payment terms */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT t.NAME AS TERMS_NAME, COUNT(DISTINCT i.INVOICE_ID) AS INVOICE_COUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY t.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_TERMS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3024,
      "prompt_token_estimate": 799,
      "sql_length": 327
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000983",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers, PO numbers, and items where the same PO has more than 3 distinct items received using HAVING.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS item_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) > 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 8997,
      "prompt_token_estimate": 2303,
      "sql_length": 627
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001358",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Subquery: Find shipments with quantity greater than max quantity for a specific PO header`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id, quantity FROM po_line_locations_all WHERE quantity > (SELECT MAX(quantity) FROM po_line_locations_all WHERE po_header_id = 123)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 560,
      "sql_length": 152
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002022",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find count of invoices under 'Vision Operations' by payment terms */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table AP_TERMS schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT t.NAME AS TERMS_NAME, COUNT(DISTINCT i.INVOICE_ID) AS INVOICE_COUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY t.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_TERMS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3024,
      "prompt_token_estimate": 799,
      "sql_length": 327
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000394",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers with POs that have not been received yet.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT aps.vendor_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id WHERE rsl.shipment_line_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1160,
      "sql_length": 274
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002358",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify top suppliers by total number of payments across all methods in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(aip.INVOICE_PAYMENT_ID) AS TOTAL_PAYMENTS FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME ORDER BY TOTAL_PAYMENTS DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3172,
      "prompt_token_estimate": 842,
      "sql_length": 393
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000678",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve items and their latest PO details where the subinventory is 'RAW_MATERIALS'.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number, pla.unit_price FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND rct.organization_id= msi.organization_id WHERE pod.destination_subinventory = 'RAW_MATERIALS' AND pha.creation_date = (SELECT MAX(creation_date) FROM po_headers_all)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 8054,
      "prompt_token_estimate": 2061,
      "sql_length": 575
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001618",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find transactions where USER_ENTERED_FLAG is 'N' and PO_UNIT_PRICE < 50.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, user_entered_flag, po_unit_price, po_header_id FROM rcv_transactions WHERE user_entered_flag = 'N' AND po_unit_price < 50"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 389,
      "sql_length": 162
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001033",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and supplier names where at least 3 transactions were recorded by a specific employee (e.g., EMPLOYEE_ID = 101).*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, count(*) AS txn_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.employee_id = 101 GROUP BY pha.segment1, aps.vendor_name HAVING count(*) >= 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 840,
      "sql_length": 304
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000267",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get the period year, start date end date of each period given the ledger name`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT gp.PERIOD_YEAR, MIN(gp.START_DATE) AS YEAR_START_DATE, MAX(gp.END_DATE) AS YEAR_END_DATE FROM GL_LEDGERS gl JOIN GL_PERIODS gp ON gp.PERIOD_SET_NAME = gl.PERIOD_SET_NAME AND gp.PERIOD_TYPE = gl.ACCOUNTED_PERIOD_TYPE WHERE UPPER(gl.NAME) = 'VISION OPERATIONS' GROUP BY gp.PERIOD_YEAR ORDER BY gp.PERIOD_YEAR"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_PERIODS",
        "GL_LEDGERS"
      ],
      "schema_length": 916,
      "prompt_token_estimate": 274,
      "sql_length": 313
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000288",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get average revision number per document type.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT type_lookup_code, AVG(revision_num) AS avg_revision FROM po_headers_all GROUP BY type_lookup_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 192,
      "sql_length": 104
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002021",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find count of invoices by ledger with validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, COUNT(DISTINCT i.INVOICE_ID) AS VALIDATED_COUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N') GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2911,
      "prompt_token_estimate": 769,
      "sql_length": 358
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000096",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all unique short_codes with their length.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT short_code, LENGTH(short_code) AS code_length FROM hr_operating_units"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 108,
      "sql_length": 85
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002074",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all approved invoices with vendor name, site, ledger name, and terms */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, g.NAME AS LEDGER_NAME, t.NAME AS TERMS_NAME FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE i.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3301,
      "prompt_token_estimate": 870,
      "sql_length": 375
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000379",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all POs created between two dates along with item codes and supplier names.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number,        pha.creation_date,        aps.vendor_name,        NVL(msi.segment1, pla.item_description) AS item_code FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN mtl_system_items_b msi     ON pla.item_id = msi.inventory_item_id     AND plla.ship_to_organization_id = msi.organization_id WHERE pha.creation_date BETWEEN TO_DATE('2024-01-01','YYYY-MM-DD')                           AND TO_DATE('2024-03-31','YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1949,
      "sql_length": 618
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000459",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and total returned quantity in the last 3 months.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, SUM(rct.quantity) AS total_returned FROM rcv_transactions rct JOIN ap_suppliers aps ON rct.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RETURN TO SUPPLIER' AND rct.transaction_date >= ADD_MONTHS(SYSDATE, -3) GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2423,
      "prompt_token_estimate": 648,
      "sql_length": 267
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000068",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count ledgers grouped by currency_code and filter those where total ledgers are between 2 and 5.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, COUNT(*) AS ledger_count FROM gl_ledgers GROUP BY currency_code HAVING COUNT(*) BETWEEN 2 AND 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 119,
      "sql_length": 117
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001636",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Using CTE: Add a net quantity column (PRIMARY_QUANTITY - SECONDARY_QUANTITY).`\n\n### Database Schema\n-- Table NET_CTE schema not available\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH net_cte AS ( SELECT transaction_id, primary_quantity, secondary_quantity, (primary_quantity - COALESCE(secondary_quantity, 0)) AS net_qty FROM rcv_transactions ) SELECT * FROM net_cte"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "NET_CTE",
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1421,
      "prompt_token_estimate": 400,
      "sql_length": 188
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000872",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find PO lines with the highest unit price per supplier using ROW_NUMBER and 6 tables.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT aps.vendor_name, pha.segment1 AS po_number, pla.po_line_id, pla.unit_price, ROW_NUMBER() OVER (PARTITION BY aps.vendor_name ORDER BY pla.unit_price DESC) AS rn FROM po_lines_all pla JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON pla.po_line_id = pod.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND pod.destination_organization_id = msi.organization_id ) WHERE rn = 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 9149,
      "prompt_token_estimate": 2335,
      "sql_length": 600
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001825",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find USD invoices under 'Vision Operations' with vendor name and site code`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.INVOICE_CURRENCY_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_CURRENCY_CODE = 'USD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 878,
      "sql_length": 372
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001690",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions where PO_UNIT_PRICE > 500 and AMOUNT > 1000.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, po_unit_price, amount FROM rcv_transactions WHERE po_unit_price > 500 AND amount > 1000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 387,
      "sql_length": 110
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002583",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `can you give me month wise opening balance, movement and  closing balance only between mar 08 and apr 08 for all expense accounts at segment2 level for ledger id 1`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table PERIOD_MOVEMENT schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH period_movement AS ( SELECT TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, GCC.segment2 AS account_segment2, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0)) AS opening_balance, SUM(NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS movement_in_accounting_period, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0) + NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS closing_balance FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE LED.LEDGER_ID = 1 AND GCC.account_type = 'E' AND GP.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND GP.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Apr-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL AND BAL.CURRENCY_CODE = LED.CURRENCY_CODE GROUP BY TO_CHAR(GP.START_DATE, 'YYYY-MM'), GCC.segment2 ) SELECT period, account_segment2, MAX(CASE WHEN period = '2008-03' THEN opening_balance END) AS \"Mar-08 Opening\", MAX(CASE WHEN period = '2008-03' THEN movement_in_accounting_period END) AS \"Mar-08 Movement\", MAX(CASE WHEN period = '2008-03' THEN closing_balance END) AS \"Mar-08 Closing\", MAX(CASE WHEN period = '2008-04' THEN opening_balance END) AS \"Apr-08 Opening\", MAX(CASE WHEN period = '2008-04' THEN movement_in_accounting_period END) AS \"Apr-08 Movement\", MAX(CASE WHEN period = '2008-04' THEN closing_balance END) AS \"Apr-08 Closing\" FROM period_movement GROUP BY period,account_segment2 ORDER BY account_segment2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "PERIOD_MOVEMENT"
      ],
      "schema_length": 1688,
      "prompt_token_estimate": 488,
      "sql_length": 1933
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001454",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the sum of quantity cancelled grouped by destination subinventory.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT destination_subinventory, SUM(quantity_cancelled) AS total_cancelled FROM po_distributions_all GROUP BY destination_subinventory"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 351,
      "sql_length": 135
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002523",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List closed shipments by item and vendor`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT loc.closed_date, loc.shipment_type, m.description AS item_description, v.vendor_name FROM po_line_locations_all loc JOIN po_lines_all l ON loc.po_line_id = l.po_line_id JOIN po_distributions_all pd on loc.line_location_id = pd.line_location_id JOIN mtl_system_items_b m ON l.item_id = m.inventory_item_id AND pd.destination_organization_id = m.organization_id JOIN po_headers_all h ON l.po_header_id = h.po_header_id JOIN ap_suppliers v ON h.vendor_id = v.vendor_id WHERE COALESCE(loc.closed_flag, 'N') = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 9149,
      "prompt_token_estimate": 2323,
      "sql_length": 515
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000272",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `show all invoie distributions lines for the period jan-07`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- GL_CODE_COMBINATIONS.CODE_COMBINATION_ID = AP_INVOICE_DISTRIBUTIONS_ALL.DIST_CODE_COMBINATION_ID\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_num, ai.invoice_date, aid.accounting_date, ai.invoice_amount, gl.name AS ledger_name, gp.period_name, gp.start_date, gp.end_date, hou.name AS operating_unit, aid.line_type_lookup_code, ai.invoice_type_lookup_code, aid.amount, gcc.segment3 AS account FROM ap_invoices_all ai JOIN hr_operating_units hou ON ai.org_id = hou.organization_id JOIN gl_ledgers gl ON ai.set_of_books_id = gl.ledger_id JOIN gl_periods gp ON gl.period_set_name = gp.period_set_name AND gl.accounted_period_type = gp.period_type JOIN ap_invoice_distributions_all aid ON ai.invoice_id = aid.invoice_id JOIN gl_code_combinations gcc ON aid.dist_code_combination_id = gcc.code_combination_id WHERE UPPER(hou.name) = 'VISION OPERATIONS' AND gp.period_name = 'Jan-07' AND aid.accounting_date BETWEEN gp.start_date AND gp.end_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 4305,
      "prompt_token_estimate": 1116,
      "sql_length": 814
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002228",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get top 10 vendors with most payments made */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(aip.INVOICE_PAYMENT_ID) AS PAYMENT_COUNT FROM ap_invoice_payments_all aip JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID GROUP BY s.VENDOR_NAME ORDER BY PAYMENT_COUNT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 2821,
      "prompt_token_estimate": 742,
      "sql_length": 285
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002451",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total Accrual Reversals for a Given Month ACCRUAL lines reverse earlier expense booking done during goods receipt`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT TO_CHAR(aid.accounting_date, 'YYYY-MM') AS accounting_month, SUM(aid.amount) AS total_accrual_reversal FROM ap_invoice_distributions_all aid WHERE aid.line_type_lookup_code = 'ACCRUAL' AND aid.accounting_date BETWEEN TO_DATE('2024-03-01', 'YYYY-MM-DD') AND TO_DATE('2024-03-31', 'YYYY-MM-DD') GROUP BY TO_CHAR(aid.accounting_date, 'YYYY-MM')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 341,
      "sql_length": 348
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001789",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find debit memos under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, a.INVOICE_TYPE_LOOKUP_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_TYPE_LOOKUP_CODE = 'DEBIT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1762,
      "prompt_token_estimate": 477,
      "sql_length": 225
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001976",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find all CREDIT invoices with validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'CREDIT' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 698,
      "sql_length": 274
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002684",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List overdue invoices by days, including vendor and operating unit  as of today or current or  latest or system date`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, s.VENDOR_NAME, aps.DUE_DATE, SYSDATE - aps.DUE_DATE AS DAYS_OVERDUE, h.NAME AS OPERATING_UNIT FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aps.DUE_DATE < SYSDATE AND aps.AMOUNT_REMAINING > 0 AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND AP_INVOICES_PKG.GET_APPROVAL_STATUS( ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE ) = 'APPROVED' AND ai.wfapproval_status IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED') AND ai.CANCELLED_DATE IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 831,
      "sql_length": 670
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001814",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendors of type 'WITHHOLDING'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_TYPE_LOOKUP_CODE = 'WITHHOLDING'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 664,
      "sql_length": 182
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000393",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers with POs that have not been received yet.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT aps.vendor_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id WHERE rsl.shipment_line_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1160,
      "sql_length": 274
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002542",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Give me the list of items that are frequently purchased say more than once in a month fo the last few months`\n\n### Database Schema\n-- Table ITEMS_PURCHASED_ALL_MONTHS schema not available\n\n-- Table MONTHLY_PURCHASE_COUNT schema not available\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Table PURCHASE_DATA schema not available\n\n-- Table POH schema not available\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH purchase_data AS (SELECT pol.item_id, pol.item_description, poh.segment1 AS po_number, poh.creation_date, EXTRACT(MONTH FROM poh.creation_date) AS purchase_month, EXTRACT(YEAR FROM poh.creation_date) AS purchase_year FROM po_headers_all poh JOIN po_lines_all pol ON poh.po_header_id = pol.po_header_id WHERE poh.approved_flag = 'Y' AND poh.creation_date BETWEEN DATE '2007-01-01' AND DATE '2007-12-31' /* Only consider approved POs in 2007 */), monthly_purchase_count AS (SELECT item_id, item_description, purchase_month, COUNT(DISTINCT po_number) AS purchase_count FROM purchase_data GROUP BY item_id, item_description, purchase_month /* Count unique POs per item per month */), items_purchased_all_months AS (SELECT item_id, item_description FROM monthly_purchase_count WHERE purchase_count >= 1 /* Change to > 1 for higher frequency */ GROUP BY item_id, item_description HAVING COUNT(DISTINCT purchase_month) = 12 /* Only include items purchased in all 12 months */) SELECT m.item_id, m.item_description, SUM(CASE WHEN m.purchase_month = 1 THEN m.purchase_count ELSE 0 END) AS Jan, SUM(CASE WHEN m.purchase_month = 2 THEN m.purchase_count ELSE 0 END) AS Feb, SUM(CASE WHEN m.purchase_month = 3 THEN m.purchase_count ELSE 0 END) AS Mar, SUM(CASE WHEN m.purchase_month = 4 THEN m.purchase_count ELSE 0 END) AS Apr, SUM(CASE WHEN m.purchase_month = 5 THEN m.purchase_count ELSE 0 END) AS May, SUM(CASE WHEN m.purchase_month = 6 THEN m.purchase_count ELSE 0 END) AS Jun, SUM(CASE WHEN m.purchase_month = 7 THEN m.purchase_count ELSE 0 END) AS Jul, SUM(CASE WHEN m.purchase_month = 8 THEN m.purchase_count ELSE 0 END) AS Aug, SUM(CASE WHEN m.purchase_month = 9 THEN m.purchase_count ELSE 0 END) AS Sep, SUM(CASE WHEN m.purchase_month = 10 THEN m.purchase_count ELSE 0 END) AS Oct, SUM(CASE WHEN m.purchase_month = 11 THEN m.purchase_count ELSE 0 END) AS Nov, SUM(CASE WHEN m.purchase_month = 12 THEN m.purchase_count ELSE 0 END) AS Dec FROM monthly_purchase_count m JOIN items_purchased_all_months a ON m.item_id = a.item_id GROUP BY m.item_id, m.item_description ORDER BY m.item_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ITEMS_PURCHASED_ALL_MONTHS",
        "MONTHLY_PURCHASE_COUNT",
        "PO_LINES_ALL",
        "PURCHASE_DATA",
        "POH",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 1958,
      "prompt_token_estimate": 542,
      "sql_length": 2085
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002450",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total Non-Recoverable Tax for a Given Month NONREC_TAX lines represent tax paid but not reclaimable (expense)`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT TO_CHAR(aid.accounting_date, 'YYYY-MM') AS accounting_month, SUM(aid.amount) AS total_nonrecoverable_tax FROM ap_invoice_distributions_all aid WHERE aid.line_type_lookup_code = 'NONREC_TAX' AND aid.accounting_date BETWEEN TO_DATE('2024-03-01', 'YYYY-MM-DD') AND TO_DATE('2024-03-31', 'YYYY-MM-DD') GROUP BY TO_CHAR(aid.accounting_date, 'YYYY-MM')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 340,
      "sql_length": 353
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000924",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and PO numbers where shipments have missing bill of lading and total containers > 0.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.bill_of_lading IS NULL AND rsh.num_of_containers > 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 635,
      "sql_length": 266
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001823",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices over 5000 under 'Vision Operations' with vendor name and site code`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.INVOICE_AMOUNT, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_AMOUNT > 5000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 879,
      "sql_length": 357
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002480",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me the list of invoices that are not approved to date by more than 15 days`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.INVOICE_ID = AP_INV_APRVL_HIST_ALL.INVOICE_ID\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INV_APRVL_HIST_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_num, ai.invoice_date, ai.creation_date, aps.vendor_name, (CURRENT_DATE - ai.creation_date) AS days_pending, CASE WHEN ah.response IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') THEN 'Approved' ELSE 'Pending' END AS approval_status FROM ap_invoices_all ai JOIN ap_suppliers aps ON ai.vendor_id = aps.vendor_id LEFT JOIN ap_inv_aprvl_hist_all ah ON ai.invoice_id = ah.invoice_id AND ah.approval_history_id = ( SELECT MAX(ah2.approval_history_id) FROM ap_inv_aprvl_hist_all ah2 WHERE ah2.invoice_id = ai.invoice_id AND ah2.history_type = 'DOCUMENTAPPROVAL' ) WHERE (ah.response NOT IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') OR ah.response IS NULL) AND (CURRENT_DATE - ai.creation_date) > 15 ORDER BY ai.creation_date DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_INV_APRVL_HIST_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3185,
      "prompt_token_estimate": 842,
      "sql_length": 749
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002099",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List vendors whose invoices have been approved both manually and via workflow */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT s.VENDOR_NAME FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE i.WFAPPROVAL_STATUS IN ('MANUALLY APPROVED', 'WFAPPROVED')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 672,
      "sql_length": 166
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000691",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers, items, and UOM where conversion rate is less than 1.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, muc.unit_of_measure FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN mtl_uom_conversions muc ON msi.inventory_item_id = muc.inventory_item_id WHERE muc.conversion_rate < 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6787,
      "prompt_token_estimate": 1740,
      "sql_length": 495
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001144",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and suppliers where total received value (qty \u00d7 unit price) exceeds 2 million.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, SUM(rct.quantity * rct.po_unit_price) AS received_value FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING SUM(rct.quantity * rct.po_unit_price) > 2000000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 830,
      "sql_length": 344
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001594",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find lines where item_description includes 'Battery' and unit_of_measure is 'EA'.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_line_id, shipment_header_id, item_description, unit_of_measure FROM rcv_shipment_lines WHERE item_description like '%Battery%' AND unit_of_measure = 'EA'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 419,
      "sql_length": 169
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000097",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Rank ledgers by number of operating units linked.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT set_of_books_id, count(*) AS unit_count, RANK() OVER (ORDER BY count(*) DESC) AS ledger_rank FROM hr_operating_units GROUP BY set_of_books_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 109,
      "sql_length": 148
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000343",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show distinct currency codes used for approved POs.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT currency_code FROM po_headers_all WHERE approved_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 194,
      "sql_length": 75
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001256",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO lines where qty_rcv_tolerance is greater than 10%.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE qty_rcv_tolerance > 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 290,
      "sql_length": 64
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001304",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get inventory organizations,operating units and  segment1 which is po number (purchse order number),item details etc for jan07`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date, pha.authorization_status, pla.item_description, pla.quantity, hou.name AS operating_unit_name, ood.organization_name AS inventory_organization_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN hr_operating_units hou ON pla.org_id = hou.organization_id JOIN org_organization_definitions ood ON plla.ship_to_organization_id = ood.organization_id WHERE pha.creation_date BETWEEN TO_DATE('01-JAN-2007', 'DD-MON-YYYY') AND TO_DATE('31-JAN-2007', 'DD-MON-YYYY')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 4985,
      "prompt_token_estimate": 1303,
      "sql_length": 621
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001624",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find transactions where PRIMARY_QUANTITY > 500 and DESTINATION_TYPE_CODE = 'INVENTORY'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, primary_quantity, destination_type_code FROM rcv_transactions WHERE primary_quantity > 500 AND destination_type_code = 'INVENTORY'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 393,
      "sql_length": 171
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001332",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total quantity shipped, grouped by unit of measure`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_meas_lookup_code, SUM(quantity_shipped) AS total_shipped FROM po_line_locations_all GROUP BY unit_meas_lookup_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 551,
      "sql_length": 126
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000095",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count operating units where short_code does not start with 'HQ'.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS non_hq_units FROM hr_operating_units WHERE short_code NOT LIKE 'HQ%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 113,
      "sql_length": 87
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001909",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR PERIOD JUN07`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID LEFT JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID LEFT JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD' AND ai.GL_DATE BETWEEN TO_DATE('01-JUN-2007','DD-MON-YYYY') AND TO_DATE('30-JUN-2007','DD-MON-YYYY') AND hou.NAME = 'Vision Operations'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3782,
      "prompt_token_estimate": 982,
      "sql_length": 1055
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000697",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and total PO value for shipments created within the last 6 months.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, SUM(pla.unit_price * pla.quantity) AS total_po_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.creation_date >= ADD_MONTHS(SYSDATE, -6) GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 762,
      "sql_length": 292
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001834",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under 'Vision Operations' for vendor type 'CONTRACTOR'`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND s.VENDOR_TYPE_LOOKUP_CODE = 'CONTRACTOR'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 757,
      "sql_length": 292
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000374",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers with latest revision_num per org_id using a CTE.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Table MAX_REV schema not available\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH max_rev AS (SELECT org_id, MAX(revision_num) AS max_rev FROM po_headers_all GROUP BY org_id) SELECT p.segment1 AS purchase_order_no, p.org_id FROM po_headers_all p JOIN max_rev m ON p.org_id = m.org_id AND p.revision_num = m.max_rev"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "MAX_REV"
      ],
      "schema_length": 660,
      "prompt_token_estimate": 207,
      "sql_length": 237
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002623",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `can you give list of top 10 vendors from whom we purchased most in mar-07 along with purchase value`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM (  SELECT aps.vendor_name, SUM (pda.quantity_ordered * pla.unit_price * nvl(pha.rate,1)) AS total_purchase_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id join hr_operating_units hou on pha.org_id = hou.organization_id JOIN gl_periods gp ON pha.creation_date BETWEEN gp.start_date AND gp.end_date WHERE     pha.approved_flag = 'Y' AND gp.period_name = 'Mar-07' AND gp.period_set_name = (SELECT period_set_name FROM gl_ledgers WHERE ledger_id = hou.set_of_books_id) AND gp.period_type = (SELECT accounted_period_type FROM gl_ledgers WHERE ledger_id = hou.set_of_books_id) GROUP BY aps.vendor_name ORDER BY total_purchase_value DESC) WHERE ROWNUM <= 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "GL_LEDGERS",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 5661,
      "prompt_token_estimate": 1466,
      "sql_length": 827
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001844",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total invoice amount by vendor under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(a.INVOICE_AMOUNT) AS TOTAL_AMOUNT FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.ORGANIZATION_ID JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 754,
      "sql_length": 259
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002437",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Current aging summary for vendor type: OTHER (fallback if needed) */`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    s.VENDOR_NAME AS \"VENDOR_NAME\",\n    s.VENDOR_TYPE_LOOKUP_CODE AS \"VENDOR_TYPE\",\n    SUM(CASE WHEN aps.DUE_DATE > SYSDATE THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"CURRENT\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 30 AND SYSDATE THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_1_30\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 60 AND SYSDATE - 31 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_31_60\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 90 AND SYSDATE - 61 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_61_90\",\n    SUM(CASE WHEN aps.DUE_DATE < SYSDATE - 90 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_90_PLUS\"\nFROM \n    ap_suppliers s\n    JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID\n    JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID\nWHERE \n    s.VENDOR_TYPE_LOOKUP_CODE NOT IN ('VENDOR','EMPLOYEE','GOVERNMENT','TAX AUTHORITY')\n    AND aps.AMOUNT_REMAINING > 0\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED', 'MANUALLY APPROVED', 'NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL\nGROUP BY \n    s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2754,
      "prompt_token_estimate": 731,
      "sql_length": 1322
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002069",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices where total amount variance (IPV + TRV) exceeds 1000 */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, SUM(NVL(d.AMOUNT_VARIANCE, 0)) AS TOTAL_VARIANCE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE d.LINE_TYPE_LOOKUP_CODE IN ('IPV', 'TRV') GROUP BY i.INVOICE_NUM HAVING SUM(NVL(d.AMOUNT_VARIANCE, 0)) > 1000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 701,
      "sql_length": 276
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001451",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions for a specific organization that have zero amount delivered and non-zero amount ordered.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE destination_organization_id = 400 AND amount_delivered = 0 AND amount_ordered > 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 360,
      "sql_length": 122
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000780",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and item codes where the total received quantity exceeds the ordered quantity.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, SUM(rct.quantity) AS total_received, pla.quantity AS ordered_quantity FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id GROUP BY pha.segment1, NVL(msi.segment1, pla.item_description), pla.quantity HAVING SUM(rct.quantity) > pla.quantity"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2025,
      "sql_length": 620
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001821",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find unpaid invoices under 'Vision Operations' with vendor name and site code`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.PAYMENT_STATUS_FLAG, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.PAYMENT_STATUS_FLAG = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 878,
      "sql_length": 366
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000792",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and their total PO count where destination type is 'INVENTORY' and PO unit price is above 1000.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        COUNT(DISTINCT pha.po_header_id) AS po_count FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla     ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod     ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps     ON pha.vendor_id = aps.vendor_id WHERE pod.destination_type_code = 'INVENTORY'   AND pla.unit_price > 1000 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1691,
      "sql_length": 476
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002443",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get the ap invoices data along with suppliers and supplier sites`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_id, ai.invoice_num, ai.invoice_date, ai.invoice_amount, aps.vendor_name, assa.vendor_site_code FROM ap_invoices_all ai JOIN ap_suppliers aps ON ai.vendor_id = aps.vendor_id JOIN ap_supplier_sites_all assa ON ai.vendor_site_id = assa.vendor_site_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2983,
      "prompt_token_estimate": 787,
      "sql_length": 265
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001201",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total number of cancelled PO lines.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS cancelled_lines FROM po_lines_all WHERE cancel_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 284,
      "sql_length": 76
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000996",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where shipments have a NULL freight bill number and more than 10 containers.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.freight_bill_number IS NULL AND rsh.num_of_containers > 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 635,
      "sql_length": 272
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002131",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under 'Vision Operations' with total distribution amount mismatch */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, i.INVOICE_AMOUNT, SUM(d.AMOUNT) AS DISTRIBUTION_TOTAL FROM ap_invoices_all i JOIN ap_invoice_distributions_all d ON i.INVOICE_ID = d.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY i.INVOICE_NUM, i.INVOICE_AMOUNT HAVING SUM(d.AMOUNT) <> i.INVOICE_AMOUNT"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2984,
      "prompt_token_estimate": 792,
      "sql_length": 352
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001413",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions where the accrued flag is 'Y' and group by destination type code.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT destination_type_code AS \"Destination Type\", COUNT(*) AS \"Accrued Count\" FROM po_distributions_all WHERE accrued_flag = 'Y' GROUP BY destination_type_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 354,
      "sql_length": 161
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001548",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List shipments where expected receipt date is more than 90 days after shipped date.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT creation_date,        receipt_source_code,        vendor_id,        vendor_site_id,        organization_id,        shipment_num,        receipt_num,        ship_to_location_id,        bill_of_lading,        packing_slip,        shipped_date,        expected_receipt_date,        employee_id,        num_of_containers,        waybill_airbill_num,        comments,        asn_type,        freight_bill_number,        invoice_status_code,        asn_status FROM rcv_shipment_headers WHERE expected_receipt_date > shipped_date + 90"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 595,
      "prompt_token_estimate": 195,
      "sql_length": 534
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001535",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find shipments where expected receipt date is within 30 days of shipped date.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT creation_date,        receipt_source_code,        vendor_id,        vendor_site_id,        organization_id,        shipment_num,        receipt_num,        ship_to_location_id,        bill_of_lading,        packing_slip,        shipped_date,        expected_receipt_date,        employee_id,        num_of_containers,        waybill_airbill_num,        comments,        asn_type,        freight_bill_number,        invoice_status_code,        asn_status FROM rcv_shipment_headers WHERE expected_receipt_date BETWEEN shipped_date AND shipped_date + 30"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 595,
      "prompt_token_estimate": 194,
      "sql_length": 557
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000241",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get all conversions where the unit of measure is exactly 'Square Meter'.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code AS \"Transaction UOM Code\", uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE unit_of_measure = 'Square Meter'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 90,
      "sql_length": 169
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000163",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find organizations where chart of accounts ID is NULL but inventory is enabled.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM org_organization_definitions WHERE chart_of_accounts_id IS NULL AND inventory_enabled_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 140,
      "sql_length": 110
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000366",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get POs approved in the last 7 days.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no FROM po_headers_all WHERE approved_date >= (SYSDATE - 7)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 190,
      "sql_length": 93
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002165",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors who have more than 10 invoices pending approval */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT() AS PENDING_COUNT FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE i.APPROVAL_STATUS = 'PENDING' GROUP BY s.VENDOR_NAME HAVING COUNT() > 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 668,
      "sql_length": 197
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001230",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO lines where tax is applicable and tax_name like 'GST%'.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id, tax_name FROM po_lines_all WHERE taxable_flag = 'Y' AND tax_name LIKE 'GST%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 291,
      "sql_length": 95
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002592",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `to get the converted translated trial balance into a different currency for example usd trial balance into ggp following the is query`\n\n### Database Schema\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\nCREATE TABLE GL_DAILY_RATES (\n    FROM_CURRENCY VARCHAR,\n    TO_CURRENCY VARCHAR,\n    CONVERSION_DATE DATE,\n    CONVERSION_RATE NUMBER,\n    CONVERSION_TYPE VARCHAR\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Table TRIAL_BALANCE schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH trial_balance AS ( SELECT TO_CHAR(GP.END_DATE, 'YYYY-MM') AS period, GCC.SEGMENT3 AS account, GL_FLEXFIELDS_PKG.GET_DESCRIPTION_SQL(LED.CHART_OF_ACCOUNTS_ID, 3, GCC.SEGMENT3) AS account_desc, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0) + NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS closing_balance, GP.END_DATE AS period_end_date, LED.CURRENCY_CODE AS ledger_currency FROM GL_BALANCES BAL JOIN GL_CODE_COMBINATIONS GCC ON BAL.CODE_COMBINATION_ID = GCC.CODE_COMBINATION_ID JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.PERIOD_SET_NAME = LED.PERIOD_SET_NAME AND GP.PERIOD_TYPE = LED.ACCOUNTED_PERIOD_TYPE WHERE LED.NAME = 'Vision Operations (USA)' AND GP.START_DATE >= (SELECT START_DATE FROM GL_PERIODS WHERE PERIOD_NAME = 'Jan-08' AND PERIOD_SET_NAME = LED.PERIOD_SET_NAME AND PERIOD_TYPE = LED.ACCOUNTED_PERIOD_TYPE) AND GP.END_DATE <= (SELECT END_DATE FROM GL_PERIODS WHERE PERIOD_NAME = 'Mar-08' AND PERIOD_SET_NAME = LED.PERIOD_SET_NAME AND PERIOD_TYPE = LED.ACCOUNTED_PERIOD_TYPE) AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL AND BAL.CURRENCY_CODE = LED.CURRENCY_CODE GROUP BY TO_CHAR(GP.END_DATE, 'YYYY-MM'), GCC.SEGMENT3, GL_FLEXFIELDS_PKG.GET_DESCRIPTION_SQL(LED.CHART_OF_ACCOUNTS_ID, 3, GCC.SEGMENT3), GP.END_DATE, LED.CURRENCY_CODE ) SELECT TB.account, TB.account_desc, /* USD Closing Balances */ MAX(CASE WHEN TB.period = '2008-01' THEN TB.closing_balance END) AS \"Jan-08 Closing (USD)\", MAX(CASE WHEN TB.period = '2008-02' THEN TB.closing_balance END) AS \"Feb-08 Closing (USD)\", MAX(CASE WHEN TB.period = '2008-03' THEN TB.closing_balance END) AS \"Mar-08 Closing (USD)\",  /* Converted GBP Balances */ MAX(CASE WHEN TB.period = '2008-01' THEN TB.closing_balance * GR.CONVERSION_RATE END) AS \"Jan-08 Closing (GBP)\", MAX(CASE WHEN TB.period = '2008-02' THEN TB.closing_balance * GR.CONVERSION_RATE END) AS \"Feb-08 Closing (GBP)\", MAX(CASE WHEN TB.period = '2008-03' THEN TB.closing_balance * GR.CONVERSION_RATE END) AS \"Mar-08 Closing (GBP)\" FROM trial_balance TB LEFT JOIN GL_DAILY_RATES GR ON GR.CONVERSION_DATE = TB.period_end_date AND GR.CONVERSION_TYPE = 'Corporate' AND GR.FROM_CURRENCY = TB.ledger_currency AND GR.TO_CURRENCY = 'GBP' GROUP BY TB.account, TB.account_desc ORDER BY TB.account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "TRIAL_BALANCE",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "GL_DAILY_RATES"
      ],
      "schema_length": 1854,
      "prompt_token_estimate": 522,
      "sql_length": 2355
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000785",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and POs where shipments have over 10 containers and were shipped in the last year.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsh.num_of_containers FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.num_of_containers > 10 AND rsh.shipped_date BETWEEN ADD_MONTHS(SYSDATE, -12) AND SYSDATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 636,
      "sql_length": 325
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002570",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get trial balances of multiple ledgers when leger short names are provided`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table TRIAL_BALANCE schema not available\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH trial_balance AS ( SELECT LED.ledger_id, /* Using ledger_id for pivot */ LED.short_name AS ledger_short_name, TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, GCC.segment3 AS account, gl_flexfields_pkg.get_description_sql(LED.chart_of_accounts_id, 3, GCC.segment3) AS account_desc, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0) + NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS closing_balance FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE LED.chart_of_accounts_id = 101 /* Replace with your COA ID */ AND LED.period_set_name = 'Accounting' /*Replace with your Period Set Name*/ AND LED.accounted_period_type = 'Month' /*Replace with your Period Type*/ AND GP.PERIOD_NAME = 'Jan-05' /*Replace with your required period*/ AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL AND BAL.CURRENCY_CODE = LED.CURRENCY_CODE GROUP BY LED.ledger_id, LED.short_name, TO_CHAR(GP.START_DATE, 'YYYY-MM'), GCC.segment3, gl_flexfields_pkg.get_description_sql(LED.chart_of_accounts_id, 3, GCC.segment3) ) SELECT * FROM ( SELECT account, account_desc, ledger_short_name, closing_balance FROM trial_balance ) PIVOT ( MAX(closing_balance) FOR ledger_short_name IN ( 'Vision Operations-' AS \"Ledger A Closing\", 'Vision BR SL (USD)-' AS \"Ledger B Closing\", 'Vision IFRS/IAS Ops-' AS \"Ledger C Closing\" ) ) ORDER BY account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "TRIAL_BALANCE",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS"
      ],
      "schema_length": 1686,
      "prompt_token_estimate": 466,
      "sql_length": 1626
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000422",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve all POs, items, and total received quantity where the received quantity is less than the ordered quantity.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, SUM(rsl.quantity_received) AS total_received, pla.quantity AS ordered_quantity FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id GROUP BY pha.segment1, NVL(msi.segment1, pla.item_description), pla.quantity HAVING SUM(rsl.quantity_received) < pla.quantity"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 8291,
      "prompt_token_estimate": 2128,
      "sql_length": 640
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000515",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show POs, items, and unit prices where currency conversion rate > 1.2.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, pla.unit_price, pha.RATE currency_conversion_rate FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pha.rate > 1.2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 6518,
      "prompt_token_estimate": 1673,
      "sql_length": 443
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000014",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve ledgers and show their ledger_id and period type where the period type is not 'Monthly'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_id, accounted_period_type FROM gl_ledgers WHERE accounted_period_type <> 'Monthly'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 119,
      "sql_length": 96
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002211",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get prepayments applied e against invoice number 'abc123' */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aid.invoice_id AS standard_invoice_id, ai.invoice_num AS standard_invoice_num, aid.amount AS prepayment_applied_amount, aid.accounting_date, ppai.invoice_id AS prepayment_invoice_id, ppai.invoice_num AS prepayment_invoice_num, aid.description AS prepay_description FROM ap_invoice_distributions_all aid /* prepayment applied to standard invoice */ JOIN ap_invoices_all ai ON aid.invoice_id = ai.invoice_id /* standard invoice header */ JOIN ap_invoice_distributions_all ppd ON aid.prepay_distribution_id = ppd.invoice_distribution_id /* original prepayment distribution */ JOIN ap_invoices_all ppai ON ppd.invoice_id = ppai.invoice_id /* prepayment invoice header */ WHERE aid.line_type_lookup_code = 'PREPAY' /* restrict to prepayment lines */ AND NVL(aid.reversal_flag, 'N') <> 'Y' /* exclude reversed applications */ AND ai.cancelled_date IS NULL /* exclude cancelled standard invoices */ AND ai.invoice_num = 'abc123' /* filter for specific invoice */ ORDER BY aid.accounting_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 699,
      "sql_length": 991
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000150",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve organizations where chart of accounts ID is greater than 1000.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM org_organization_definitions WHERE chart_of_accounts_id > 1000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 138,
      "sql_length": 76
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001896",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `list of invoices along with supplier and operating unit, set of books and validation status`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID LEFT JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID LEFT JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3782,
      "prompt_token_estimate": 994,
      "sql_length": 872
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002548",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Purchase Orders with Receipts Beyond Promised date by More Than 30 Days or never received.`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Table MIN_RECEIPT_DATES schema not available\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH min_receipt_dates AS (\n    SELECT\n        rt.po_distribution_id,\n        MIN(rt.transaction_date) AS min_rcv_date\n    FROM\n        rcv_transactions rt\n    WHERE\n        rt.transaction_type = 'RECEIVE'\n    GROUP BY\n        rt.po_distribution_id\n)\n\nSELECT\n    pha.segment1 AS po_number,\n    pha.creation_date AS po_creation_date,\n    aps.vendor_name,\n    pha.currency_code,\n    pha.rate,\n    pla.line_num,\n    pla.item_id,\n    pla.item_description,\n    pla.quantity AS ordered_quantity,\n    pla.unit_price,\n    pda.quantity_ordered AS dist_quantity_ordered,\n    pda.quantity_delivered AS dist_quantity_delivered,\n    pda.quantity_billed AS dist_quantity_billed,\n    pll.promised_date,\n    round(pll.need_by_date),\n    round(mrd.min_rcv_date),\n   round( CASE \n        WHEN pll.promised_date IS NOT NULL THEN \n            (NVL(mrd.min_rcv_date, SYSDATE) - pll.promised_date)\n        ELSE\n            (NVL(mrd.min_rcv_date, SYSDATE) - pll.need_by_date)\n    END) AS days_late\nFROM\n    po_headers_all pha\n    JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id\n    JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id\n    JOIN po_line_locations_all pll ON pll.line_location_id = pda.line_location_id\n    LEFT JOIN min_receipt_dates mrd ON pda.po_distribution_id = mrd.po_distribution_id\n    LEFT JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id\nWHERE\n    (\n        (pll.promised_date IS NOT NULL AND (\n            (mrd.min_rcv_date IS NOT NULL AND mrd.min_rcv_date > pll.promised_date + 30)\n            OR\n            (mrd.min_rcv_date IS NULL AND SYSDATE > pll.promised_date + 30)\n        ))\n        OR\n        (pll.promised_date IS NULL AND (\n            (mrd.min_rcv_date IS NOT NULL AND mrd.min_rcv_date > pll.need_by_date + 30)\n            OR\n            (mrd.min_rcv_date IS NULL AND SYSDATE > pll.need_by_date + 30)\n        ))\n    )\nORDER BY\n    pha.segment1,\n    pla.line_num,\n    pda.distribution_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MIN_RECEIPT_DATES",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7984,
      "prompt_token_estimate": 2044,
      "sql_length": 1934
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001612",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all transactions with TRANSACTION_TYPE 'DELIVER' and QUANTITY > 100.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, quantity, po_header_id, po_line_id, organization_id FROM rcv_transactions WHERE transaction_type = 'DELIVER' AND quantity > 100"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 389,
      "sql_length": 168
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002241",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List payments made on overdue invoices */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, aps.DUE_DATE, aip.CREATION_DATE AS PAYMENT_DATE FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID WHERE aip.CREATION_DATE > aps.DUE_DATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 1972,
      "prompt_token_estimate": 529,
      "sql_length": 269
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000285",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all distinct vendor IDs with their site IDs.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT vendor_id, vendor_site_id FROM po_headers_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 193,
      "sql_length": 61
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001970",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List approved invoices for vendor 'Acme Corp' with only validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_NAME = 'Acme Corp' AND i.APPROVAL_STATUS = 'APPROVED' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 978,
      "sql_length": 348
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001759",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with terms ID set`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, TERMS_ID FROM ap_invoices_all WHERE TERMS_ID IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 380,
      "sql_length": 76
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001641",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count distinct PO_HEADER_IDs where QUANTITY > 50.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(DISTINCT po_header_id) AS distinct_po_count FROM rcv_transactions WHERE quantity > 50"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 383,
      "sql_length": 98
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002224",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get cleared checks by vendor name and payment amount */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.CHECK_ID, aca.CHECK_NUMBER, aca.VENDOR_NAME, aca.AMOUNT, aca.STATUS_LOOKUP_CODE FROM ap_checks_all aca WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL"
      ],
      "schema_length": 1471,
      "prompt_token_estimate": 407,
      "sql_length": 154
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002552",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Month-Wise Total Received Quantity by Item for 2008 in primary unit of measure`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT msi.segment1 item_code,pol.item_description,\n    TRUNC(rt.transaction_date, 'MM') AS transaction_month,\n    SUM(\n        NVL(rt.quantity, 0) * \n        NVL(muc.conversion_rate, 1)\n    ) AS quantity_in_primary_uom\nFROM \n    rcv_transactions rt\n    JOIN po_lines_all pol \n        ON rt.po_line_id = pol.po_line_id\n    LEFT JOIN mtl_system_items_b msi \n        ON pol.item_id = msi.inventory_item_id\n       AND rt.organization_id = msi.organization_id\n    LEFT JOIN mtl_uom_conversions muc \n        ON rt.uom_code = muc.uom_code\n       AND muc.inventory_item_id = pol.item_id\nWHERE \n    rt.transaction_type = 'RECEIVE' -- assuming only receipt transactions\n    AND rt.transaction_date IS NOT NULL\nGROUP BY \n    TRUNC(rt.transaction_date, 'MM'),msi.segment1 ,pol.item_description\nORDER BY \n    transaction_month"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "MTL_SYSTEM_ITEMS_B",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL"
      ],
      "schema_length": 5097,
      "prompt_token_estimate": 1319,
      "sql_length": 814
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001910",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR PERIOD APRIL 06`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID LEFT JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID LEFT JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD' AND ai.GL_DATE BETWEEN TO_DATE('01-APR-2006','DD-MON-YYYY') AND TO_DATE('30-APR-2006','DD-MON-YYYY') AND hou.NAME = 'Vision Operations'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3782,
      "prompt_token_estimate": 982,
      "sql_length": 1055
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001177",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and suppliers where shipments had more than 3 unique ASN statuses.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rsh.asn_status) AS asn_status_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rsh.asn_status) > 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 630,
      "sql_length": 336
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000497",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the most recent shipment date per supplier.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, MAX(rsh.shipped_date) AS last_shipment FROM ap_suppliers aps JOIN po_headers_all pha ON aps.vendor_id = pha.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 622,
      "sql_length": 241
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002240",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List checks with stopped payments */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT CHECK_ID, CHECK_NUMBER, VENDOR_NAME, STOPPED_DATE FROM ap_checks_all WHERE STOPPED_DATE IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL"
      ],
      "schema_length": 1471,
      "prompt_token_estimate": 402,
      "sql_length": 106
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001700",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count transactions where CURRENCY_CONVERSION_RATE is NULL and CURRENCY_CODE = 'EUR'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS missing_conversion FROM rcv_transactions WHERE currency_conversion_rate IS NULL AND currency_code = 'EUR'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 392,
      "sql_length": 124
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001146",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers, POs, and items where average delivery time exceeds 15 days (shipped to received).*/`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        pha.segment1 AS po_number,        NVL(msi.segment1, pla.item_description) AS item_code,        AVG(rct.transaction_date - rsh.shipped_date) AS avg_delivery_days FROM po_headers_all pha JOIN rcv_shipment_headers rsh     ON pha.po_header_id = rsh.shipment_header_id JOIN rcv_transactions rct     ON rsh.shipment_header_id = rct.shipment_header_id JOIN po_lines_all pla     ON rct.po_line_id = pla.po_line_id LEFT JOIN mtl_system_items_b msi     ON pla.item_id = msi.inventory_item_id    AND rct.organization_id = msi.organization_id JOIN ap_suppliers aps     ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RECEIVE' GROUP BY aps.vendor_name, pha.segment1, NVL(msi.segment1, pla.item_description) HAVING AVG(rct.transaction_date - rsh.shipped_date) > 15"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7263,
      "prompt_token_estimate": 1866,
      "sql_length": 796
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001609",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get receipt details against po number abc123`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rsh.receipt_num, rct.transaction_id, rct.transaction_type, rct.transaction_date, rct.quantity, rsl.item_id, rsl.item_description, rsl.unit_of_measure, pha.segment1 AS po_number, hou.name AS operating_unit_name, ood.organization_name AS inventory_organization_name FROM rcv_transactions rct JOIN rcv_shipment_headers rsh ON rct.shipment_header_id = rsh.shipment_header_id JOIN rcv_shipment_lines rsl ON rct.shipment_line_id = rsl.shipment_line_id JOIN po_headers_all pha ON rct.po_header_id = pha.po_header_id JOIN org_organization_definitions ood ON rct.organization_id = ood.organization_id JOIN hr_operating_units hou ON ood.operating_unit = hou.organization_id WHERE pha.segment1 LIKE 'ABC%123%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 5223,
      "prompt_token_estimate": 1342,
      "sql_length": 705
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002288",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with multiple payments under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, COUNT(aip.INVOICE_PAYMENT_ID) AS PAYMENT_COUNT FROM ap_invoices_all ai JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY ai.INVOICE_NUM HAVING COUNT(aip.INVOICE_PAYMENT_ID) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 2076,
      "prompt_token_estimate": 560,
      "sql_length": 331
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001748",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendor ABC CORPORATION`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE\nFROM ap_invoices_all ai\nJOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID\nJOIN ap_supplier_sites_all ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID\nJOIN hr_operating_units hou ON ai.ORG_ID = hou.ORGANIZATION_ID\nWHERE UPPER(s.VENDOR_NAME) LIKE '%ABC%CORPORATION%'\n  AND UPPER(hou.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 869,
      "sql_length": 366
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001316",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get top 5 shipments with the highest billed amount`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id, amount_billed FROM po_line_locations_all ORDER BY amount_billed DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 550,
      "sql_length": 117
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000521",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and count of POs where PO revision num is 0 (initial version).*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pha.po_header_id) AS po_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.revision_num = 0 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 762,
      "sql_length": 251
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002333",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify checks that were issued, stopped, and then released in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.CHECK_ID, aca.CHECK_NUMBER, aca.STOPPED_DATE, aca.RELEASED_DATE FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STOPPED_DATE IS NOT NULL AND aca.RELEASED_DATE IS NOT NULL AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 934,
      "sql_length": 392
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000997",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where shipments have a NULL freight bill number and more than 10 containers.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.freight_bill_number IS NULL AND rsh.num_of_containers > 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 635,
      "sql_length": 272
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002321",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report average delay per bank account for cleared payments in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NAME, AVG(aip.CREATION_DATE - aps.DUE_DATE) AS AVG_DELAY_DAYS FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_payment_schedules_all aps ON aip.INVOICE_ID = aps.INVOICE_ID AND aip.PAYMENT_NUM = aps.PAYMENT_NUM JOIN ap_invoices_all ai ON aps.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND aip.CREATION_DATE > aps.DUE_DATE AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.BANK_ACCOUNT_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3796,
      "prompt_token_estimate": 995,
      "sql_length": 550
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002453",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total Advances Paid to Suppliers in a Given Month PREPAY lines indicate prepayments or advances to suppliers`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT TO_CHAR(aid.accounting_date, 'YYYY-MM') AS accounting_month, SUM(aid.amount) AS total_advance_payments FROM ap_invoice_distributions_all aid WHERE aid.line_type_lookup_code = 'PREPAY' AND aid.accounting_date BETWEEN TO_DATE('2024-03-01', 'YYYY-MM-DD') AND TO_DATE('2024-03-31', 'YYYY-MM-DD') GROUP BY TO_CHAR(aid.accounting_date, 'YYYY-MM')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 339,
      "sql_length": 347
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000864",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find PO numbers and item codes where routing header ID is not null.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.routing_header_id IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2018,
      "sql_length": 472
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000208",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count distinct unit_of_measure values.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(DISTINCT unit_of_measure) AS distinct_unit_count FROM mtl_uom_conversions"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 82,
      "sql_length": 86
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001718",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List expense report invoices with vendor info`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, VENDOR_ID, INVOICE_TYPE_LOOKUP_CODE FROM ap_invoices_all WHERE INVOICE_TYPE_LOOKUP_CODE = 'EXPENSE REPORT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 384,
      "sql_length": 126
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001911",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR PERIOD APRIL 06`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID LEFT JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID LEFT JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD' AND ai.GL_DATE BETWEEN TO_DATE('01-APR-2006','DD-MON-YYYY') AND TO_DATE('30-APR-2006','DD-MON-YYYY') AND hou.NAME = 'Vision Operations'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3782,
      "prompt_token_estimate": 982,
      "sql_length": 1055
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001643",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions where TRANSACTION_TYPE = 'RETURN TO RECEIVING' and COMMENTS include 'inspection'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, comments FROM rcv_transactions WHERE transaction_type = 'RETURN TO RECEIVING' AND comments like '%inspection%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 396,
      "sql_length": 151
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001632",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Using RANK: Get the earliest 5 transactions by TRANSACTION_DATE.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT transaction_id, transaction_date, RANK() OVER (ORDER BY transaction_date ASC) AS rank FROM rcv_transactions ) WHERE rank <= 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 387,
      "sql_length": 148
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002499",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `list of  Goods received from supplier whether moved to inventory(deliver) or not`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n-- Join relationships:\n\n-- ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pla.line_num AS po_line_number, pda.distribution_num, rt.quantity AS quantity_received, rt.transaction_date, msi.segment1 AS item_code, msi.description AS item_description, msi.primary_uom_code, ood.organization_name AS destination_organization FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id JOIN rcv_transactions rt ON rt.po_distribution_id = pda.po_distribution_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND msi.organization_id = pda.destination_organization_id LEFT JOIN org_organization_definitions ood ON pda.destination_organization_id = ood.organization_id WHERE rt.transaction_type = 'RECEIVE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 7590,
      "prompt_token_estimate": 1943,
      "sql_length": 771
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002610",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate total purchase for item AS54888:`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT SUM(pl.unit_price * NVL(h.rate, 1) * NVL(pd.quantity_ordered, 0)) AS total_purchase FROM po_distributions_all pd JOIN po_lines_all pl ON pl.po_line_id = pd.po_line_id JOIN po_headers_all h ON pl.po_header_id = h.po_header_id JOIN ap_suppliers v ON h.vendor_id = v.vendor_id left JOIN mtl_system_items_b m ON pd.destination_organization_id = m.organization_id   AND pl.item_id = m.inventory_item_id WHERE m.segment1 LIKE '%AS54888%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6735,
      "prompt_token_estimate": 1720,
      "sql_length": 438
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001216",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total ordered amount per item_id (using quantity * unit_price).`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT item_id, SUM(quantity * unit_price) AS total_amount FROM po_lines_all GROUP BY item_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 291,
      "sql_length": 93
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001245",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO lines where item_id is not null and tax_code_id is null.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE item_id IS NOT NULL AND tax_code_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 291,
      "sql_length": 85
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000529",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and count of distinct POs where comments include 'delay'.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT pha.segment1) AS po_count FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE LOWER(rsh.comments) LIKE '%delay%' GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 629,
      "sql_length": 284
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000549",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the latest PO and item revision per supplier.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, MAX(pla.item_revision) AS latest_revision FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 754,
      "sql_length": 271
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002521",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get list of purchases made from a specific vendor or vendor wise not necessarily received`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    SUM(pl.unit_price * COALESCE(h.rate, 1) * COALESCE(pd.quantity_ordered, 0)) AS total_purchase,\n    CASE \n        WHEN pl.item_id IS NOT NULL THEN m.segment1 \n        ELSE NULL \n    END AS item_segment1,\n    CASE \n        WHEN pl.item_id IS NOT NULL AND m.description IS NOT NULL THEN m.description \n        ELSE pl.item_description \n    END AS item_description\nFROM \n    po_distributions_all pd\nJOIN \n    po_lines_all pl ON pl.po_line_id = pd.po_line_id\nJOIN \n    po_headers_all h ON pl.po_header_id = h.po_header_id AND h.TYPE_LOOKUP_CODE = 'STANDARD'\nJOIN \n    ap_suppliers v ON h.vendor_id = v.vendor_id\nLEFT JOIN \n    mtl_system_items_b m \n    ON pd.destination_organization_id = m.organization_id \n   AND pl.item_id = m.inventory_item_id\nWHERE \n    UPPER(v.vendor_name) LIKE 'ALLIED%MANUFACTURING%'\nGROUP BY \n    CASE \n        WHEN pl.item_id IS NOT NULL THEN m.segment1 \n        ELSE NULL \n    END,\n    CASE \n        WHEN pl.item_id IS NOT NULL AND m.description IS NOT NULL THEN m.description \n        ELSE pl.item_description \n    END\nORDER BY total_purchase DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6735,
      "prompt_token_estimate": 1732,
      "sql_length": 1083
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001162",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List shipments where the difference between expected receipt date and actual receipt date exceeds 15 days.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rsh.shipment_num, aps.vendor_name, MAX(rct.transaction_date - rsh.expected_receipt_date) AS delay_days FROM rcv_shipment_headers rsh JOIN rcv_transactions rct ON rsh.shipment_header_id = rct.shipment_header_id JOIN ap_suppliers aps ON rsh.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RECEIVE' GROUP BY rsh.shipment_num, aps.vendor_name HAVING MAX(rct.transaction_date - rsh.expected_receipt_date) > 15"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 3020,
      "prompt_token_estimate": 808,
      "sql_length": 419
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000425",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get a list of suppliers with the highest average PO unit price.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, AVG(pla.unit_price) AS avg_unit_price FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name ORDER BY avg_unit_price DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 757,
      "sql_length": 280
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002320",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report average delay per bank account for cleared payments in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NAME, AVG(aip.CREATION_DATE - aps.DUE_DATE) AS AVG_DELAY_DAYS FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_payment_schedules_all aps ON aip.INVOICE_ID = aps.INVOICE_ID AND aip.PAYMENT_NUM = aps.PAYMENT_NUM JOIN ap_invoices_all ai ON aps.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND aip.CREATION_DATE > aps.DUE_DATE AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.BANK_ACCOUNT_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3796,
      "prompt_token_estimate": 995,
      "sql_length": 550
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001297",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show PO lines where quantity * unit_price exceeds 10,000.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE (quantity * unit_price) > 10000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 290,
      "sql_length": 73
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001657",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find transactions where QUANTITY = SECONDARY_QUANTITY and UNIT_OF_MEASURE = SECONDARY_UNIT_OF_MEASURE.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, quantity, secondary_quantity, unit_of_measure, secondary_unit_of_measure FROM rcv_transactions WHERE quantity = secondary_quantity AND unit_of_measure = secondary_unit_of_measure"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 397,
      "sql_length": 219
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001375",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate average invoice close tolerance by shipment type`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_type, AVG(invoice_close_tolerance) AS avg_close_tolerance FROM po_line_locations_all GROUP BY shipment_type"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 552,
      "sql_length": 123
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002216",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get list of invoices paid before due date */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.DUE_DATE, aps.AMOUNT_REMAINING, ai.VENDOR_ID, s.VENDOR_NAME, ai.CREATION_DATE AS INVOICE_CREATION_DATE, ai.LAST_UPDATE_DATE AS INVOICE_LAST_UPDATE_DATE, aps.PAYMENT_NUM, aip.CREATION_DATE AS PAYMENT_DATE, aps.DUE_DATE - aip.CREATION_DATE AS ADVANCED_DAYS FROM ap_invoices_all ai JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID AND aps.PAYMENT_NUM = aip.PAYMENT_NUM JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID WHERE ai.CANCELLED_DATE IS NULL AND ai.INVOICE_AMOUNT > 0 AND aps.DUE_DATE - aip.CREATION_DATE > 0 ORDER BY aps.PAYMENT_NUM, ai.INVOICE_ID, aip.PAYMENT_NUM"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1172,
      "sql_length": 771
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002490",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me supplier invoice aging in buckets of 60,60,90 and above`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,\n         COUNT (ai.invoice_id) AS total_invoices,\n         SUM (\n            CASE\n               WHEN (CURRENT_DATE - ass.due_date) BETWEEN 0 AND 30\n               THEN\n                  ass.amount_remaining\n               ELSE\n                  0\n            END)\n            AS \"0-30 Days\",\n         SUM (\n            CASE\n               WHEN (CURRENT_DATE - ass.due_date) BETWEEN 31 AND 60\n               THEN\n                  ass.amount_remaining\n               ELSE\n                  0\n            END)\n            AS \"31-60 Days\",\n         SUM (\n            CASE\n               WHEN (CURRENT_DATE - ass.due_date) BETWEEN 61 AND 90\n               THEN\n                  ass.amount_remaining\n               ELSE\n                  0\n            END)\n            AS \"61-90 Days\",\n         SUM (\n            CASE\n               WHEN (CURRENT_DATE - ass.due_date) > 90\n               THEN\n                  ass.amount_remaining\n               ELSE\n                  0\n            END)\n            AS \"91+ Days\",\n         SUM (ass.amount_remaining) AS total_outstanding\n    FROM ap_invoices_all ai\n         JOIN ap_suppliers aps\n            ON ai.vendor_id = aps.vendor_id\n         JOIN ap_payment_schedules_all ass\n            ON ai.invoice_id = ass.invoice_id\n         LEFT JOIN ap_invoice_payments_all aip\n            ON     ass.invoice_id = aip.invoice_id\n               AND ass.payment_num = aip.payment_num\n   WHERE     ai.cancelled_date IS NULL\n         AND ass.amount_remaining > 0\n         AND (aip.creation_date IS NULL OR aip.creation_date > CURRENT_DATE)\nGROUP BY aps.vendor_name\nORDER BY total_outstanding DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3068,
      "prompt_token_estimate": 808,
      "sql_length": 1647
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000723",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers and the number of receipt transactions they had last quarter.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(rct.transaction_id) AS receipt_count FROM rcv_transactions rct JOIN po_headers_all pha ON rct.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_date BETWEEN TRUNC(ADD_MONTHS(SYSDATE, -3), 'Q') AND TRUNC(SYSDATE, 'Q') GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 826,
      "sql_length": 330
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000658",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and items where the ASN status is 'PENDING' and invoice status is 'INCOMPLETE'.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rsh.asn_status = 'PENDING' AND rsh.invoice_status_code = 'INCOMPLETE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7115,
      "prompt_token_estimate": 1829,
      "sql_length": 517
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001966",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with PREPAY line types where all distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 703,
      "sql_length": 271
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002389",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Generate remittance advice showing vendor, check, invoice details for payments made in the last 30 days */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.CHECK_NUMBER, aca.CHECK_DATE, s.VENDOR_NAME, ai.INVOICE_NUM, ai.INVOICE_DATE, ai.INVOICE_CURRENCY_CODE, aps.DUE_DATE, aip.PAYMENT_NUM, aip.CREATION_DATE AS PAYMENT_DATE FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID AND aip.PAYMENT_NUM = aps.PAYMENT_NUM JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID WHERE aca.CHECK_DATE >= SYSDATE - 30 ORDER BY aca.CHECK_NUMBER, s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1187,
      "sql_length": 558
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002106",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total invoice amounts by organization where approval status is pending */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT h.NAME AS ORG_NAME, SUM(i.INVOICE_AMOUNT) AS TOTAL_PENDING_AMOUNT FROM ap_invoices_all i JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID WHERE i.APPROVAL_STATUS = 'PENDING' GROUP BY h.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1762,
      "prompt_token_estimate": 486,
      "sql_length": 205
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001114",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs and suppliers where shipments have more than 2 unique waybill numbers.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rsh.waybill_airbill_num) AS waybill_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rsh.waybill_airbill_num) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 630,
      "sql_length": 351
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001359",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the shipment with the maximum amount received`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id, amount_received FROM po_line_locations_all WHERE amount_received = (SELECT MAX(amount_received) FROM po_line_locations_all)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 550,
      "sql_length": 148
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002608",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get the qualifier for accounting flex fields like balancing segment cost centre etc.,`\n\n### Database Schema\n-- Table FND_SEGMENT_ATTRIBUTE_VALUES schema not available\n\n-- Table FND_ID_FLEX_SEGMENTS schema not available\n\n-- Table FND_ID_FLEX_STRUCTURES schema not available\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Table FND_FLEX_VALUE_SETS schema not available\n\n-- Table QUALIFIERDATA schema not available\n\n-- Join relationships:\n\n-- GL_LEDGERS.CHART_OF_ACCOUNTS_ID = FND_ID_FLEX_STRUCTURES.ID_FLEX_NUM\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH QualifierData AS ( SELECT fifs.id_flex_num AS chart_of_accounts_id, fifs.ID_FLEX_STRUCTURE_CODE AS chart_of_accounts_name, SAV.APPLICATION_COLUMN_NAME, fifs.id_flex_code, fifs.application_id, fics.segment_num, fics.segment_name, fics.flex_value_set_id, fvs.flex_value_set_name, GLL.LEDGER_ID, SAV.SEGMENT_ATTRIBUTE_TYPE, COUNT(CASE WHEN SAV.SEGMENT_ATTRIBUTE_TYPE != 'GL_GLOBAL' THEN 1 END) OVER (PARTITION BY fifs.id_flex_num, fics.segment_num) AS NonGlobalCount  /*Count of non-GL_GLOBAL qualifiers*/ FROM fnd_id_flex_structures fifs JOIN fnd_id_flex_segments fics ON fifs.id_flex_num = fics.id_flex_num JOIN fnd_flex_value_sets fvs ON fics.flex_value_set_id = fvs.flex_value_set_id JOIN fnd_segment_attribute_values sav ON fifs.application_id = sav.application_id AND SAV.ATTRIBUTE_VALUE = 'Y' AND fifs.id_flex_code = sav.id_flex_code AND fics.application_column_name = sav.application_column_name AND fics.id_flex_num = sav.id_flex_num AND fics.id_flex_code = sav.id_flex_code JOIN gl_ledgers gll ON fifs.id_flex_num = gll.chart_of_accounts_id WHERE fifs.id_flex_code = 'GL#'  /* Only General Ledger COA */ AND fifs.application_id = 101  /* Application ID filter */ AND gll.ledger_id = 1 ) SELECT * FROM QualifierData WHERE /* Keep only GL_GLOBAL if no other qualifiers exist */ NOT (SEGMENT_ATTRIBUTE_TYPE = 'GL_GLOBAL' AND NonGlobalCount > 0) ORDER BY chart_of_accounts_id, segment_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "FND_SEGMENT_ATTRIBUTE_VALUES",
        "FND_ID_FLEX_SEGMENTS",
        "FND_ID_FLEX_STRUCTURES",
        "GL_LEDGERS",
        "FND_FLEX_VALUE_SETS",
        "QUALIFIERDATA"
      ],
      "schema_length": 635,
      "prompt_token_estimate": 206,
      "sql_length": 1396
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000235",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count how many conversions exist per inventory item ID.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT inventory_item_id, COUNT(*) AS conversion_count FROM mtl_uom_conversions GROUP BY inventory_item_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 86,
      "sql_length": 106
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002618",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me top 10 vendors for AS54888, show total purchased value`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT v.vendor_name, SUM(CASE WHEN l.line_type_id = 1 AND d.destination_type_code = 'INVENTORY' THEN l.unit_price * nvl(h.rate, 1) * d.quantity_ordered ELSE nvl(h.rate, 1) * d.amount_ordered END) AS total_purchased_value FROM po_headers_all h JOIN po_lines_all l ON h.po_header_id = l.po_header_id JOIN po_distributions_all d ON l.po_line_id = d.po_line_id JOIN ap_suppliers v ON h.vendor_id = v.vendor_id left JOIN mtl_system_items_b msi ON l.item_id = msi.inventory_item_id AND d.destination_organization_id = msi.organization_id WHERE msi.segment1 LIKE '%AS54888%' OR msi.description LIKE '%AS54888%' GROUP BY v.vendor_name ORDER BY total_purchased_value DESC  ) WHERE ROWNUM <= 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6735,
      "prompt_token_estimate": 1725,
      "sql_length": 701
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001907",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR PERIOD JUN07`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID LEFT JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID LEFT JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD' AND ai.GL_DATE BETWEEN TO_DATE('01-JUN-2007','DD-MON-YYYY') AND TO_DATE('30-JUN-2007','DD-MON-YYYY') AND hou.NAME = 'Vision Operations'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 3782,
      "prompt_token_estimate": 982,
      "sql_length": 1055
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000668",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and associated supplier names where the PO creation date is between two years ago and today.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.creation_date BETWEEN ADD_MONTHS(SYSDATE, -24) AND SYSDATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 1740,
      "prompt_token_estimate": 487,
      "sql_length": 197
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001449",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the earliest expenditure item date for each project.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT project_id, MIN(expenditure_item_date) AS earliest_date FROM po_distributions_all GROUP BY project_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 347,
      "sql_length": 108
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001102",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs and suppliers where shipments have at least 2 different employee receivers using HAVING.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rct.employee_id) AS employee_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rct.employee_id) >= 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 831,
      "sql_length": 327
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000457",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show POs and items where PO revision number is greater than 2.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, pha.revision_num FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pha.revision_num > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 6518,
      "prompt_token_estimate": 1671,
      "sql_length": 416
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001750",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendor ABC CORPORATION`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE\nFROM ap_invoices_all ai\nJOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID\nJOIN ap_supplier_sites_all ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID\nJOIN hr_operating_units hou ON ai.ORG_ID = hou.ORGANIZATION_ID\nWHERE UPPER(s.VENDOR_NAME) LIKE '%ABC%CORPORATION%'\n  AND UPPER(hou.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 869,
      "sql_length": 366
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002091",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all prepayment distributions with invoice, vendor, and ledger details */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, s.VENDOR_NAME, g.NAME AS LEDGER_NAME, d.PREPAY_AMOUNT_REMAINING FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'PREPAY'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4007,
      "prompt_token_estimate": 1047,
      "sql_length": 318
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000895",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers, item codes, and supplier names where at least 3 different destinations were used per PO using CTE and HAVING.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Table DESTINATIONS_CTE schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH destinations_cte AS ( SELECT pha.segment1 AS po_number, aps.vendor_name, COUNT(DISTINCT rct.destination_type_code) AS destination_count FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name ) SELECT * FROM destinations_cte WHERE destination_count >= 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "DESTINATIONS_CTE",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 4293,
      "prompt_token_estimate": 1132,
      "sql_length": 442
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001049",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and supplier names where at least one shipment was handled by a specific employee (EMPLOYEE_ID = 202).*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.employee_id = 202"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 837,
      "sql_length": 221
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002541",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give the list of items purchased in Jan 07 where the price is over the same items previous purchase before jan 07`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pol.item_id, pol.item_description, poh.po_header_id, poh.segment1 AS po_number, poh.creation_date AS purchase_date, pol.unit_price AS current_price, prev_pol.unit_price AS previous_price, poh.vendor_id, poh.approved_flag FROM po_headers_all poh JOIN po_lines_all pol ON poh.po_header_id = pol.po_header_id JOIN (SELECT pol1.item_id, pol1.unit_price, pol1.po_header_id, poh1.creation_date, ROW_NUMBER() OVER (PARTITION BY pol1.item_id ORDER BY poh1.creation_date DESC) AS rn FROM po_headers_all poh1 JOIN po_lines_all pol1 ON poh1.po_header_id = pol1.po_header_id WHERE poh1.approved_flag = 'Y' AND poh1.creation_date < DATE '2007-01-01') prev_pol ON pol.item_id = prev_pol.item_id AND prev_pol.rn = 1 WHERE poh.approved_flag = 'Y' AND poh.creation_date BETWEEN DATE '2007-01-01' AND DATE '2007-01-31' AND pol.unit_price > prev_pol.unit_price ORDER BY pol.item_id, poh.creation_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 1766,
      "prompt_token_estimate": 495,
      "sql_length": 888
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002229",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find checks issued in the last 90 days with amounts over 5000 */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT CHECK_ID, CHECK_NUMBER, AMOUNT, CHECK_DATE FROM ap_checks_all WHERE CHECK_DATE >= SYSDATE - 90 AND AMOUNT > 5000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL"
      ],
      "schema_length": 1471,
      "prompt_token_estimate": 409,
      "sql_length": 119
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001127",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve list of POs where goods have been returned to supplier more than 2 times.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, count(*) AS return_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RETURN TO SUPPLIER' GROUP BY pha.segment1, aps.vendor_name HAVING count(*) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 828,
      "sql_length": 328
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002119",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the earliest and latest invoice dates for each vendor */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, MIN(i.INVOICE_DATE) AS EARLIEST_INVOICE, MAX(i.INVOICE_DATE) AS LATEST_INVOICE FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 668,
      "sql_length": 195
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001112",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs and suppliers where PO lines have multiple item revisions recorded.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rsl.item_revision) AS revision_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rsl.item_revision) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1165,
      "sql_length": 389
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001803",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find unpaid invoices with vendor names and site codes`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.PAYMENT_STATUS_FLAG FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE a.PAYMENT_STATUS_FLAG = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2983,
      "prompt_token_estimate": 785,
      "sql_length": 255
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002645",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me list recepits that are returned to staging but not returned to vendor`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date AS po_date, pla.line_num AS po_line_number, pla.item_id, msi.segment1 AS item_code, msi.description AS item_description, pda.distribution_num, NVL(rt_stagging.received_qty, 0) AS quantity_received, NVL(rt_vendor.delivered_qty, 0) AS quantity_delivered, (NVL(rt_stagging.received_qty, 0) - NVL(rt_vendor.delivered_qty, 0)) AS quantity_pending_delivery FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND msi.organization_id = pda.destination_organization_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS received_qty FROM rcv_transactions WHERE transaction_type = 'RETURN TO RECEIVING' GROUP BY po_distribution_id) rt_stagging ON rt_stagging.po_distribution_id = pda.po_distribution_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS delivered_qty FROM rcv_transactions WHERE transaction_type = 'RETURN TO VENDOR' GROUP BY po_distribution_id) rt_vendor ON rt_vendor.po_distribution_id = pda.po_distribution_id WHERE (NVL(rt_stagging.received_qty, 0) - NVL(rt_vendor.delivered_qty, 0)) > 0 ORDER BY pha.segment1, pla.line_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7024,
      "prompt_token_estimate": 1801,
      "sql_length": 1265
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001871",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get vendors with unpaid invoice totals over 5000 under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table UNPAID_TOTALS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH unpaid_totals AS (SELECT s.VENDOR_NAME, SUM(a.INVOICE_AMOUNT) AS TOTAL_UNPAID FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.ORGANIZATION_ID JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.PAYMENT_STATUS_FLAG = 'N' GROUP BY s.VENDOR_NAME) SELECT VENDOR_NAME, TOTAL_UNPAID FROM unpaid_totals WHERE TOTAL_UNPAID > 5000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "UNPAID_TOTALS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2903,
      "prompt_token_estimate": 770,
      "sql_length": 393
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000874",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers and PO counts where shipments had more than 5 containers, using correlated subquery.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT pha.po_header_id) AS po_count FROM ap_suppliers aps JOIN po_headers_all pha ON aps.vendor_id = pha.vendor_id WHERE EXISTS ( SELECT 1 FROM rcv_shipment_headers rsh WHERE rsh.shipment_header_id = pha.po_header_id AND rsh.num_of_containers > 5 ) GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 635,
      "sql_length": 306
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001300",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO lines ranked by list_price_per_unit per org_id.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id, org_id, RANK() OVER (PARTITION BY org_id ORDER BY list_price_per_unit DESC) AS price_rank FROM po_lines_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 289,
      "sql_length": 126
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002473",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get the invoice details of purchase order number 4682`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID = PO_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    poh.segment1 AS po_number,\n    poh.creation_date AS po_date,\n    ai.invoice_num AS invoice_number,\n    ai.invoice_date AS invoice_date,\n    aps.vendor_name,\n    ai.currency_code,\n    SUM(aid.amount * NVL(ai.exchange_rate, 1)) AS invoice_amount,\n    ai.amount_paid\nFROM \n    ap_invoices_all ai\n    JOIN ap_invoice_distributions_all aid ON ai.invoice_id = aid.invoice_id\n    JOIN ap_suppliers aps ON ai.vendor_id = aps.vendor_id\n    JOIN po_distributions_all pod ON aid.po_distribution_id = pod.po_distribution_id\n    JOIN po_lines_all pol ON pod.po_line_id = pol.po_line_id\n    JOIN po_headers_all poh ON poh.po_header_id = pol.po_header_id\nWHERE \n    poh.segment1 = '4682'\nGROUP BY \n    poh.segment1,\n    poh.creation_date,\n    ai.invoice_num,\n    ai.invoice_date,\n    aps.vendor_name,\n    ai.currency_code,\n    ai.amount_paid\nORDER BY \n    ai.invoice_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6984,
      "prompt_token_estimate": 1785,
      "sql_length": 868
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002238",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors with unpaid balances over $50,000 */`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(aps.AMOUNT_REMAINING) AS UNPAID_TOTAL FROM ap_invoices_all ai JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID WHERE aps.AMOUNT_REMAINING > 0 AND AP_INVOICES_PKG.GET_APPROVAL_STATUS( ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE ) = 'APPROVED' AND ai.WF_APPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED') AND ai.CANCELLED_DATE IS NULL GROUP BY s.VENDOR_NAME HAVING SUM(aps.AMOUNT_REMAINING) > 50000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2754,
      "prompt_token_estimate": 726,
      "sql_length": 551
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000324",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show POs where the currency is not in 'USD', 'EUR'.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no, currency_code FROM po_headers_all WHERE currency_code NOT IN ('USD', 'EUR')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 194,
      "sql_length": 113
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001807",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendors of type 'SUPPLIER'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_TYPE_LOOKUP_CODE = 'SUPPLIER'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 663,
      "sql_length": 179
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002415",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Provide backdated vendor balance by currency as of 31-Dec-2007 for vision operations */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Table PARAM schema not available\n\n-- Table ALL schema not available\n\n-- Table INVOICE_BALANCES schema not available\n\n-- Table PAYMENTS_AFTER_CUTOFF schema not available\n\n-- Table DUAL schema not available\n\n-- Table PREPAY_AFTER_CUTOFF schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH param AS (\n    /* Define cutoff date and operating unit name centrally */\n    SELECT \n        TO_DATE('2007-12-31', 'YYYY-MM-DD') AS cutoff_date,\n        'Vision Operations' AS operating_unit_name\n    FROM dual\n),  payments_after_cutoff AS (\n    /* Payments made after the cutoff date, restricted to the given operating unit */\n    SELECT\n        aip.INVOICE_ID,\n        SUM(NVL(aip.AMOUNT, 0)) AS payment_after_cutoff\n    FROM\n        ap_invoice_payments_all aip\n        JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID\n        JOIN hr_operating_units hr ON ai.ORG_ID = hr.ORGANIZATION_ID\n        JOIN param p ON 1=1\n    WHERE\n        aip.ACCOUNTING_DATE > p.cutoff_date\n        AND UPPER(hr.NAME) = UPPER(p.operating_unit_name)\n    GROUP BY\n        aip.INVOICE_ID\n),  prepay_after_cutoff AS (\n    /* Prepayments (adjustments) made after the cutoff date, restricted to the given operating unit */\n    SELECT\n        aid.INVOICE_ID,\n        SUM(NVL(aid.AMOUNT, 0)) AS prepay_after_cutoff\n    FROM\n        ap_invoice_distributions_all aid\n        JOIN ap_invoices_all ai ON aid.INVOICE_ID = ai.INVOICE_ID\n        JOIN hr_operating_units hr ON ai.ORG_ID = hr.ORGANIZATION_ID\n        JOIN param p ON 1=1\n    WHERE\n        aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY'\n        AND aid.ACCOUNTING_DATE > p.cutoff_date\n        AND UPPER(hr.NAME) = UPPER(p.operating_unit_name)\n    GROUP BY\n        aid.INVOICE_ID\n),  invoice_balances AS (\n    /* Sum gross amounts from all payment schedules per invoice, restricted to the operating unit */\n    SELECT\n        ai.INVOICE_ID,\n        ai.VENDOR_ID,\n        SUM(aps.GROSS_AMOUNT) AS GROSS_AMOUNT\n    FROM\n        ap_invoices_all ai\n        JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID\n        JOIN hr_operating_units hr ON ai.ORG_ID = hr.ORGANIZATION_ID\n        JOIN param p ON 1=1\n    WHERE\n        UPPER(hr.NAME) = UPPER(p.operating_unit_name)\n    GROUP BY\n        ai.INVOICE_ID,\n        ai.VENDOR_ID\n)  SELECT\n    /* Final vendor-level unpaid balances as of the cutoff date */\n    s.VENDOR_NAME,\n    SUM(\n        ib.GROSS_AMOUNT\n        - NVL(pac.payment_after_cutoff, 0)\n        - NVL(ppc.prepay_after_cutoff, 0)\n    ) AS UNPAID_BALANCE_AS_OF_CUTOFF\nFROM\n    invoice_balances ib\n    JOIN ap_suppliers s ON ib.VENDOR_ID = s.VENDOR_ID\n    LEFT JOIN payments_after_cutoff pac ON ib.INVOICE_ID = pac.INVOICE_ID\n    LEFT JOIN prepay_after_cutoff ppc ON ib.INVOICE_ID = ppc.INVOICE_ID\nGROUP BY\n    s.VENDOR_NAME\nHAVING\n    /* Exclude fully paid invoices */\n    SUM(\n        ib.GROSS_AMOUNT\n        - NVL(pac.payment_after_cutoff, 0)\n        - NVL(ppc.prepay_after_cutoff, 0)\n    ) <> 0\nORDER BY\n    UNPAID_BALANCE_AS_OF_CUTOFF DESC\nFETCH FIRST 50 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "PARAM",
        "ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "INVOICE_BALANCES",
        "PAYMENTS_AFTER_CUTOFF",
        "AP_INVOICE_PAYMENTS_ALL",
        "DUAL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "PREPAY_AFTER_CUTOFF"
      ],
      "schema_length": 4983,
      "prompt_token_estimate": 1293,
      "sql_length": 2722
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000654",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List items and their corresponding PO numbers where the unit price is above 500.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number, pla.unit_price FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pla.unit_price > 500"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 6518,
      "prompt_token_estimate": 1676,
      "sql_length": 409
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001796",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Join invoices with suppliers and supplier sites to get vendor names and site codes`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2983,
      "prompt_token_estimate": 792,
      "sql_length": 198
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000810",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers and count of PO lines where ordered quantity exceeds 1000.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pla.po_line_id) AS high_qty_lines FROM po_lines_all pla JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pla.quantity > 1000 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 759,
      "sql_length": 254
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002596",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `TO GET THE LIST OF ACCOUNTS UNDER A PARENT ACCOUNT  WHEN PARENT VALUE AND LEDGER AND MONTH IS SPECIFIED`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table FND_ID_FLEX_SEGMENTS schema not available\n\n-- Table ACCOUNTHIERARCHY schema not available\n\n-- Table FND_FLEX_VALUE_CHILDREN_V schema not available\n\n-- Table FND_ID_FLEX_STRUCTURES schema not available\n\n-- Table BALANCES schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.CHART_OF_ACCOUNTS_ID = FND_ID_FLEX_STRUCTURES.ID_FLEX_NUM\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH AccountHierarchy AS ( SELECT FLEX_VALUE AS ACCOUNT_CODE, DESCRIPTION AS ACCOUNT_DESCRIPTION, PARENT_FLEX_VALUE AS PARENT_ACCOUNT_CODE FROM FND_FLEX_VALUE_CHILDREN_V WHERE FLEX_VALUE_SET_ID = ( SELECT FIS.FLEX_VALUE_SET_ID FROM FND_ID_FLEX_STRUCTURES FFS JOIN GL_LEDGERS GLL ON GLL.CHART_OF_ACCOUNTS_ID = FFS.id_flex_num JOIN FND_ID_FLEX_SEGMENTS FIS ON FIS.ID_FLEX_NUM = FFS.ID_FLEX_NUM AND FIS.ID_FLEX_CODE = FFS.ID_FLEX_CODE AND FIS.APPLICATION_ID = FFS.APPLICATION_ID WHERE 1=1 /* FFS.ID_FLEX_NUM = 101 */ AND FFS.ID_FLEX_CODE = 'GL#' AND FFS.APPLICATION_ID = 101 AND FIS.SEGMENT_NAME = 'Account' AND GLL.NAME = 'Vision Operations (USA)'  /*Parameter for Ledger Name*/ ) START WITH PARENT_FLEX_VALUE = 'PT'  /* Parameter for Parent Account */ CONNECT BY NOCYCLE PRIOR FLEX_VALUE = PARENT_FLEX_VALUE AND PRIOR FLEX_VALUE_SET_ID = FLEX_VALUE_SET_ID ), Balances AS ( SELECT gcc.segment3 AS account, gl_flexfields_pkg.get_description_sql(led.chart_of_accounts_id, 3, gcc.segment3) AS account_desc, SUM(NVL(bal.BEGIN_BALANCE_DR, 0) - NVL(bal.BEGIN_BALANCE_CR, 0)) AS opening_balance, SUM(NVL(bal.PERIOD_NET_DR, 0)) AS debit, SUM(NVL(bal.PERIOD_NET_CR, 0)) AS credit, SUM(NVL(bal.BEGIN_BALANCE_DR, 0) - NVL(bal.BEGIN_BALANCE_CR, 0) + NVL(bal.PERIOD_NET_DR, 0) - NVL(bal.PERIOD_NET_CR, 0)) AS closing_balance FROM gl_balances bal JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id JOIN GL_LEDGERS led ON bal.LEDGER_ID = led.LEDGER_ID and led.chart_of_accounts_id = gcc.chart_of_accounts_id JOIN GL_PERIODS gp ON bal.PERIOD_NAME = gp.PERIOD_NAME AND gp.period_set_name = led.period_set_name AND gp.period_type = led.accounted_period_type and gp.period_year = bal.period_year and gp.period_num= bal.period_num and gp.period_type = bal.period_type WHERE 1=1 and led.NAME = 'Vision Operations (USA)'  /* Parameter for Ledger Name */ AND gp.PERIOD_NAME = 'Mar-08' /* Parameter for Period Name */ AND bal.ACTUAL_FLAG = 'A' AND bal.TEMPLATE_ID IS NULL AND bal.TRANSLATED_FLAG IS NULL AND bal.CURRENCY_CODE = led.CURRENCY_CODE GROUP BY gcc.segment3, gl_flexfields_pkg.get_description_sql(led.chart_of_accounts_id, 3, gcc.segment3) order by gcc.segment3 ) SELECT   /* Ensures unique rows */ b.account, b.account_desc, NVL(b.opening_balance, 0) AS opening_balance, NVL(b.debit, 0) AS debit, NVL(b.credit, 0) AS credit, NVL(b.closing_balance, 0) AS closing_balance FROM Balances b JOIN AccountHierarchy ah ON b.account = ah.ACCOUNT_CODE ORDER BY b.account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "FND_ID_FLEX_SEGMENTS",
        "ACCOUNTHIERARCHY",
        "FND_FLEX_VALUE_CHILDREN_V",
        "FND_ID_FLEX_STRUCTURES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "BALANCES"
      ],
      "schema_length": 1965,
      "prompt_token_estimate": 543,
      "sql_length": 2477
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002621",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `can you give list of top 10 vendors from whom we purchased most in mar-07 along with purchase value`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM (  SELECT aps.vendor_name, SUM (pda.quantity_ordered * pla.unit_price * nvl(pha.rate,1)) AS total_purchase_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id join hr_operating_units hou on pha.org_id = hou.organization_id JOIN gl_periods gp ON pha.creation_date BETWEEN gp.start_date AND gp.end_date WHERE     pha.approved_flag = 'Y' AND gp.period_name = 'Mar-07' AND gp.period_set_name = (SELECT period_set_name FROM gl_ledgers WHERE ledger_id = hou.set_of_books_id) AND gp.period_type = (SELECT accounted_period_type FROM gl_ledgers WHERE ledger_id = hou.set_of_books_id) GROUP BY aps.vendor_name ORDER BY total_purchase_value DESC) WHERE ROWNUM <= 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "GL_LEDGERS",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 5661,
      "prompt_token_estimate": 1466,
      "sql_length": 827
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001913",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR THE YEAR 2007`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID AND UPPER(hou.NAME) LIKE '%VISION%OPERATIONS%' JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID JOIN GL_PERIODS gp ON gp.PERIOD_SET_NAME = gl.PERIOD_SET_NAME AND gp.PERIOD_TYPE = gl.ACCOUNTED_PERIOD_TYPE AND gp.PERIOD_YEAR = 2007 AND ai.GL_DATE BETWEEN gp.START_DATE AND gp.END_DATE WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 4398,
      "prompt_token_estimate": 1136,
      "sql_length": 1143
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000354",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO numbers where the revision_num is null.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no FROM po_headers_all WHERE revision_num IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 192,
      "sql_length": 83
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002189",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with most approval iterations */`\n\n### Database Schema\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AH.INVOICE_ID, MAX(AH.ITERATION) AS MAX_ITERATIONS FROM AP_INV_APRVL_HIST_ALL AH GROUP BY AH.INVOICE_ID ORDER BY MAX_ITERATIONS DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INV_APRVL_HIST_ALL"
      ],
      "schema_length": 544,
      "prompt_token_estimate": 173,
      "sql_length": 139
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002014",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total distribution amounts by organization and ledger */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT h.NAME AS ORG_NAME, g.NAME AS LEDGER_NAME, SUM(d.AMOUNT) AS TOTAL_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID GROUP BY h.NAME, g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3392,
      "prompt_token_estimate": 889,
      "sql_length": 304
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001157",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where at least one transaction was manually entered (user_entered_flag = 'Y').*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.user_entered_flag = 'Y' GROUP BY aps.vendor_name, pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 832,
      "sql_length": 266
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000112",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List business_group_id where more than 2 unique short_codes exist.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT business_group_id FROM hr_operating_units GROUP BY business_group_id HAVING COUNT(DISTINCT short_code) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 113,
      "sql_length": 113
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001554",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count the total number of shipments where expected receipt date is NULL.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS null_expected_date_count FROM rcv_shipment_headers WHERE expected_receipt_date IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 595,
      "prompt_token_estimate": 192,
      "sql_length": 105
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001747",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices cancelled by a specific user ID`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, CANCELLED_BY, CANCELLED_DATE FROM ap_invoices_all WHERE CANCELLED_BY = 501"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 384,
      "sql_length": 94
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000501",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs with their receipt numbers where comments contain 'urgent'.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, rsh.receipt_num FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE LOWER(rsh.comments) LIKE '%urgent%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 348,
      "sql_length": 190
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001236",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count distinct item_id values used in PO lines.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(DISTINCT item_id) AS distinct_items FROM po_lines_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 287,
      "sql_length": 66
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001271",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show PO lines where closed_date is between two specific dates.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE closed_date BETWEEN TO_DATE('2024-01-01', 'YYYY-MM-DD') AND TO_DATE('2024-12-31', 'YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 291,
      "sql_length": 137
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000301",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count POs per vendor where rate is not null.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT vendor_id, COUNT(*) AS po_count FROM po_headers_all WHERE rate IS NOT NULL GROUP BY vendor_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 192,
      "sql_length": 100
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000409",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve all POs with items where unit price is between 100 and 500, including supplier and item codes.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, NVL(msi.segment1, pla.item_description) AS item_code, pla.unit_price FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pla.unit_price BETWEEN 100 AND 500"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1955,
      "sql_length": 500
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001545",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List shipments where comments include the word 'Urgent'.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT creation_date, receipt_source_code, vendor_id, vendor_site_id, organization_id, shipment_num, receipt_num, ship_to_location_id, bill_of_lading, packing_slip, shipped_date, expected_receipt_date, employee_id, num_of_containers, waybill_airbill_num, comments, asn_type, freight_bill_number, invoice_status_code, asn_status FROM rcv_shipment_headers WHERE comments like '%Urgent%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 595,
      "prompt_token_estimate": 188,
      "sql_length": 384
    }
  }
]