[
  {
    "id": "oracle_sqlcoder_v1_002469",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me list of suppllier invoices that are  paid before the due date`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_id, ai.invoice_num, ai.invoice_date, ass.due_date, ass.amount_remaining, ai.vendor_id, aps.vendor_name, ai.creation_date AS invoice_creation_date, ai.last_update_date AS invoice_last_update_date, ass.payment_num, aip.creation_date AS payment_date, ass.due_date - aip.creation_date AS ADVANCED_days FROM ap_invoices_all ai JOIN ap_suppliers aps ON ai.vendor_id = aps.vendor_id JOIN ap_payment_schedules_all ass ON ai.invoice_id = ass.invoice_id JOIN ap_invoice_payments_all aip ON ass.invoice_id = aip.invoice_id AND ass.payment_num = aip.payment_num JOIN ap_checks_all aca ON aip.check_id = aca.check_id WHERE ai.cancelled_date IS NULL AND ai.invoice_amount > 0 AND ass.due_date - aip.creation_date > 0 ORDER BY ass.payment_num, ai.invoice_id, aip.payment_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1178,
      "sql_length": 777
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000614",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve count of distinct items per supplier where the PO was created after 2023.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS distinct_items FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pha.creation_date > TO_DATE('2023-01-01', 'YYYY-MM-DD') GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1950,
      "sql_length": 519
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002282",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List payments made in foreign currency for Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT      ai.INVOICE_NUM AS \"INVOICE_NUM\",     aca.CURRENCY_CODE AS \"PAYMENT_CURRENCY\",     gl.CURRENCY_CODE AS \"ACCOUNTING_CURRENCY\",     aca.AMOUNT AS \"PAYMENT_AMOUNT\",     aca.CHECK_NUMBER AS \"CHECK_NUMBER\",     aca.CHECK_DATE AS \"CHECK_DATE\",     s.VENDOR_NAME AS \"VENDOR_NAME\" FROM      ap_invoices_all ai     JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID     JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID     JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID     JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID     JOIN gl_ledgers gl ON h.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE      aca.CURRENCY_CODE <> gl.CURRENCY_CODE     AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 5053,
      "prompt_token_estimate": 1305,
      "sql_length": 715
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001507",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Using CTE and RANK: Get the top 3 distributions per destination type by quantity cancelled.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n-- Table RANKED_CTE schema not available\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH ranked_cte AS ( SELECT po_distribution_id, destination_type_code, quantity_cancelled, RANK() OVER (PARTITION BY destination_type_code ORDER BY quantity_cancelled DESC) AS rnk FROM po_distributions_all ) SELECT * FROM ranked_cte WHERE rnk <= 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RANKED_CTE"
      ],
      "schema_length": 1273,
      "prompt_token_estimate": 367,
      "sql_length": 247
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001287",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show PO lines where tax_name is in ('VAT', 'GST', 'SERVICE TAX').`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE tax_name IN ('VAT', 'GST', 'SERVICE TAX')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 292,
      "sql_length": 83
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000323",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List vendors with more than 5 STANDARD type POs.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT vendor_id FROM po_headers_all WHERE type_lookup_code = 'STANDARD' GROUP BY vendor_id HAVING COUNT(*) > 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 193,
      "sql_length": 111
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002111",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with the highest total variance (IPV + TRV) by vendor */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, i.INVOICE_NUM, SUM(NVL(d.AMOUNT_VARIANCE, 0)) AS TOTAL_VARIANCE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE IN ('IPV', 'TRV') GROUP BY s.VENDOR_NAME, i.INVOICE_NUM ORDER BY TOTAL_VARIANCE DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 975,
      "sql_length": 364
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001440",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the distribution with the highest quantity delivered for a specific organization.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE destination_organization_id = 300 ORDER BY quantity_delivered DESC FETCH FIRST 1 ROW ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 355,
      "sql_length": 130
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001441",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show distributions where the source distribution ID is NULL.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE source_distribution_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 348,
      "sql_length": 71
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002547",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Purchase Orders with Receipts Beyond Promised date by More Than 30 Days or never received.`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Table MIN_RECEIPT_DATES schema not available\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH min_receipt_dates AS (\n    SELECT\n        rt.po_distribution_id,\n        MIN(rt.transaction_date) AS min_rcv_date\n    FROM\n        rcv_transactions rt\n    WHERE\n        rt.transaction_type = 'RECEIVE'\n    GROUP BY\n        rt.po_distribution_id\n)\n\nSELECT\n    pha.segment1 AS po_number,\n    pha.creation_date AS po_creation_date,\n    aps.vendor_name,\n    pha.currency_code,\n    pha.rate,\n    pla.line_num,\n    pla.item_id,\n    pla.item_description,\n    pla.quantity AS ordered_quantity,\n    pla.unit_price,\n    pda.quantity_ordered AS dist_quantity_ordered,\n    pda.quantity_delivered AS dist_quantity_delivered,\n    pda.quantity_billed AS dist_quantity_billed,\n    pll.promised_date,\n    round(pll.need_by_date),\n    round(mrd.min_rcv_date),\n   round( CASE \n        WHEN pll.promised_date IS NOT NULL THEN \n            (NVL(mrd.min_rcv_date, SYSDATE) - pll.promised_date)\n        ELSE\n            (NVL(mrd.min_rcv_date, SYSDATE) - pll.need_by_date)\n    END) AS days_late\nFROM\n    po_headers_all pha\n    JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id\n    JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id\n    JOIN po_line_locations_all pll ON pll.line_location_id = pda.line_location_id\n    LEFT JOIN min_receipt_dates mrd ON pda.po_distribution_id = mrd.po_distribution_id\n    LEFT JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id\nWHERE\n    (\n        (pll.promised_date IS NOT NULL AND (\n            (mrd.min_rcv_date IS NOT NULL AND mrd.min_rcv_date > pll.promised_date + 30)\n            OR\n            (mrd.min_rcv_date IS NULL AND SYSDATE > pll.promised_date + 30)\n        ))\n        OR\n        (pll.promised_date IS NULL AND (\n            (mrd.min_rcv_date IS NOT NULL AND mrd.min_rcv_date > pll.need_by_date + 30)\n            OR\n            (mrd.min_rcv_date IS NULL AND SYSDATE > pll.need_by_date + 30)\n        ))\n    )\nORDER BY\n    pha.segment1,\n    pla.line_num,\n    pda.distribution_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MIN_RECEIPT_DATES",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7984,
      "prompt_token_estimate": 2044,
      "sql_length": 1934
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001562",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all shipment lines where the UNIT_OF_MEASURE is 'EA' (Each).`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_line_id, creation_date, shipment_header_id, line_num, category_id, quantity_shipped, quantity_received, unit_of_measure, item_description, item_id FROM rcv_shipment_lines WHERE unit_of_measure = 'EA'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 415,
      "sql_length": 215
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001064",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and PO numbers where the same PO has shipments received in more than 3 different units of measure.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rct.unit_of_measure) AS uom_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rct.unit_of_measure) > 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 835,
      "sql_length": 329
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001827",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find USD invoices under 'Vision Operations' with vendor name and site code`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.INVOICE_CURRENCY_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_CURRENCY_CODE = 'USD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 878,
      "sql_length": 372
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000032",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List currency codes where the count of ledgers is exactly 1.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, COUNT(ledger_id) AS ledger_count FROM gl_ledgers GROUP BY currency_code HAVING COUNT(ledger_id) = 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 110,
      "sql_length": 121
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000716",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get items with the lowest conversion rate per unit of measure.*/`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT msi.segment1 AS item_code, muc.unit_of_measure, MIN(muc.conversion_rate) AS min_conversion_rate FROM mtl_uom_conversions muc JOIN mtl_system_items_b msi ON muc.inventory_item_id = msi.inventory_item_id AND muc.inventory_item_id = msi.inventory_item_id GROUP BY msi.segment1, muc.unit_of_measure"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "MTL_SYSTEM_ITEMS_B"
      ],
      "schema_length": 2648,
      "prompt_token_estimate": 704,
      "sql_length": 301
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000971",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers, supplier names, and rank suppliers by total quantity received using CTE and RANK.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Table SUPPLIER_QTY schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH supplier_qty AS (     SELECT aps.vendor_name,            pha.segment1 AS po_number,            SUM(rct.quantity) AS total_qty     FROM po_headers_all pha          JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id          JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id     GROUP BY aps.vendor_name, pha.segment1 ) SELECT vendor_name,        po_number,        total_qty,        RANK() OVER (PARTITION BY vendor_name ORDER BY total_qty DESC) AS qty_rank FROM supplier_qty"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS",
        "SUPPLIER_QTY"
      ],
      "schema_length": 3168,
      "prompt_token_estimate": 843,
      "sql_length": 497
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001964",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find approved STANDARD invoices with no unmatched or not validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD' AND i.APPROVAL_STATUS = 'APPROVED' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 705,
      "sql_length": 311
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002352",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find overdue invoices with no payments recorded under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    ai.INVOICE_NUM, \n    aps.DUE_DATE, \n    aps.AMOUNT_REMAINING \nFROM \n    ap_invoices_all ai \nJOIN \n    ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID \nWHERE \n    aps.DUE_DATE > SYSDATE \n    AND aps.AMOUNT_REMAINING > 0 \n    AND ai.GROSS_AMOUNT <> aps.AMOUNT_REMAINING      -- Only approved invoices\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 1658,
      "prompt_token_estimate": 459,
      "sql_length": 643
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002117",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total prepayment applied per ledger */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, SUM(NVL(d.PREPAY_AMOUNT_REMAINING, 0)) AS TOTAL_PREPAY FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'PREPAY' GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2911,
      "prompt_token_estimate": 764,
      "sql_length": 284
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000316",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all distinct org_ids that have approved POs.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT org_id FROM po_headers_all WHERE approved_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 193,
      "sql_length": 68
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001809",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendors of type 'EMPLOYEE'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_TYPE_LOOKUP_CODE = 'EMPLOYEE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 663,
      "sql_length": 179
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000066",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show average chart_of_accounts_id for each period_set_name, only include those with more than 2 ledgers.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT period_set_name, AVG(chart_of_accounts_id) AS avg_coa FROM gl_ledgers GROUP BY period_set_name HAVING COUNT(*) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 121,
      "sql_length": 121
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000439",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get count of distinct items ordered per supplier.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS distinct_items FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1942,
      "sql_length": 462
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000063",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List ledgers where the period_set_name is in ('CALENDAR_2023', 'FISCAL_2023') and the ledger_category_code is 'PRIMARY'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS count_primary_2023 FROM gl_ledgers WHERE period_set_name IN ('CALENDAR_2023', 'FISCAL_2023') AND ledger_category_code = 'PRIMARY'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 125,
      "sql_length": 148
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002222",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers with highest invoice amounts not paid within 30 days */`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(ai.INVOICE_ID) AS UNPAID_INVOICES, SUM(ai.INVOICE_AMOUNT) AS TOTAL_UNPAID_AMOUNT, AVG(SYSDATE - aps.DUE_DATE) AS AVG_DAYS_OVERDUE FROM ap_invoices_all ai JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID LEFT JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID AND aps.PAYMENT_NUM = aip.PAYMENT_NUM WHERE ai.CANCELLED_DATE IS NULL AND (aip.CREATION_DATE IS NULL OR aip.CREATION_DATE > aps.DUE_DATE + 30) AND aps.DUE_DATE < SYSDATE GROUP BY s.VENDOR_NAME HAVING SUM(ai.INVOICE_AMOUNT) > 10000 ORDER BY TOTAL_UNPAID_AMOUNT DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3068,
      "prompt_token_estimate": 810,
      "sql_length": 637
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001199",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count of PO lines with unit price greater than 100.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS high_price_lines FROM po_lines_all WHERE unit_price > 100"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 288,
      "sql_length": 76
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000891",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and supplier names where the latest ASN status is 'CLOSED', using subquery and RANK.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_number, vendor_name, asn_status FROM ( SELECT pha.segment1 AS po_number, aps.vendor_name, rsh.asn_status, RANK() OVER (PARTITION BY pha.po_header_id ORDER BY rsh.creation_date DESC) AS rn FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id ) WHERE rn = 1 AND asn_status = 'CLOSED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 636,
      "sql_length": 392
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000426",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get a list of suppliers with the highest average PO unit price.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, AVG(pla.unit_price) AS avg_unit_price FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name ORDER BY avg_unit_price DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 757,
      "sql_length": 280
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002023",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find count of invoices under 'Vision Operations' by payment terms */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT t.NAME AS TERMS_NAME, COUNT(DISTINCT i.INVOICE_ID) AS INVOICE_COUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY t.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_TERMS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3024,
      "prompt_token_estimate": 799,
      "sql_length": 327
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001695",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions where TRANSACTION_TYPE is 'DELIVER' and VENDOR_ID is NULL.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, vendor_id FROM rcv_transactions WHERE transaction_type = 'DELIVER' AND vendor_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 390,
      "sql_length": 129
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002245",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors whose average payment amount exceeds 20,000 */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, AVG(aip.AMOUNT) AS AVG_PAYMENT FROM ap_invoice_payments_all aip JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID GROUP BY s.VENDOR_NAME HAVING AVG(aip.AMOUNT) > 20000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 2821,
      "prompt_token_estimate": 746,
      "sql_length": 247
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002537",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me list of purchase orders where purchase order quantity is less than net received quantity`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Table SUMMARIZED_PO_DISTRIBUTIONS schema not available\n\n-- Join relationships:\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID = PO_HEADERS_ALL.VENDOR_SITE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_HEADERS_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH summarized_po_distributions AS (\n    SELECT \n        pd.po_line_id,\n        SUM(NVL(pd.quantity_ordered, 0)) AS sum_qty_ordered,\n        SUM(NVL(pd.quantity_delivered, 0)) AS sum_qty_delivered,\n        SUM(NVL(pd.quantity_billed, 0)) AS sum_qty_billed,\n        SUM(NVL(pd.amount_billed, 0)) AS sum_amt_billed\n    FROM \n        po_distributions_all pd\n    GROUP BY \n        pd.po_line_id\n)\n\nSELECT \n    ph.segment1 AS po_number,\n    ph.creation_date AS po_date,\n    aps.vendor_name,\n    apsa.vendor_site_code,\n    pl.line_num,\n    pl.item_id,\n    pl.unit_meas_lookup_code AS transaction_uom,\n    pl.item_description AS purchase_line_description,\n    msi.segment1 AS item_code,\n    msi.description AS item_description,\n    msi.primary_uom_code,\n    hou.name AS operating_unit,\n    ood.organization_code AS inventory_org_code,\n    gl.name AS ledger_name,\n    pl.quantity AS line_qty_ordered,\n    pl.unit_price AS line_unit_price,\n    NVL(pl.quantity, 0) * NVL(pl.unit_price, 0) * NVL(ph.rate, 1) AS line_amount_ordered,\n    spd.sum_qty_delivered AS dist_qty_delivered,\n    spd.sum_qty_billed AS dist_qty_billed,\n    spd.sum_amt_billed AS dist_amount_billed\nFROM \n    po_headers_all ph\n    JOIN po_lines_all pl ON ph.po_header_id = pl.po_header_id\n    JOIN summarized_po_distributions spd ON pl.po_line_id = spd.po_line_id\n    LEFT JOIN ap_suppliers aps ON ph.vendor_id = aps.vendor_id\n    LEFT JOIN ap_supplier_sites_all apsa ON ph.vendor_site_id = apsa.vendor_site_id\n    LEFT JOIN mtl_system_items_b msi \n        ON pl.item_id = msi.inventory_item_id \n       AND pl.org_id = msi.organization_id\n    LEFT JOIN hr_operating_units hou ON ph.org_id = hou.organization_id\n    LEFT JOIN org_organization_definitions ood ON pl.org_id = ood.organization_id\n    LEFT JOIN gl_ledgers gl ON hou.set_of_books_id = gl.ledger_id\nWHERE \n   1=1\n    AND pl.quantity < spd.sum_qty_delivered\n    AND (NVL(pl.quantity, 0) * NVL(pl.unit_price, 0)) < spd.sum_amt_billed\nORDER BY \n    ph.segment1, pl.line_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "GL_LEDGERS",
        "SUMMARIZED_PO_DISTRIBUTIONS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 8886,
      "prompt_token_estimate": 2271,
      "sql_length": 1990
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002633",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `to get the purchase order data between two periods`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date AS po_creation_date, pha.vendor_id, pha.currency_code, pha.rate, pla.item_id, pla.item_description, pla.quantity, pla.unit_price, pda.quantity_ordered, pda.quantity_delivered, pda.quantity_billed, rt.transaction_id, rt.transaction_type, rt.transaction_date, rt.shipment_header_id, rt.shipment_line_id FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id JOIN rcv_transactions rt ON rt.po_distribution_id = pda.po_distribution_id JOIN hr_operating_units hu ON hu.organization_id = pha.org_id JOIN gl_ledgers gll ON gll.ledger_id = hu.set_of_books_id JOIN gl_periods glp_start ON glp_start.period_set_name = gll.period_set_name AND glp_start.period_type = gll.accounted_period_type AND glp_start.period_name = 'Jan-05'  /* Start Period*/ JOIN gl_periods glp_end ON glp_end.period_set_name = gll.period_set_name AND glp_end.period_type = gll.accounted_period_type AND glp_end.period_name = 'Mar-05' /* End Period*/ WHERE rt.transaction_date BETWEEN glp_start.start_date AND glp_end.end_date ORDER BY pha.segment1, pla.line_num, pda.distribution_num, rt.transaction_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "GL_LEDGERS",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 5950,
      "prompt_token_estimate": 1526,
      "sql_length": 1215
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001758",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List invoices with terms date in next 30 days`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, TERMS_DATE FROM ap_invoices_all WHERE TERMS_DATE BETWEEN SYSDATE AND SYSDATE + 30"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 384,
      "sql_length": 101
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001056",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and suppliers with total transportation costs exceeding 50,000 using SUM.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, SUM(rsl.transportation_cost) AS total_transport FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN rcv_shipment_lines rsl ON rsh.shipment_header_id = rsl.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING SUM(rsl.transportation_cost) > 50000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 3980,
      "prompt_token_estimate": 1043,
      "sql_length": 414
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001743",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices validated by a specific validation request`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, VALIDATION_REQUEST_ID FROM ap_invoices_all WHERE VALIDATION_REQUEST_ID = 3001"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 386,
      "sql_length": 97
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002180",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all approval records joined to vendor name */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.INVOICE_ID = AP_INV_APRVL_HIST_ALL.INVOICE_ID\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INV_APRVL_HIST_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AH.INVOICE_ID, S.VENDOR_NAME, AH.APPROVER_NAME, AH.RESPONSE, AH.CREATION_DATE FROM AP_INV_APRVL_HIST_ALL AH JOIN AP_INVOICES_ALL I ON AH.INVOICE_ID = I.INVOICE_ID JOIN AP_SUPPLIERS S ON I.VENDOR_ID = S.VENDOR_ID"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_INV_APRVL_HIST_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3185,
      "prompt_token_estimate": 834,
      "sql_length": 218
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000881",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the top 10 PO shipments by total transfer + transportation cost using CTE and ORDER BY.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Table SHIPMENT_TOTALS schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH shipment_totals AS ( SELECT pha.segment1 AS po_number, aps.vendor_name, SUM(rsl.transfer_cost + rsl.transportation_cost) AS total_cost FROM rcv_shipment_lines rsl JOIN rcv_shipment_headers rsh ON rsl.shipment_header_id = rsh.shipment_header_id JOIN po_headers_all pha ON rsh.shipment_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name ) SELECT * FROM shipment_totals ORDER BY total_cost DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "SHIPMENT_TOTALS",
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 4027,
      "prompt_token_estimate": 1056,
      "sql_length": 493
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002258",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find overdue payments with no payment recorded yet */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, aps.DUE_DATE, aps.AMOUNT_REMAINING\n  FROM ap_invoices_all ai\n       JOIN ap_payment_schedules_all aps\n          ON ai.INVOICE_ID = aps.INVOICE_ID\n          and gross_amount <> amount_remaining       \n WHERE aps.DUE_DATE < SYSDATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 1658,
      "prompt_token_estimate": 453,
      "sql_length": 252
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002145",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors who have no approved invoices yet */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT s.VENDOR_NAME FROM ap_suppliers s WHERE NOT EXISTS (SELECT 1 FROM ap_invoices_all i WHERE i.VENDOR_ID = s.VENDOR_ID AND i.APPROVAL_STATUS = 'APPROVED')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 665,
      "sql_length": 167
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002313",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with multiple early payments across Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, COUNT(aip.INVOICE_PAYMENT_ID) AS EARLY_PAYMENTS FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aip.CREATION_DATE < aps.DUE_DATE AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY ai.INVOICE_NUM HAVING COUNT(aip.INVOICE_PAYMENT_ID) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 2323,
      "prompt_token_estimate": 624,
      "sql_length": 438
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001638",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions where TRANSACTION_TYPE is not in ('RECEIVE', 'DELIVER').`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, po_header_id, po_line_id FROM rcv_transactions WHERE transaction_type NOT IN ('RECEIVE', 'DELIVER')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 390,
      "sql_length": 140
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000369",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count the number of STANDARD POs per org_id where creation_date is in 2024.`\n\n### Database Schema\n-- Table CREATION_DATE schema not available\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org_id, COUNT(*) AS po_count FROM po_headers_all WHERE type_lookup_code = 'STANDARD' AND EXTRACT(YEAR FROM creation_date) = 2024 GROUP BY org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "CREATION_DATE",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 666,
      "prompt_token_estimate": 211,
      "sql_length": 151
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001581",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List all lines where transportation cost > 1000.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_line_id, shipment_header_id, line_num, transportation_cost, item_id, item_description FROM rcv_shipment_lines WHERE transportation_cost > 1000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 410,
      "sql_length": 158
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001950",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendor 'ABC Supplies' where all distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_NAME = 'ABC Supplies' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 978,
      "sql_length": 316
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002191",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices where last approval response was REJECT */`\n\n### Database Schema\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AH.INVOICE_ID, AH.RESPONSE FROM AP_INV_APRVL_HIST_ALL AH WHERE ah.approval_history_id = (SELECT MAX(ah2.approval_history_id) FROM AP_INV_APRVL_HIST_ALL AH2 WHERE AH2.INVOICE_ID = AH.INVOICE_ID) AND AH.RESPONSE = 'REJECT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INV_APRVL_HIST_ALL"
      ],
      "schema_length": 544,
      "prompt_token_estimate": 176,
      "sql_length": 227
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002386",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify suppliers with current largest number of unpaid overdue invoices under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(ai.INVOICE_ID) AS UNPAID_COUNT FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aps.AMOUNT_REMAINING > 0 AND aps.DUE_DATE < SYSDATE AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME ORDER BY UNPAID_COUNT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 827,
      "sql_length": 437
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001372",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List shipments where the FOB term is not null and freight terms are null`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id FROM po_line_locations_all WHERE fob_lookup_code IS NOT NULL AND freight_terms_lookup_code IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 555,
      "sql_length": 122
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002200",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `list of approvers against specific  invoice */`\n\n### Database Schema\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.INVOICE_ID = AP_INV_APRVL_HIST_ALL.INVOICE_ID\n\n-- AP_INV_APRVL_HIST_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT       ai.INVOICE_NUM,      aih.APPROVER_NAME AS APPROVER,      aih.RESPONSE,      aih.APPROVER_COMMENTS  FROM       AP_INVOICES_ALL ai          JOIN (          SELECT               INVOICE_ID,               MAX(ITERATION) AS MAX_ITERATION          FROM               AP_INV_APRVL_HIST_ALL          WHERE               INVOICE_ID IN (                  SELECT INVOICE_ID                   FROM AP_INVOICES_ALL                   WHERE INVOICE_NUM = 'abc'              )          GROUP BY INVOICE_ID      ) max_it           ON ai.INVOICE_ID = max_it.INVOICE_ID        JOIN AP_INV_APRVL_HIST_ALL aih           ON aih.INVOICE_ID = max_it.INVOICE_ID          AND aih.ITERATION = max_it.MAX_ITERATION  WHERE       ai.INVOICE_NUM = 'abc'  ORDER BY       aih.APPROVAL_HISTORY_ID"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_INV_APRVL_HIST_ALL"
      ],
      "schema_length": 2089,
      "prompt_token_estimate": 559,
      "sql_length": 775
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002029",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find average invoice amount under 'Vision Operations' by ledger */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, AVG(i.INVOICE_AMOUNT) AS AVG_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3392,
      "prompt_token_estimate": 890,
      "sql_length": 329
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001589",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count lines where secondary_unit_of_measure is not NULL.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS non_null_secondary_uom_count FROM rcv_shipment_lines WHERE secondary_unit_of_measure IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 412,
      "sql_length": 115
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000303",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get all POs where closed_code is 'CLOSED'.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no FROM po_headers_all WHERE closed_code = 'CLOSED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 191,
      "sql_length": 85
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001722",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices created between January and February 2024`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, INVOICE_DATE, INVOICE_AMOUNT FROM ap_invoices_all WHERE INVOICE_DATE BETWEEN TO_DATE('2024-01-01', 'YYYY-MM-DD') AND TO_DATE('2024-02-28', 'YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 386,
      "sql_length": 172
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002649",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me list of purchase orders where the net quantity is lying in the staging locatoins`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date AS po_date, pla.line_num AS po_line_number, pla.item_id, msi.segment1 AS item_code, msi.description AS item_description, pda.distribution_num, NVL(rt_received.received_qty, 0) AS quantity_received, NVL(rt_delivered.delivered_qty, 0) AS quantity_delivered, NVL(rt_ret_to_receiving.qty_return_to_receiving, 0) AS return_to_receiving_qty, NVL(rt_ret_to_vendor.qty_return_to_vendor, 0) AS return_to_vendor_qty, (NVL(rt_received.received_qty, 0) - NVL(rt_delivered.delivered_qty, 0) + NVL(rt_ret_to_receiving.qty_return_to_receiving, 0) - NVL(rt_ret_to_vendor.qty_return_to_vendor, 0)) AS net_qty_in_staging FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND msi.organization_id = pda.destination_organization_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS received_qty FROM rcv_transactions WHERE transaction_type = 'RECEIVE' GROUP BY po_distribution_id) rt_received ON rt_received.po_distribution_id = pda.po_distribution_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS delivered_qty FROM rcv_transactions WHERE transaction_type = 'DELIVER' GROUP BY po_distribution_id) rt_delivered ON rt_delivered.po_distribution_id = pda.po_distribution_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS qty_return_to_receiving FROM rcv_transactions WHERE transaction_type = 'RETURN TO RECEIVING' GROUP BY po_distribution_id) rt_ret_to_receiving ON rt_ret_to_receiving.po_distribution_id = pda.po_distribution_id LEFT JOIN (SELECT po_distribution_id, SUM(quantity) AS qty_return_to_vendor FROM rcv_transactions WHERE transaction_type = 'RETURN TO VENDOR' GROUP BY po_distribution_id) rt_ret_to_vendor ON rt_ret_to_vendor.po_distribution_id = pda.po_distribution_id WHERE (NVL(rt_received.received_qty, 0) - NVL(rt_delivered.delivered_qty, 0) + NVL(rt_ret_to_receiving.qty_return_to_receiving, 0) - NVL(rt_ret_to_vendor.qty_return_to_vendor, 0)) > 0 ORDER BY pha.segment1, pla.line_num"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7024,
      "prompt_token_estimate": 1804,
      "sql_length": 2123
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002518",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get item wise purchases from purchase order not necessarily received Calculate total purchase for item AS54888`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    CASE WHEN pl.item_id IS NOT NULL THEN m.segment1 ELSE NULL END AS item_segment1,\n    CASE\n        WHEN pl.item_id IS NOT NULL AND m.description IS NOT NULL THEN m.description\n        ELSE pl.item_description\n    END AS item_description,\n    SUM (\n        pl.unit_price\n        * COALESCE(h.rate, 1)\n        * COALESCE(pd.quantity_ordered, 0)\n    ) AS total_purchase\nFROM po_distributions_all pd\nJOIN po_lines_all pl ON pl.po_line_id = pd.po_line_id\nJOIN po_headers_all h ON pl.po_header_id = h.po_header_id AND h.TYPE_LOOKUP_CODE = 'STANDARD'\nLEFT JOIN mtl_system_items_b m ON pd.destination_organization_id = m.organization_id\n                                AND pl.item_id = m.inventory_item_id\nWHERE \n    pl.item_description LIKE '%AS54888%'\n    OR m.description LIKE '%AS54888%'\n    OR m.segment1 LIKE '%AS54888%'\nGROUP BY \n    CASE WHEN pl.item_id IS NOT NULL THEN m.segment1 ELSE NULL END,\n    CASE\n        WHEN pl.item_id IS NOT NULL AND m.description IS NOT NULL THEN m.description\n        ELSE pl.item_description\n    END\nORDER BY total_purchase DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINES_ALL"
      ],
      "schema_length": 5640,
      "prompt_token_estimate": 1463,
      "sql_length": 1071
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002127",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under supplier site 'MAIN' with total amount over 10,000 */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, ss.VENDOR_SITE_CODE, i.INVOICE_AMOUNT FROM ap_invoices_all i JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE ss.VENDOR_SITE_CODE = 'MAIN' AND i.INVOICE_AMOUNT > 10000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 1826,
      "prompt_token_estimate": 500,
      "sql_length": 216
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001137",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where quantity returned exceeds quantity received for any line (over-return case).*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsl.shipment_line_id FROM po_headers_all pha JOIN rcv_shipment_lines rsl ON pha.po_header_id = rsl.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE (SELECT SUM(quantity) FROM rcv_transactions WHERE shipment_line_id = rsl.shipment_line_id AND transaction_type = 'RETURN TO SUPPLIER') > (SELECT SUM(quantity) FROM rcv_transactions WHERE shipment_line_id = rsl.shipment_line_id AND transaction_type = 'RECEIVE')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4759,
      "prompt_token_estimate": 1242,
      "sql_length": 484
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001140",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs where all shipments have NULL bill of lading numbers.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name HAVING COUNT(CASE WHEN rsh.bill_of_lading IS NOT NULL THEN 1 END) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 626,
      "sql_length": 312
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002327",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers with both domestic (USD) and foreign currency payments in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME HAVING COUNT(DISTINCT aca.CURRENCY_CODE) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4645,
      "prompt_token_estimate": 1210,
      "sql_length": 389
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001565",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get lines where shipment_line_status_code is 'PENDING'.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_line_id, creation_date, shipment_header_id, line_num, category_id, quantity_shipped, quantity_received, unit_of_measure, item_description, item_id FROM rcv_shipment_lines WHERE shipment_line_status_code = 'PENDING'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 412,
      "sql_length": 230
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001919",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions with line type FREIGHT */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_DISTRIBUTION_ID, INVOICE_ID, LINE_TYPE_LOOKUP_CODE, AMOUNT FROM ap_invoice_distributions_all WHERE LINE_TYPE_LOOKUP_CODE = 'FREIGHT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 323,
      "sql_length": 147
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000024",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get currency codes where the total number of ledgers is between 2 and 5.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, COUNT(ledger_id) AS ledger_count FROM gl_ledgers GROUP BY currency_code HAVING COUNT(ledger_id) BETWEEN 2 AND 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 113,
      "sql_length": 133
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000728",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and item descriptions where inspection status is 'REJECTED'.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.description, pla.item_description) AS item_desc FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.inspection_status_code = 'REJECTED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2021,
      "sql_length": 476
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001401",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total of quantity cancelled, grouped by shipment type`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT shipment_type, SUM(quantity_cancelled) AS total_cancelled FROM po_line_locations_all GROUP BY shipment_type"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 552,
      "sql_length": 114
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000703",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve items and their PO numbers where shipment unit price is greater than 1000 and less than 5000.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number, rsl.shipment_unit_price FROM rcv_shipment_lines rsl JOIN po_lines_all pla ON rsl.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rsl.shipment_unit_price > 1000 AND rsl.shipment_unit_price < 5000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 8291,
      "prompt_token_estimate": 2124,
      "sql_length": 526
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001188",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where total return quantity is more than 25% of total received quantity.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, SUM(CASE WHEN rct.transaction_type = 'RETURN TO SUPPLIER' THEN rct.quantity ELSE 0 END) AS returned_qty, SUM(CASE WHEN rct.transaction_type = 'RECEIVE' THEN rct.quantity ELSE 0 END) AS received_qty FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING SUM(CASE WHEN rct.transaction_type = 'RETURN TO SUPPLIER' THEN rct.quantity ELSE 0 END) > 0.25 * SUM(CASE WHEN rct.transaction_type = 'RECEIVE' THEN rct.quantity ELSE 0 END)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 831,
      "sql_length": 612
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002316",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate total check payments issued per bank under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NAME, SUM(aca.AMOUNT) AS TOTAL_AMOUNT FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.BANK_ACCOUNT_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 931,
      "sql_length": 343
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001290",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO lines where closed_reason is not null and closed_flag = 'Y'.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_line_id FROM po_lines_all WHERE closed_reason IS NOT NULL AND closed_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 293,
      "sql_length": 89
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001086",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs and suppliers where at least 3 transactions have a reason ID populated.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, count(*) AS reason_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.reason_id IS NOT NULL GROUP BY aps.vendor_name, pha.segment1 HAVING count(*) >= 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 827,
      "sql_length": 311
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002579",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `to get opening balance at the start period and  period movement  for the period range and closing balance at the end of period across range of period say mar 08 to sep 08`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table OPENINGBALANCE schema not available\n\n-- Table MAR schema not available\n\n-- Table PERIODMOVEMENTS schema not available\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\n-- Table FIRST schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- PERIODMOVEMENTS.ACCOUNT = OPENINGBALANCE.ACCOUNT\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH OpeningBalance AS ( SELECT gcc.segment3 AS account, SUM(NVL(bal.BEGIN_BALANCE_DR, 0) - NVL(bal.BEGIN_BALANCE_CR, 0)) AS opening_balance FROM gl_balances bal JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id JOIN GL_LEDGERS led ON bal.LEDGER_ID = led.LEDGER_ID JOIN GL_PERIODS gp ON bal.PERIOD_NAME = gp.PERIOD_NAME AND gp.period_set_name = led.period_set_name AND gp.period_type = led.accounted_period_type WHERE led.LEDGER_ID = 1 AND gcc.account_type = 'E' AND gp.PERIOD_NAME = 'Mar-08'  /*Only take opening balance from first period*/ AND bal.ACTUAL_FLAG = 'A' AND bal.TEMPLATE_ID IS NULL AND bal.TRANSLATED_FLAG IS NULL AND bal.CURRENCY_CODE = led.CURRENCY_CODE GROUP BY gcc.segment3 ), PeriodMovements AS ( SELECT gcc.segment3 AS account, SUM(NVL(bal.PERIOD_NET_DR, 0)) AS total_debit, SUM(NVL(bal.PERIOD_NET_CR, 0)) AS total_credit FROM gl_balances bal JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id JOIN GL_LEDGERS led ON bal.LEDGER_ID = led.LEDGER_ID JOIN GL_PERIODS gp ON bal.PERIOD_NAME = gp.PERIOD_NAME AND gp.period_set_name = led.period_set_name AND gp.period_type = led.accounted_period_type WHERE led.LEDGER_ID = 1 AND gcc.account_type = 'E' AND gp.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = led.period_set_name AND period_type = led.accounted_period_type) AND gp.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Sep-08' AND period_set_name = led.period_set_name AND period_type = led.accounted_period_type) AND bal.ACTUAL_FLAG = 'A' AND bal.TEMPLATE_ID IS NULL AND bal.TRANSLATED_FLAG IS NULL AND bal.CURRENCY_CODE = led.CURRENCY_CODE GROUP BY gcc.segment3 ) SELECT pm.account, gl_flexfields_pkg.get_description_sql(led.chart_of_accounts_id, 3, pm.account) AS account_desc, NVL(ob.opening_balance, 0) AS opening_balance,  /* Opening balance from Mar-08 only*/ NVL(pm.total_debit, 0) AS debit,  /*Total period debits from Mar-08 to Sep-08*/ NVL(pm.total_credit, 0) AS credit,  /* Total period credits from Mar-08 to Sep-08*/ NVL(ob.opening_balance, 0) + NVL(pm.total_debit, 0) - NVL(pm.total_credit, 0) AS closing_balance  /*Correct closing balance calculation*/ FROM PeriodMovements pm LEFT JOIN OpeningBalance ob ON pm.account = ob.account JOIN GL_LEDGERS led ON led.LEDGER_ID = 1 ORDER BY pm.account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "OPENINGBALANCE",
        "MAR",
        "PERIODMOVEMENTS",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "FIRST"
      ],
      "schema_length": 1859,
      "prompt_token_estimate": 533,
      "sql_length": 2364
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002566",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `PO Receipt Delays by Vendor with Custom Threshold (30 Days)`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(DISTINCT pha.segment1) AS delayed_pos, AVG(rt.transaction_date - pll.promised_date) AS avg_days_delayed, SUM(pla.quantity) AS total_ordered_quantity, SUM(rt.quantity) AS total_received_quantity FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all pll ON pla.po_line_id = pll.po_line_id JOIN rcv_transactions rt ON pll.line_location_id = rt.po_line_location_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rt.transaction_type = 'RECEIVE' AND pha.approved_flag = 'Y' AND (rt.transaction_date - pll.promised_date) > 30 GROUP BY aps.vendor_name ORDER BY avg_days_delayed DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6489,
      "prompt_token_estimate": 1663,
      "sql_length": 676
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002384",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices where the cleared payment amount exceeded invoice amount (overpayments) under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, SUM(aca.AMOUNT) AS CLEARED_TOTAL FROM ap_invoices_all ai JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY ai.INVOICE_NUM, ai.INVOICE_AMOUNT HAVING SUM(aca.AMOUNT) > ai.INVOICE_AMOUNT"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 941,
      "sql_length": 450
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001130",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and suppliers where last transaction was a correction.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'CORRECT' AND rct.transaction_date = (SELECT MAX(rct2.transaction_date) FROM rcv_transactions rct2 WHERE rct2.po_header_id = pha.po_header_id)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 825,
      "sql_length": 374
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000333",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count POs for each document type where currency is 'USD'.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT type_lookup_code, COUNT(*) AS po_count FROM po_headers_all WHERE currency_code = 'USD' GROUP BY type_lookup_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 195,
      "sql_length": 119
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002160",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total AWT, FREIGHT, and PREPAY amounts per vendor */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(CASE WHEN d.LINE_TYPE_LOOKUP_CODE = 'AWT' THEN d.AMOUNT ELSE 0 END) AS TOTAL_AWT, SUM(CASE WHEN d.LINE_TYPE_LOOKUP_CODE = 'FREIGHT' THEN d.AMOUNT ELSE 0 END) AS TOTAL_FREIGHT, SUM(CASE WHEN d.LINE_TYPE_LOOKUP_CODE = 'PREPAY' THEN NVL(d.PREPAY_AMOUNT_REMAINING, 0) ELSE 0 END) AS TOTAL_PREPAY FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 972,
      "sql_length": 479
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002488",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `give me the list of invoices giving the aging bucket of their approvals delays`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n-- Table LATEST_ITERATIONS schema not available\n\n-- Table APPROVAL_DATA schema not available\n\n-- Table FINAL_DATA schema not available\n\n-- Table SUBMISSION_DATES schema not available\n\n-- Table APPROVAL_DATES schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.INVOICE_ID = AP_INV_APRVL_HIST_ALL.INVOICE_ID\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INV_APRVL_HIST_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH approval_data\n     AS (SELECT ai.invoice_id,\n                ai.invoice_num,\n                ai.invoice_date,\n                aps.vendor_name,\n                ah.iteration,\n                ah.response,\n                ah.creation_date AS response_date,\n                RANK ()\n                OVER (PARTITION BY ah.invoice_id, ah.iteration\n                      ORDER BY ah.approval_history_id)\n                   AS rn_first,\n                RANK ()\n                OVER (PARTITION BY ah.invoice_id, ah.iteration\n                      ORDER BY ah.approval_history_id DESC)\n                   AS rn_last\n           FROM ap_invoices_all ai\n                JOIN ap_suppliers aps\n                   ON ai.vendor_id = aps.vendor_id\n                JOIN ap_inv_aprvl_hist_all ah\n                   ON ai.invoice_id = ah.invoice_id\n          WHERE 1 = 1),\n     submission_dates\n     AS (  SELECT invoice_id, iteration, MIN (response_date) AS submitted_date\n             FROM approval_data\n            WHERE response NOT IN\n                     ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED')\n         GROUP BY invoice_id, iteration),\n     approval_dates\n     AS (  SELECT invoice_id, iteration, MAX (response_date) AS approved_date\n             FROM approval_data\n            WHERE response IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED')\n         GROUP BY invoice_id, iteration),\n     latest_iterations\n     AS (  SELECT invoice_id, MAX (iteration) AS latest_iteration\n             FROM approval_data\n         GROUP BY invoice_id),\n     final_data\n     AS (SELECT s.invoice_id,\n                ai.invoice_num,\n                ai.invoice_date,\n                aps.vendor_name,\n                s.iteration,\n                s.submitted_date,\n                a.approved_date,\n                CASE\n                   WHEN a.approved_date IS NOT NULL\n                   THEN\n                      a.approved_date - s.submitted_date\n                   ELSE\n                      CURRENT_DATE - s.submitted_date\n                END\n                   AS days_taken,\n                CASE\n                   WHEN a.approved_date IS NOT NULL THEN 'Approved'\n                   ELSE 'Pending or Withdrawn'\n                END\n                   AS approval_status,\n                l.latest_iteration\n           FROM submission_dates s\n                LEFT JOIN approval_dates a\n                   ON     s.invoice_id = a.invoice_id\n                      AND s.iteration = a.iteration\n                JOIN latest_iterations l\n                   ON s.invoice_id = l.invoice_id\n                JOIN ap_invoices_all ai\n                   ON s.invoice_id = ai.invoice_id\n                JOIN ap_suppliers aps\n                   ON ai.vendor_id = aps.vendor_id)\n  SELECT invoice_num,\n         invoice_date,\n         vendor_name,\n         iteration,\n         invoice_id,\n         submitted_date,\n         approved_date,\n         days_taken,\n         approval_status\n    FROM final_data\n   WHERE    (approved_date IS NOT NULL AND days_taken > 0)\n         OR (    approved_date IS NULL\n             AND iteration = latest_iteration\n             AND days_taken > 0)\nORDER BY submitted_date DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "LATEST_ITERATIONS",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "APPROVAL_DATA",
        "AP_INV_APRVL_HIST_ALL",
        "FINAL_DATA",
        "SUBMISSION_DATES",
        "APPROVAL_DATES"
      ],
      "schema_length": 3415,
      "prompt_token_estimate": 899,
      "sql_length": 3175
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002572",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get trial balances of multiple ledgers when leger short names are provided`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table TRIAL_BALANCE schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH trial_balance AS ( SELECT LED.ledger_id, /* Using ledger_id for pivot */ LED.short_name AS ledger_short_name, TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, GCC.segment3 AS account, gl_flexfields_pkg.get_description_sql(LED.chart_of_accounts_id, 3, GCC.segment3) AS account_desc, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0) + NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS closing_balance FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE LED.chart_of_accounts_id = 101 /* Replace with your COA ID */ AND LED.period_set_name = 'Accounting' /*Replace with your Period Set Name*/ AND LED.accounted_period_type = 'Month' /*Replace with your Period Type*/ AND GP.PERIOD_NAME = 'Jan-05' /*Replace with your required period*/ AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL AND BAL.CURRENCY_CODE = LED.CURRENCY_CODE GROUP BY LED.ledger_id, LED.short_name, TO_CHAR(GP.START_DATE, 'YYYY-MM'), GCC.segment3, gl_flexfields_pkg.get_description_sql(LED.chart_of_accounts_id, 3, GCC.segment3) ) SELECT * FROM ( SELECT account, account_desc, ledger_short_name, closing_balance FROM trial_balance ) PIVOT ( MAX(closing_balance) FOR ledger_short_name IN ( 'Vision Operations-' AS \"Ledger A Closing\", 'Vision BR SL (USD)-' AS \"Ledger B Closing\", 'Vision IFRS/IAS Ops-' AS \"Ledger C Closing\" ) ) ORDER BY account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "TRIAL_BALANCE",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS"
      ],
      "schema_length": 1686,
      "prompt_token_estimate": 466,
      "sql_length": 1626
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002699",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Give me closing balances for Jan and June 2003 along with the growth percentage for vision operations ledger showing the list of accounts that have grown by more than 5% between the above months. Include only expense accounts`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Table CLOSING_BALANCES schema not available\n\n-- Table GROWTH_DATA schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH closing_balances AS (\n    SELECT\n        gcc.segment3                                                                                                             AS account\n        ,\n        SUM(nvl(bal.begin_balance_dr, 0) - nvl(bal.begin_balance_cr, 0) + nvl(bal.period_net_dr, 0) - nvl(bal.period_net_cr, 0)) AS closing_balance\n    FROM\n             gl_balances bal\n        JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id\n        JOIN gl_ledgers           led ON bal.ledger_id = led.ledger_id\n        JOIN gl_periods           gp ON bal.period_name = gp.period_name\n                              AND gp.period_set_name = led.period_set_name\n                              AND gp.period_type = led.accounted_period_type\n    WHERE\n            led.name = 'Vision Operations (USA)'\n        AND gp.start_date IN ( (\n            SELECT\n                start_date\n            FROM\n                gl_periods\n            WHERE\n                    period_name = 'Jan-03'\n                AND period_set_name = led.period_set_name\n                AND period_type = led.accounted_period_type\n        ), (\n            SELECT\n                start_date\n            FROM\n                gl_periods\n            WHERE\n                    period_name = 'Jun-03'\n                AND period_set_name = led.period_set_name\n                AND period_type = led.accounted_period_type\n        ) )\n        AND gcc.account_type = 'E'\n        AND bal.actual_flag = 'A'\n        AND bal.template_id IS NULL\n        AND bal.translated_flag IS NULL\n        AND bal.currency_code = led.currency_code\n    GROUP BY\n        gcc.segment3\n), growth_data AS (\n    SELECT\n        account, closing_balance,\n        ( closing_balance - LAG(closing_balance)\n                            OVER(PARTITION BY account\n                                 ORDER BY\n                                     account\n        ) ) / nullif(\n            abs(LAG(closing_balance)\n                OVER(PARTITION BY account\n                     ORDER BY\n                         account\n            )),\n            0\n        ) * 100 AS growth_percentage\n    FROM\n        closing_balances\n)\nSELECT\n    account,\n    closing_balance,\n    growth_percentage\nFROM\n    growth_data\nWHERE\n    growth_percentage > 5\nORDER BY\n    account;"
      }
    ],
    "meta": {
      "source": "corrections",
      "quality_tier": "high",
      "augmentation_type": "schema_permutation",
      "tables": [
        "CLOSING_BALANCES",
        "GL_PERIODS",
        "GL_BALANCES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "GROWTH_DATA"
      ],
      "schema_length": 1732,
      "prompt_token_estimate": 515,
      "sql_length": 2304
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002582",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `can you give me month wise opening balance, movement and  closing balance only between mar 08 and apr 08 for all expense accounts at segment2 level for ledger id 1`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\n-- Table PERIOD_MOVEMENT schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH period_movement AS ( SELECT TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, GCC.segment2 AS account_segment2, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0)) AS opening_balance, SUM(NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS movement_in_accounting_period, SUM(NVL(BAL.BEGIN_BALANCE_DR, 0) - NVL(BAL.BEGIN_BALANCE_CR, 0) + NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS closing_balance FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE LED.LEDGER_ID = 1 AND GCC.account_type = 'E' AND GP.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND GP.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Apr-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL AND BAL.CURRENCY_CODE = LED.CURRENCY_CODE GROUP BY TO_CHAR(GP.START_DATE, 'YYYY-MM'), GCC.segment2 ) SELECT period, account_segment2, MAX(CASE WHEN period = '2008-03' THEN opening_balance END) AS \"Mar-08 Opening\", MAX(CASE WHEN period = '2008-03' THEN movement_in_accounting_period END) AS \"Mar-08 Movement\", MAX(CASE WHEN period = '2008-03' THEN closing_balance END) AS \"Mar-08 Closing\", MAX(CASE WHEN period = '2008-04' THEN opening_balance END) AS \"Apr-08 Opening\", MAX(CASE WHEN period = '2008-04' THEN movement_in_accounting_period END) AS \"Apr-08 Movement\", MAX(CASE WHEN period = '2008-04' THEN closing_balance END) AS \"Apr-08 Closing\" FROM period_movement GROUP BY period,account_segment2 ORDER BY account_segment2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "PERIOD_MOVEMENT"
      ],
      "schema_length": 1688,
      "prompt_token_estimate": 488,
      "sql_length": 1933
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000003",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve ledgers that are enabled and have their accounting period type as 'Monthly'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT name AS ledger_name, accounted_period_type FROM gl_ledgers WHERE complete_flag = 'Y' AND accounted_period_type = 'Monthly'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 116,
      "sql_length": 129
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000995",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and PO numbers where the maximum billed amount per distribution exceeds 1 million using MAX and HAVING.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, MAX(pod.amount_billed) AS max_billed FROM po_headers_all pha JOIN po_distributions_all pod ON pha.po_header_id = pod.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING MAX(pod.amount_billed) > 1000000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 816,
      "sql_length": 314
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000640",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs where the vendor site is not associated with any shipments.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number FROM po_headers_all pha LEFT JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.vendor_site_id IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 348,
      "sql_length": 169
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002248",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the number of cleared vs uncleared checks */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT STATUS_LOOKUP_CODE, COUNT(*) AS CHECK_COUNT FROM ap_checks_all WHERE STATUS_LOOKUP_CODE IN ('CLEARED', 'NEGOTIABLE') GROUP BY STATUS_LOOKUP_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL"
      ],
      "schema_length": 1471,
      "prompt_token_estimate": 405,
      "sql_length": 151
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001628",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions with PO_UNIT_PRICE between 10 and 50.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, po_unit_price, po_header_id FROM rcv_transactions WHERE po_unit_price BETWEEN 10 AND 50"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 385,
      "sql_length": 128
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000917",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers where at least one PO distribution has NULL budget account using EXISTS.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE EXISTS ( SELECT 1 FROM po_distributions_all pod WHERE pod.po_header_id = pha.po_header_id AND pod.budget_account_id IS NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 812,
      "sql_length": 260
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002401",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List invoices as of 31-Dec-2007 showing total invoice value before that GL date */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.GL_DATE, ai.INVOICE_AMOUNT FROM ap_invoices_all ai WHERE ai.GL_DATE <= TO_DATE('2007-12-31', 'YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 393,
      "sql_length": 147
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002353",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find overdue invoices with no payments recorded under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    ai.INVOICE_NUM, \n    aps.DUE_DATE, \n    aps.AMOUNT_REMAINING \nFROM \n    ap_invoices_all ai \nJOIN \n    ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID \nWHERE \n    aps.DUE_DATE > SYSDATE \n    AND aps.AMOUNT_REMAINING > 0 \n    AND ai.GROSS_AMOUNT <> aps.AMOUNT_REMAINING      -- Only approved invoices\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 1658,
      "prompt_token_estimate": 459,
      "sql_length": 643
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000828",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and their total number of PO distributions where amount billed is zero.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pod.po_distribution_id) AS zero_billed_count FROM po_distributions_all pod JOIN po_headers_all pha ON pod.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pod.amount_billed = 0 GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 808,
      "sql_length": 275
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001810",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices for vendors of type 'EMPLOYEE'`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE s.VENDOR_TYPE_LOOKUP_CODE = 'EMPLOYEE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 663,
      "sql_length": 179
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002305",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Identify invoices paid in foreign currency with cleared checks under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT      ai.INVOICE_NUM AS \"INVOICE_NUM\",     aca.CURRENCY_CODE AS \"PAYMENT_CURRENCY\",     gl.CURRENCY_CODE AS \"ACCOUNTING_CURRENCY\",     aca.CHECK_NUMBER AS \"CHECK_NUMBER\",     aca.AMOUNT AS \"AMOUNT\",     aca.STATUS_LOOKUP_CODE AS \"STATUS_LOOKUP_CODE\",     s.VENDOR_NAME AS \"VENDOR_NAME\" FROM      ap_invoices_all ai     JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID     JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID     JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID     JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID     JOIN gl_ledgers gl ON h.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE      aca.CURRENCY_CODE <> gl.CURRENCY_CODE     AND aca.STATUS_LOOKUP_CODE = 'CLEARED'     AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 5053,
      "prompt_token_estimate": 1311,
      "sql_length": 766
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000763",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers, supplier names, and shipment comments for all shipments with missing freight bill numbers.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, rsh.comments FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.freight_bill_number IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 638,
      "sql_length": 255
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000936",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get PO numbers, supplier names, and count of distinct UOMs used per PO using GROUP BY.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, COUNT(DISTINCT rct.unit_of_measure) AS distinct_uoms FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4245,
      "prompt_token_estimate": 1109,
      "sql_length": 343
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002310",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate days between invoice creation and cleared payment for Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.CREATION_DATE AS INVOICE_DATE, aca.CHECK_DATE, aca.CHECK_NUMBER, (aca.CHECK_DATE - ai.CREATION_DATE) AS DAYS_TO_CLEAR FROM ap_invoices_all ai JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 934,
      "sql_length": 433
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000109",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the earliest created unit per business_group_id.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT organization_id, business_group_id, date_from FROM (SELECT organization_id, business_group_id, date_from, ROW_NUMBER() OVER (PARTITION BY business_group_id ORDER BY date_from ASC) AS rn FROM hr_operating_units) WHERE rn = 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 110,
      "sql_length": 230
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000652",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers with total net delivered quantity greater than 10,000 units using HAVING.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        SUM(            CASE                WHEN rct.transaction_type = 'DELIVER' THEN rct.quantity                WHEN rct.transaction_type = 'RETURN TO VENDOR' THEN -rct.quantity                ELSE 0            END        ) AS total_delivered FROM po_headers_all pha      JOIN po_lines_all pla          ON pha.po_header_id = pla.po_header_id      JOIN ap_suppliers aps          ON pha.vendor_id = aps.vendor_id      JOIN rcv_transactions rct          ON pla.po_line_id = rct.po_line_id WHERE rct.transaction_type IN ('DELIVER', 'RETURN TO VENDOR') GROUP BY aps.vendor_name HAVING SUM(            CASE                WHEN rct.transaction_type = 'DELIVER' THEN rct.quantity                WHEN rct.transaction_type = 'RETURN TO VENDOR' THEN -rct.quantity                ELSE 0            END        ) > 10000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4245,
      "prompt_token_estimate": 1109,
      "sql_length": 832
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001719",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List withholding tax invoices`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, INVOICE_TYPE_LOOKUP_CODE, AWT_FLAG FROM ap_invoices_all WHERE INVOICE_TYPE_LOOKUP_CODE = 'WITHHOLDING'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 380,
      "sql_length": 122
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002532",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get list of items sent back to receiving for return to supplier but still not returned to supplier`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number,\n         pha.creation_date AS po_date,\n         pla.line_num AS po_line_number,\n         pla.item_id,\n         msi.segment1 AS item_code,\n         msi.description AS item_description,\n         pda.distribution_num,\n         COALESCE (rt_stagging.qty_rtn_to_staging, 0) AS qty_rtn_to_staging,\n         COALESCE (rt_vendor.qty_rtn_to_vendor, 0) AS qty_rtn_to_vendor,\n         (  COALESCE (rt_stagging.qty_rtn_to_staging, 0)\n          - COALESCE (rt_vendor.qty_rtn_to_vendor, 0))\n            AS qty_pending_rtn_to_vendor\n    FROM po_headers_all pha\n         JOIN po_lines_all pla\n            ON pha.po_header_id = pla.po_header_id\n         JOIN po_distributions_all pda\n            ON pla.po_line_id = pda.po_line_id\n         JOIN mtl_system_items_b msi\n            ON     pla.item_id = msi.inventory_item_id\n               AND msi.organization_id = pda.destination_organization_id\n         LEFT JOIN (  SELECT rt.po_distribution_id,\n                             SUM (\n                                rt.quantity * COALESCE (muc.conversion_rate, 1))\n                                AS qty_rtn_to_staging\n                        FROM rcv_transactions rt\n                             JOIN po_distributions_all pda\n                                ON rt.po_distribution_id = pda.po_distribution_id\n                             JOIN po_lines_all pla\n                                ON pda.po_line_id = pla.po_line_id\n                            left JOIN mtl_system_items_b msi\n                                ON     pla.item_id = msi.inventory_item_id\n                                   AND pda.destination_organization_id =\n                                          msi.organization_id\n                             LEFT JOIN mtl_uom_conversions muc\n                                ON     muc.inventory_item_id =\n                                          msi.inventory_item_id\n                                   AND muc.uom_code = rt.uom_code\n                        WHERE rt.transaction_type = 'RETURN TO RECEIVING'\n                    GROUP BY rt.po_distribution_id) rt_stagging\n            ON rt_stagging.po_distribution_id = pda.po_distribution_id\n         LEFT JOIN (  SELECT rt.po_distribution_id,\n                             SUM (\n                                rt.quantity * COALESCE (muc.conversion_rate, 1))\n                                AS qty_rtn_to_vendor\n                        FROM rcv_transactions rt\n                             JOIN po_distributions_all pda\n                                ON rt.po_distribution_id = pda.po_distribution_id\n                             JOIN po_lines_all pla\n                                ON pda.po_line_id = pla.po_line_id\n                             left JOIN mtl_system_items_b msi\n                                ON     pla.item_id = msi.inventory_item_id\n                                   AND pda.destination_organization_id =\n                                          msi.organization_id\n                             LEFT JOIN mtl_uom_conversions muc\n                                ON     muc.inventory_item_id =\n                                          msi.inventory_item_id\n                                   AND muc.uom_code = rt.uom_code                                   \n                       WHERE rt.transaction_type = 'RETURN TO VENDOR'\n                    GROUP BY rt.po_distribution_id) rt_vendor\n            ON rt_vendor.po_distribution_id = pda.po_distribution_id\n   WHERE (  COALESCE (rt_stagging.qty_rtn_to_staging, 0)\n         - COALESCE (rt_vendor.qty_rtn_to_vendor, 0)) > 0\nORDER BY pha.segment1, pla.line_num\n\n\nselect * from rcv_transactions"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7293,
      "prompt_token_estimate": 1873,
      "sql_length": 3655
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000346",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get POs where closed_date is within the last 30 days.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no FROM po_headers_all WHERE closed_date >= (SYSDATE - 30)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 194,
      "sql_length": 92
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002569",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get Journal details of header and lines`\n\n### Database Schema\nCREATE TABLE GL_JE_HEADERS (\n    JE_HEADER_ID NUMBER,\n    LEDGER_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    NAME VARCHAR2,\n    JE_SOURCE VARCHAR2,\n    JE_CATEGORY VARCHAR2,\n    CURRENCY_CODE VARCHAR2,\n    STATUS VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    DEFAULT_EFFECTIVE_DATE DATE,\n    CREATION_DATE DATE,\n    POSTED_DATE DATE\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "select LED.NAME ledger_name,jhead.je_header_id,jhead.je_category,jhead.je_source,jhead.period_name,jhead.name,jhead.CURRENCY_CODE,jhead.status,jhead.actual_flag, jhead.default_effective_date,jhead.creation_date, jhead.posted_date,jhead.JE_FROM_SLA_FLAG, jline.JE_LINE_NUM,jline.CODE_COMBINATION_ID,jline.EFFECTIVE_DATE,jline.ENTERED_DR,jline.ENTERED_CR,jline.ACCOUNTED_DR,jline.ACCOUNTED_CR, jline.DESCRIPTION,jline.GL_SL_LINK_ID,jline.GL_SL_LINK_TABLE, gl_flexfields_pkg.get_description_sql(led.chart_of_accounts_id,1,gcc.segment1) bu_name, gl_flexfields_pkg.get_description_sql( led.chart_of_accounts_id,3,gcc.segment3) acct_desc from gl_je_headers jhead, gl_je_lines jline, gl_ledgers led, gl_code_combinations gcc where 1=1 and jhead.je_header_id = jline.je_header_id and led.ledger_id = jhead.ledger_id and jhead.actual_flag = 'A' and jhead.status = 'P' /*for posted only journal.. only posted journal have accounting impact on trail balance*/ and jline.code_combination_id = gcc.code_combination_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_JE_HEADERS"
      ],
      "schema_length": 326,
      "prompt_token_estimate": 117,
      "sql_length": 1004
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000340",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List vendors with no canceled purchase orders.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT vendor_id FROM po_headers_all GROUP BY vendor_id HAVING SUM(CASE WHEN cancel_flag = 'Y' THEN 1 ELSE 0 END) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 192,
      "sql_length": 117
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001384",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total quantity financed and total recouped grouped by PO header`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_header_id, SUM(quantity_financed) AS total_financed, SUM(quantity_recouped) AS total_recouped FROM po_line_locations_all GROUP BY po_header_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 554,
      "sql_length": 152
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000412",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and count of POs that were cancelled in the last 6 months.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        COUNT(DISTINCT pha.po_header_id) AS cancelled_po_count FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps     ON pha.vendor_id = aps.vendor_id WHERE pha.cancel_flag = 'Y'   AND pla.cancel_date IS NOT NULL GROUP BY aps.vendor_name HAVING MAX(pla.cancel_date) >= ADD_MONTHS(SYSDATE, -6)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 760,
      "sql_length": 375
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000110",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count of units with uppercase short_code.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS uppercase_short_code_count FROM hr_operating_units WHERE short_code = UPPER(short_code)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 107,
      "sql_length": 106
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000840",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers with shipments where the number of containers is between 3 and 10.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsh.num_of_containers FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.num_of_containers BETWEEN 3 AND 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 634,
      "sql_length": 271
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001988",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List invoice numbers, ledger names, and amounts for approved invoices */`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, g.NAME AS LEDGER_NAME, i.INVOICE_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE i.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2911,
      "prompt_token_estimate": 771,
      "sql_length": 241
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000318",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers with the highest revision number per organization.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no, org_id, revision_num FROM po_headers_all WHERE (org_id, revision_num) IN (SELECT org_id, MAX(revision_num) FROM po_headers_all GROUP BY org_id)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 197,
      "sql_length": 181
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000479",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show POs and associated items where the destination type is 'EXPENSE'.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number,        NVL(msi.segment1, pla.item_description) AS item_code FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla     ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod     ON plla.line_location_id = pod.line_location_id LEFT JOIN mtl_system_items_b msi     ON pla.item_id = msi.inventory_item_id    AND pod.destination_organization_id = msi.organization_id WHERE pod.destination_type_code = 'EXPENSE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 8054,
      "prompt_token_estimate": 2057,
      "sql_length": 517
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000527",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `GIVE PURCHASE ORDER VS INVOICED STATUS FOR ALL VENDOR BETWEEN DATES*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT     pha.segment1 AS po_number,     aps.vendor_name,     SUM(pod.quantity_ordered) AS total_ordered_qty,     SUM(pod.quantity_billed) AS total_billed_qty,     SUM(pod.amount_ordered) AS total_ordered_amt,     SUM(pod.amount_billed) AS total_billed_amt FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.creation_date BETWEEN TO_DATE('2023-01-01', 'YYYY-MM-DD') AND TO_DATE('2023-12-31', 'YYYY-MM-DD') GROUP BY pha.segment1, aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1681,
      "sql_length": 690
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001671",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count transactions grouped by ORGANIZATION_ID where CURRENCY_CODE is 'JPY'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT organization_id, COUNT(*) AS txn_count FROM rcv_transactions WHERE currency_code = 'JPY' GROUP BY organization_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 390,
      "sql_length": 120
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002243",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List payments made on overdue invoices */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, aps.DUE_DATE, aip.CREATION_DATE AS PAYMENT_DATE FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID WHERE aip.CREATION_DATE > aps.DUE_DATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 1972,
      "prompt_token_estimate": 529,
      "sql_length": 269
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000281",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the max and min currency rate per currency.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, MAX(rate) AS max_rate, MIN(rate) AS min_rate FROM po_headers_all GROUP BY currency_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 193,
      "sql_length": 109
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000999",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and suppliers where PO lines have no linked distributions using NOT EXISTS.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE NOT EXISTS ( SELECT 1 FROM po_distributions_all pod WHERE pod.po_line_id = pla.po_line_id )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4224,
      "prompt_token_estimate": 1104,
      "sql_length": 287
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000987",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and suppliers where the average unit price for received items is below 50 using AVG.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, AVG(rct.po_unit_price) AS avg_unit_price FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name HAVING AVG(rct.po_unit_price) < 50"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 833,
      "sql_length": 309
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001018",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and PO numbers where more than 5 transactions have destination type 'EXPENSE'.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(*) AS expense_count FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.destination_type_code = 'EXPENSE' GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(*) > 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 830,
      "sql_length": 323
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001945",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List expense report invoices and vendor site codes where approved and validated */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, ss.VENDOR_SITE_CODE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'EXPENSE REPORT' AND i.APPROVAL_STATUS = 'APPROVED' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIER_SITES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3048,
      "prompt_token_estimate": 808,
      "sql_length": 408
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001303",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get inventory organizations,operating units and  segment1 which is po number (purchse order number),item details etc for jan07`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date, pha.authorization_status, pla.item_description, pla.quantity, hou.name AS operating_unit_name, ood.organization_name AS inventory_organization_name FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN hr_operating_units hou ON pla.org_id = hou.organization_id JOIN org_organization_definitions ood ON plla.ship_to_organization_id = ood.organization_id WHERE pha.creation_date BETWEEN TO_DATE('01-JAN-2007', 'DD-MON-YYYY') AND TO_DATE('31-JAN-2007', 'DD-MON-YYYY')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 4985,
      "prompt_token_estimate": 1303,
      "sql_length": 621
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001845",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total invoice amount by vendor under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(a.INVOICE_AMOUNT) AS TOTAL_AMOUNT FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.ORGANIZATION_ID JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 754,
      "sql_length": 259
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000264",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get conversions where the UOM code is 'KG' and conversion rate is exactly 1.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE uom_code = 'KG' AND conversion_rate = 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 91,
      "sql_length": 150
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000581",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve items and PO numbers where the unit of measure matches the primary UOM.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- RCV_SHIPMENT_LINES.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number, rsl.unit_of_measure, msi.primary_uom FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN rcv_shipment_lines rsl ON pla.po_line_id = rsl.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rsl.unit_of_measure = msi.PRIMARY_UNIT_OF_MEASURE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 8291,
      "prompt_token_estimate": 2119,
      "sql_length": 523
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001151",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs with shipments where packing slip numbers are duplicated across different shipments.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, rsh.packing_slip, count(*) AS slip_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id GROUP BY pha.segment1, rsh.packing_slip HAVING count(*) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 355,
      "sql_length": 233
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002602",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get pivoted retsults means rows as columns0> give me month wise period movement actuals for ACCOUNT 7360 for ledger Vision Operations (USA) between jan 2008 and mar 2008 along with growth month on month`\n\n### Database Schema\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table PERIOD_MOVEMENT schema not available\n\n-- Table PERIOD_GROWTH schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH period_movement AS ( SELECT TO_CHAR(GP.START_DATE, 'YYYY-MM') AS period, SUM(NVL(BAL.PERIOD_NET_DR, 0) - NVL(BAL.PERIOD_NET_CR, 0)) AS movement_in_accounting_period FROM gl_balances BAL JOIN gl_code_combinations GCC ON BAL.code_combination_id = GCC.code_combination_id JOIN GL_LEDGERS LED ON BAL.LEDGER_ID = LED.LEDGER_ID JOIN GL_PERIODS GP ON BAL.PERIOD_NAME = GP.PERIOD_NAME AND GP.period_set_name = LED.period_set_name AND GP.period_type = LED.accounted_period_type WHERE GCC.segment3 = '7360' AND LED.NAME = 'Vision Operations (USA)' AND GP.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Jan-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND GP.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = LED.period_set_name AND period_type = LED.accounted_period_type) AND BAL.ACTUAL_FLAG = 'A' AND BAL.TEMPLATE_ID IS NULL AND BAL.TRANSLATED_FLAG IS NULL and bal.currency_code = led.currency_code GROUP BY TO_CHAR(GP.START_DATE, 'YYYY-MM') ), period_growth AS ( SELECT period, movement_in_accounting_period, ROUND( (movement_in_accounting_period - LAG(movement_in_accounting_period) OVER (ORDER BY period)) / NULLIF(LAG(movement_in_accounting_period) OVER (ORDER BY period), 0) * 100, 2 ) AS month_on_month_growth FROM period_movement ) SELECT 'Movement' AS metric, MAX(CASE WHEN period = '2008-01' THEN movement_in_accounting_period END) AS \"Jan-08\", MAX(CASE WHEN period = '2008-02' THEN movement_in_accounting_period END) AS \"Feb-08\", MAX(CASE WHEN period = '2008-03' THEN movement_in_accounting_period END) AS \"Mar-08\" FROM period_growth UNION ALL SELECT 'Growth (%)' AS metric, NULL AS \"Jan-08\", MAX(CASE WHEN period = '2008-02' THEN month_on_month_growth END) AS \"Feb-08\", MAX(CASE WHEN period = '2008-03' THEN month_on_month_growth END) AS \"Mar-08\" FROM period_growth"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "PERIOD_MOVEMENT",
        "PERIOD_GROWTH"
      ],
      "schema_length": 1733,
      "prompt_token_estimate": 509,
      "sql_length": 1888
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001771",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List invoice numbers, amounts, and org names under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, a.INVOICE_AMOUNT, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1762,
      "prompt_token_estimate": 484,
      "sql_length": 174
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002061",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total prepayment applied per vendor */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(NVL(d.PREPAY_AMOUNT_REMAINING, 0)) AS TOTAL_PREPAY FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'PREPAY' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 969,
      "sql_length": 279
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001889",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Maximum invoice amount by ledger`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, MAX(a.INVOICE_AMOUNT) AS MAX_AMOUNT FROM ap_invoices_all a JOIN gl_ledgers g ON a.SET_OF_BOOKS_ID = g.LEDGER_ID GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 1665,
      "prompt_token_estimate": 450,
      "sql_length": 157
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001361",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List shipments where quantity rejected is NULL or zero`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id FROM po_line_locations_all WHERE COALESCE(quantity_rejected, 0) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 551,
      "sql_length": 91
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000563",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where the bill of lading is not in a specified list of values.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.bill_of_lading NOT IN ('BOL001', 'BOL002', 'BOL003')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 632,
      "sql_length": 266
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000091",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show default_legal_context_id grouped by usable_flag with totals.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT usable_flag, COUNT(*) AS total_units FROM hr_operating_units GROUP BY usable_flag"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 113,
      "sql_length": 88
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000042",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Rank ledgers by chart_of_accounts_id within each ledger_category_code.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_id, ledger_category_code, chart_of_accounts_id, rank() OVER (PARTITION BY ledger_category_code ORDER BY chart_of_accounts_id DESC) AS coa_rank FROM gl_ledgers"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 112,
      "sql_length": 172
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000271",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `show all invoie distributions lines for the period jan-07`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- GL_CODE_COMBINATIONS.CODE_COMBINATION_ID = AP_INVOICE_DISTRIBUTIONS_ALL.DIST_CODE_COMBINATION_ID\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.invoice_num, ai.invoice_date, aid.accounting_date, ai.invoice_amount, gl.name AS ledger_name, gp.period_name, gp.start_date, gp.end_date, hou.name AS operating_unit, aid.line_type_lookup_code, ai.invoice_type_lookup_code, aid.amount, gcc.segment3 AS account FROM ap_invoices_all ai JOIN hr_operating_units hou ON ai.org_id = hou.organization_id JOIN gl_ledgers gl ON ai.set_of_books_id = gl.ledger_id JOIN gl_periods gp ON gl.period_set_name = gp.period_set_name AND gl.accounted_period_type = gp.period_type JOIN ap_invoice_distributions_all aid ON ai.invoice_id = aid.invoice_id JOIN gl_code_combinations gcc ON aid.dist_code_combination_id = gcc.code_combination_id WHERE UPPER(hou.name) = 'VISION OPERATIONS' AND gp.period_name = 'Jan-07' AND aid.accounting_date BETWEEN gp.start_date AND gp.end_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 4305,
      "prompt_token_estimate": 1116,
      "sql_length": 814
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001590",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the average transfer cost grouped by FROM_ORGANIZATION_ID.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT from_organization_id, AVG(transfer_cost) AS avg_transfer_cost FROM rcv_shipment_lines GROUP BY from_organization_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 414,
      "sql_length": 122
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001529",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Using subquery: List shipments where the number of containers exceeds the average number of containers.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM rcv_shipment_headers WHERE num_of_containers > (SELECT AVG(num_of_containers) FROM rcv_shipment_headers)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 595,
      "prompt_token_estimate": 200,
      "sql_length": 118
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000373",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get count of POs per vendor_id where creation_date is not between Jan and June 2023.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT vendor_id, COUNT(*) AS po_count FROM po_headers_all WHERE creation_date NOT BETWEEN TO_DATE('2023-01-01', 'YYYY-MM-DD') AND TO_DATE('2023-06-30', 'YYYY-MM-DD') GROUP BY vendor_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 202,
      "sql_length": 185
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000430",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get count of POs grouped by ASN status.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rsh.asn_status, COUNT(pha.po_header_id) AS po_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id GROUP BY rsh.asn_status"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 340,
      "sql_length": 181
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000072",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List ledgers where chart_of_accounts_id is null, grouped by ledger_category_code.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ledger_category_code, COUNT(*) AS null_coa FROM gl_ledgers WHERE chart_of_accounts_id IS NULL GROUP BY ledger_category_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 115,
      "sql_length": 130
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002513",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `list all types of receiving transaction against a purchase order  shwoing transaction type`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, pha.creation_date AS po_date, pla.line_num AS po_line_number, pda.distribution_num, rt.transaction_type, rt.quantity, rt.transaction_date, msi.segment1 AS item_code, msi.description AS item_description, msi.primary_uom_code, ood.organization_name AS destination_organization FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_distributions_all pda ON pla.po_line_id = pda.po_line_id LEFT JOIN rcv_transactions rt ON rt.po_distribution_id = pda.po_distribution_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND msi.organization_id = pda.destination_organization_id LEFT JOIN org_organization_definitions ood ON pda.destination_organization_id = ood.organization_id WHERE rt.transaction_type IN ('RECEIVE', 'DELIVER', 'RETURN TO RECEIVING', 'RETURN TO VENDOR')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 7590,
      "prompt_token_estimate": 1946,
      "sql_length": 863
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000108",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List operating units with the same short_code in different business_group_id.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT short_code FROM hr_operating_units GROUP BY short_code HAVING COUNT(DISTINCT business_group_id) > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 116,
      "sql_length": 106
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000490",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers with no POs in the last year.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name FROM ap_suppliers aps WHERE NOT EXISTS (SELECT 1 FROM po_headers_all pha WHERE pha.vendor_id = aps.vendor_id AND pha.creation_date >= ADD_MONTHS(SYSDATE, -12))"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 1740,
      "prompt_token_estimate": 472,
      "sql_length": 182
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001799",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find approved invoices with vendor names and site codes`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, a.APPROVAL_STATUS FROM ap_invoices_all a JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE a.APPROVAL_STATUS = 'APPROVED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2983,
      "prompt_token_estimate": 785,
      "sql_length": 254
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001185",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and suppliers where goods have been rejected after inspection.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT      aps.vendor_name,     pha.segment1 AS po_number,     pla.line_num AS po_line_number,     NVL(msi.segment1, pla.item_description) AS item_code,     SUM(plla.quantity_received) AS total_delivered_qty,        SUM(plla.quantity_rejected) AS total_rejected_qty,     CASE          WHEN SUM(plla.quantity_received) > 0          THEN ROUND(SUM(plla.quantity_rejected) / SUM(plla.quantity_received) * 100, 2)         ELSE 0     END AS percent_rejected FROM      po_headers_all pha     JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id     JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id     JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id     LEFT JOIN mtl_system_items_b msi          ON pla.item_id = msi.inventory_item_id          AND plla.ship_to_organization_id = msi.organization_id GROUP BY      aps.vendor_name,     pha.segment1,     pla.line_num,     NVL(msi.segment1, pla.item_description)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7613,
      "prompt_token_estimate": 1948,
      "sql_length": 938
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001935",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find distributions by distribution class */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_DISTRIBUTION_ID, DISTRIBUTION_CLASS FROM ap_invoice_distributions_all WHERE DISTRIBUTION_CLASS = 'PERMANENT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1147,
      "prompt_token_estimate": 323,
      "sql_length": 123
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002252",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find bank accounts used for foreign currency payments */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT      aca.BANK_ACCOUNT_ID AS \"BANK_ACCOUNT_ID\",      aca.CURRENCY_CODE AS \"PAYMENT_CURRENCY\",      gl.CURRENCY_CODE AS \"ACCOUNTING_CURRENCY\" FROM      ap_checks_all aca     JOIN hr_operating_units hou ON aca.ORG_ID = hou.ORGANIZATION_ID     JOIN gl_ledgers gl ON hou.SET_OF_BOOKS_ID = gl.LEDGER_ID WHERE      aca.CURRENCY_CODE <> gl.CURRENCY_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_LEDGERS",
        "AP_CHECKS_ALL"
      ],
      "schema_length": 2190,
      "prompt_token_estimate": 587,
      "sql_length": 361
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000572",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers with their most recent PO and ASN status using a CTE.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Table LATEST_PO schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH Latest_PO AS ( SELECT pha.po_header_id, MAX(pha.creation_date) AS latest_date FROM po_headers_all pha GROUP BY pha.po_header_id ) SELECT aps.vendor_name, pha.segment1 AS po_number, rsh.asn_status FROM Latest_PO lp JOIN po_headers_all pha ON lp.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "LATEST_PO"
      ],
      "schema_length": 2378,
      "prompt_token_estimate": 638,
      "sql_length": 410
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001030",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find PO numbers and supplier names where PO lines have no linked shipment lines using NOT EXISTS.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE NOT EXISTS ( SELECT 1 FROM rcv_shipment_lines rsl WHERE rsl.po_line_id = pla.po_line_id )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 4480,
      "prompt_token_estimate": 1170,
      "sql_length": 285
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002097",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices where supplier is on hold but there are active ITEM lines without PO match */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, s.VENDOR_NAME, ss.VENDOR_SITE_CODE FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID JOIN ap_invoice_distributions_all d ON i.INVOICE_ID = d.INVOICE_ID WHERE ss.HOLD_UNMATCHED_INVOICES_FLAG = 'Y' AND d.LINE_TYPE_LOOKUP_CODE = 'ITEM' AND d.PO_DISTRIBUTION_ID IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4205,
      "prompt_token_estimate": 1100,
      "sql_length": 379
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002429",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Current aging summary for vendor type: EMPLOYEE fro vision operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    s.VENDOR_NAME AS \"VENDOR_NAME\",\n    s.VENDOR_TYPE_LOOKUP_CODE AS \"VENDOR_TYPE\",\n    SUM(CASE WHEN aps.DUE_DATE > SYSDATE THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"CURRENT\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 30 AND SYSDATE THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_1_30\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 60 AND SYSDATE - 31 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_31_60\",\n    SUM(CASE WHEN aps.DUE_DATE BETWEEN SYSDATE - 90 AND SYSDATE - 61 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_61_90\",\n    SUM(CASE WHEN aps.DUE_DATE < SYSDATE - 90 THEN aps.AMOUNT_REMAINING ELSE 0 END) AS \"OVERDUE_90_PLUS\"\nFROM \n    ap_suppliers s\n    JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID\n    JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID\n    JOIN hr_operating_units hr ON ai.ORG_ID = hr.ORGANIZATION_ID\nWHERE \n    s.VENDOR_TYPE_LOOKUP_CODE = 'VENDOR'\n    AND aps.AMOUNT_REMAINING > 0\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED', 'MANUALLY APPROVED', 'NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL\n    AND UPPER(hr.NAME) LIKE '%VISION%OPERATIONS%'\nGROUP BY \n    s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 820,
      "sql_length": 1390
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002366",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 10 overdue invoices by dollar value under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, aps.DUE_DATE, aps.AMOUNT_REMAINING FROM ap_invoices_all ai JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aps.DUE_DATE < SYSDATE AND aps.AMOUNT_REMAINING > 0 AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' ORDER BY aps.AMOUNT_REMAINING DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 2009,
      "prompt_token_estimate": 546,
      "sql_length": 371
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000579",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where the expected receipt date is not between two given dates.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsh.expected_receipt_date FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.expected_receipt_date NOT BETWEEN TO_DATE('2024-04-01', 'YYYY-MM-DD') AND TO_DATE('2024-06-30', 'YYYY-MM-DD')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 632,
      "sql_length": 350
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001494",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total quantity billed grouped by destination type code and sorted descending.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT destination_type_code, SUM(quantity_billed) AS total_billed FROM po_distributions_all GROUP BY destination_type_code ORDER BY total_billed DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 354,
      "sql_length": 150
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001864",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count of invoices by vendor and site under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, ss.VENDOR_SITE_CODE, COUNT(*) AS INVOICE_COUNT FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.ORGANIZATION_ID JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID JOIN ap_supplier_sites_all ss ON a.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME, ss.VENDOR_SITE_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 875,
      "sql_length": 359
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001346",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find shipments that were cancelled but still have quantity received`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id FROM po_line_locations_all WHERE cancel_flag = 'Y' AND quantity_received > 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 554,
      "sql_length": 100
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001645",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find transactions where PO_UNIT_PRICE < 20 and TRANSACTION_TYPE = 'DELIVER'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, po_unit_price FROM rcv_transactions WHERE po_unit_price < 20 AND transaction_type = 'DELIVER'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 390,
      "sql_length": 134
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001079",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where no transactions have a currency code set (all NULL).*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(CASE WHEN rct.currency_code IS NOT NULL THEN 1 END) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 827,
      "sql_length": 301
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000939",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and supplier names where at least one transaction has a NULL inspection status using EXISTS.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE EXISTS ( SELECT 1 FROM rcv_transactions rct WHERE rct.po_header_id = pha.po_header_id AND rct.inspection_status_code IS NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 835,
      "sql_length": 261
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000843",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers, supplier names, and total transportation cost per shipment.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, SUM(rsl.transportation_cost) AS total_transport_cost FROM rcv_shipment_lines rsl JOIN rcv_shipment_headers rsh ON rsl.shipment_header_id = rsh.shipment_header_id JOIN po_headers_all pha ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 3980,
      "prompt_token_estimate": 1040,
      "sql_length": 375
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000040",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List the period types and count of ledgers where currency_code is not 'USD'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT accounted_period_type, COUNT(ledger_id) AS ledger_count FROM gl_ledgers WHERE currency_code <> 'USD' GROUP BY accounted_period_type"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 114,
      "sql_length": 138
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002539",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the list of items , receipts and shipment details for a given purchaes order say 4682`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_DISTRIBUTION_ID = PO_DISTRIBUTIONS_ALL.PO_DISTRIBUTION_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT rt.transaction_id,\n         rt.transaction_type,\n         rt.transaction_date,\n         rt.shipment_header_id,\n         rt.shipment_line_id,\n         rt.po_distribution_id,\n         rt.quantity,\n         rt.unit_of_measure,\n         rt.comments,\n         rsh.receipt_num,\n         rsh.shipment_num,rsl.line_num,\n         rsl.item_id,rsl.routing_header_id,rsl.destination_type_code,rsl.quantity_shipped,rsl.quantity_received         \n    FROM rcv_transactions rt\n         JOIN po_distributions_all pda\n            ON rt.po_distribution_id = pda.po_distribution_id\n         JOIN po_lines_all pol\n            ON pda.po_line_id = pol.po_line_id\n         JOIN po_headers_all poh\n            ON pol.po_header_id = poh.po_header_id\n            join rcv_shipment_headers  rsh on rt.shipment_header_id = rsh.shipment_header_id\n            join rcv_shipment_lines  rsl on rt.shipment_header_id = rsl.shipment_header_id and rt.shipment_line_id = rsl.shipment_line_id\n   WHERE poh.segment1 = '4682'\nORDER BY rt.transaction_date"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 6973,
      "prompt_token_estimate": 1791,
      "sql_length": 1022
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002556",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Items Frequently Purchased (At Least Twice a Month) in 2007`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Table PURCHASE_COUNTS schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH purchase_counts AS ( SELECT pla.item_id, msi.segment1 AS item_code, msi.description AS item_description, TO_CHAR(pha.creation_date, 'YYYY-MM') AS purchase_month, COUNT(DISTINCT pha.segment1) AS po_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id WHERE pha.approved_flag = 'Y' AND pha.creation_date BETWEEN DATE '2007-01-01' AND DATE '2007-12-31' GROUP BY pla.item_id, msi.segment1, msi.description, TO_CHAR(pha.creation_date, 'YYYY-MM') HAVING COUNT(DISTINCT pha.segment1) >= 2 ) SELECT item_code, item_description, purchase_month, po_count FROM purchase_counts ORDER BY item_code, purchase_month"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PURCHASE_COUNTS",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 4234,
      "prompt_token_estimate": 1099,
      "sql_length": 710
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000338",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get average revision number grouped by org_id for approved POs.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org_id, AVG(revision_num) AS avg_revision FROM po_headers_all WHERE approved_flag = 'Y' GROUP BY org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 197,
      "sql_length": 110
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000952",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers, supplier names, and total return quantities using SUM and GROUP BY.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, SUM(rct.quantity) AS total_returned FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RETURN TO SUPPLIER' GROUP BY pha.segment1, aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 829,
      "sql_length": 319
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002496",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Give the purchase order details covering po header information like po number (segment1), creation_date( po_date) vendor name vendor site code, item code, item description,qty,unit_rate,  need by date, promise date  PO Headers to Lines, Line Locations, Distributions with full supplier and item context, current quantities received, billed etc for last one month`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n-- Join relationships:\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID = PO_HEADERS_ALL.VENDOR_SITE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = PO_HEADERS_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.OPERATING_UNIT = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- ORG_ORGANIZATION_DEFINITIONS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.ORG_ID = HR_OPERATING_UNITS.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_HEADERS_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ph.segment1 AS po_number,\n       ph.creation_date AS po_date,ph.currency_code po_currency,\n       aps.vendor_name,\n       apsa.vendor_site_code,\n       pl.line_num,\n       pl.item_id,\n       pl.UNIT_MEAS_LOOKUP_CODE transaction_uom,\n       pl.quantity qty_tran_uom,\n       pl.item_description purchase_line_description,\n       msi.segment1 AS item_code,\n       msi.description AS item_description,\n       msi.primary_uom_code,\n       pll.line_location_id,\n           pll.QUANTITY as \"loc_qty_order_todate\",\n      pll.QUANTITY_RECEIVED  as\"loc_qty_rec_todate\",\n     pll.QUANTITY_CANCELLED as \"loc_qty_cancel_todate\",\n     pll.QUANTITY_BILLED as \"loc_qty_billed_todate\",\n     pll.NEED_BY_DATE  ,\n      pll.PROMISED_DATE,\n       pd.po_distribution_id,\n       pd.quantity_ordered,\n       hou.name AS operating_unit,\n       pd.SET_OF_BOOKS_ID,\npd.CODE_COMBINATION_ID,\npd.QUANTITY_ORDERED dist_qty_order,\npd.QUANTITY_DELIVERED dist_qty_deliver_todate,\npd.QUANTITY_BILLED dis_qty_billed_todate,\npd.QUANTITY_CANCELLED dist_cancel_todate,\npd.REQ_DISTRIBUTION_ID ,\npd.AMOUNT_BILLED,\npd.DESTINATION_TYPE_CODE,\npd.DESTINATION_ORGANIZATION_ID,\npd.DESTINATION_SUBINVENTORY,\npd.distribution_num,\npd.distribution_type,\n       ood.organization_code AS inventory_org_code,\n       gl.name AS ledger_name\n  FROM po_headers_all ph\n       JOIN po_lines_all pl\n          ON ph.po_header_id = pl.po_header_id\n       JOIN po_line_locations_all pll\n          ON pl.po_line_id = pll.po_line_id\n       JOIN po_distributions_all pd\n          ON pll.line_location_id = pd.line_location_id\n       LEFT JOIN ap_suppliers aps\n          ON ph.vendor_id = aps.vendor_id\n       LEFT JOIN ap_supplier_sites_all apsa\n          ON ph.vendor_site_id = apsa.vendor_site_id\n       LEFT JOIN mtl_system_items_b msi\n          ON     pl.item_id = msi.inventory_item_id\n             AND pd.destination_organization_id = msi.organization_id\n       LEFT JOIN hr_operating_units hou\n          ON ph.org_id = hou.organization_id\n       LEFT JOIN org_organization_definitions ood\n          ON pd.destination_organization_id = ood.organization_id\n       LEFT JOIN gl_ledgers gl\n          ON hou.set_of_books_id = gl.ledger_id\n          where ph.creation_date > sysdate-30"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "GL_LEDGERS",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 11338,
      "prompt_token_estimate": 2951,
      "sql_length": 2226
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000018",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the total number of ledgers per currency where there are more than 2 ledgers.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, COUNT(ledger_id) AS total_ledgers FROM gl_ledgers GROUP BY currency_code HAVING COUNT(ledger_id) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 115,
      "sql_length": 122
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002339",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 10 vendors by total current overdue balance under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    s.VENDOR_NAME, \n    SUM(aps.AMOUNT_REMAINING) AS TOTAL_OVERDUE \nFROM \n    ap_suppliers s \nJOIN \n    ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID \nJOIN \n    ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID \nJOIN \n    hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID \nWHERE \n    aps.DUE_DATE < SYSDATE \n    AND aps.AMOUNT_REMAINING > 0 \n    AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'      -- Only approved invoices\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL  GROUP BY \n    s.VENDOR_NAME \nORDER BY \n    TOTAL_OVERDUE DESC \nFETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 822,
      "sql_length": 856
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002035",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find maximum invoice amount per ledger */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, MAX(i.INVOICE_AMOUNT) AS MAX_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "GL_LEDGERS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2911,
      "prompt_token_estimate": 764,
      "sql_length": 224
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002291",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate average days between due date and actual payment under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\n-- Join relationships:\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AVG(aip.CREATION_DATE - aps.DUE_DATE) AS AVG_DAYS_DIFF FROM ap_payment_schedules_all aps JOIN ap_invoice_payments_all aip ON aps.INVOICE_ID = aip.INVOICE_ID AND aps.PAYMENT_NUM = aip.PAYMENT_NUM JOIN ap_invoices_all ai ON aps.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_PAYMENT_SCHEDULES_ALL"
      ],
      "schema_length": 2323,
      "prompt_token_estimate": 628,
      "sql_length": 365
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001878",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Sum of debit memos by vendor type under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_TYPE_LOOKUP_CODE, SUM(a.INVOICE_AMOUNT) AS DEBIT_TOTAL FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.ORGANIZATION_ID JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_TYPE_LOOKUP_CODE = 'DEBIT' GROUP BY s.VENDOR_TYPE_LOOKUP_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 755,
      "sql_length": 323
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000797",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers, item codes, and conversion rates where conversion rate is greater than 1.*/`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- MTL_UOM_CONVERSIONS.INVENTORY_ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, muc.conversion_rate FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN mtl_uom_conversions muc ON msi.inventory_item_id = muc.inventory_item_id WHERE muc.conversion_rate > 1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "MTL_UOM_CONVERSIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6787,
      "prompt_token_estimate": 1746,
      "sql_length": 500
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001881",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Total invoice amount by ledger`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, SUM(a.INVOICE_AMOUNT) AS TOTAL_AMOUNT FROM ap_invoices_all a JOIN gl_ledgers g ON a.SET_OF_BOOKS_ID = g.LEDGER_ID GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 1665,
      "prompt_token_estimate": 449,
      "sql_length": 159
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001947",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List expense report invoices and vendor site codes where approved and validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, ss.VENDOR_SITE_CODE FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'EXPENSE REPORT' AND i.APPROVAL_STATUS = 'APPROVED' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIER_SITES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 3048,
      "prompt_token_estimate": 808,
      "sql_length": 408
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000982",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers, PO numbers, and items where the same PO has more than 3 distinct items received using HAVING.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS item_count FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) > 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 8997,
      "prompt_token_estimate": 2303,
      "sql_length": 627
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001725",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find unpaid invoices`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    ai.INVOICE_NUM,\n    ai.INVOICE_AMOUNT,\n    ai.PAYMENT_STATUS_FLAG,\n    ai.AMOUNT_PAID,\n    s.VENDOR_NAME,\n    ss.VENDOR_SITE_CODE,\n    hou.NAME AS OPERATING_UNIT_NAME\nFROM \n    ap_invoices_all ai\n    JOIN ap_suppliers s \n        ON ai.VENDOR_ID = s.VENDOR_ID\n      LEFT JOIN ap_supplier_sites_all ss \n        ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID\n     LEFT JOIN hr_operating_units hou \n        ON ai.ORG_ID = hou.ORGANIZATION_ID\nWHERE \n    payment_status_flag = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3334,
      "prompt_token_estimate": 864,
      "sql_length": 480
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000297",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get average rate for POs approved in 2023.`\n\n### Database Schema\n-- Table APPROVED_DATE schema not available\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AVG(rate) AS avg_rate_2023 FROM po_headers_all WHERE approved_flag = 'Y' AND EXTRACT(YEAR FROM approved_date) = 2023"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "APPROVED_DATE",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 666,
      "prompt_token_estimate": 203,
      "sql_length": 123
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000305",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count POs per org_id where the document type is not STANDARD.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org_id, COUNT(*) AS non_standard_po_count FROM po_headers_all WHERE type_lookup_code != 'STANDARD' GROUP BY org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 196,
      "sql_length": 121
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000804",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and PO numbers where the destination subinventory is 'FINISHED_GOODS'.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pod.destination_subinventory = 'FINISHED_GOODS'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1686,
      "sql_length": 389
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001723",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices paid more than 1000 USD`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, AMOUNT_PAID, INVOICE_CURRENCY_CODE FROM ap_invoices_all WHERE AMOUNT_PAID > 1000 AND INVOICE_CURRENCY_CODE = 'USD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 382,
      "sql_length": 134
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002195",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices approved over amounts greater than 50,000 */`\n\n### Database Schema\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT AH.INVOICE_ID, AH.AMOUNT_APPROVED, AH.RESPONSE FROM AP_INV_APRVL_HIST_ALL AH WHERE AH.AMOUNT_APPROVED > 50000 AND AH.RESPONSE IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INV_APRVL_HIST_ALL"
      ],
      "schema_length": 544,
      "prompt_token_estimate": 176,
      "sql_length": 183
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001482",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List distributions where rate is greater than 1 and rate_date is after 01-Jun-2023.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE rate > 1 AND rate_date > DATE '2023-06-01'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 354,
      "sql_length": 83
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000309",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs that are approved and have a frozen_flag of 'Y'.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT segment1 AS purchase_order_no FROM po_headers_all WHERE approved_flag = 'Y' AND frozen_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 195,
      "sql_length": 104
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000213",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the sum of conversion rates for all conversions where inventory_item_id is not NULL.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT SUM(conversion_rate) AS total_conversion FROM mtl_uom_conversions WHERE inventory_item_id IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 94,
      "sql_length": 108
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000410",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and supplier names where the PO total exceeds 1 million.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, SUM(pla.unit_price * pla.quantity) AS total_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY pha.segment1, aps.vendor_name HAVING SUM(pla.unit_price * pla.quantity) > 1000000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 759,
      "sql_length": 331
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001343",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate billed vs received difference for each shipment`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT line_location_id, (quantity_billed - quantity_received) AS billed_received_diff FROM po_line_locations_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 552,
      "sql_length": 113
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002679",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `invoie payment status as of today for invoie abc123`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, ai.CREATION_DATE, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ssa.VENDOR_SITE_CODE, NVL (payments.TOTAL_ACTUAL_PAYMENT, 0) AS TOTAL_ACTUAL_PAYMENT, NVL (prepays.TOTAL_PREPAY_ADJUSTED, 0) AS TOTAL_PREPAY_ADJUSTED, NVL (schedules.TOTAL_OUTSTANDING_AMOUNT, 0) AS OUTSTANDING_AMOUNT FROM ap_invoices_all ai LEFT JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN ap_supplier_sites_all ssa ON ai.VENDOR_SITE_ID = ssa.VENDOR_SITE_ID LEFT JOIN (  SELECT aip.INVOICE_ID, SUM (aip.AMOUNT) AS TOTAL_ACTUAL_PAYMENT FROM ap_invoice_payments_all aip GROUP BY aip.INVOICE_ID) payments ON ai.INVOICE_ID = payments.INVOICE_ID LEFT JOIN (  SELECT aid.INVOICE_ID, SUM (aid.AMOUNT) AS TOTAL_PREPAY_ADJUSTED FROM ap_invoice_distributions_all aid JOIN ap_invoice_distributions_all prepay_dist ON aid.PREPAY_DISTRIBUTION_ID = prepay_dist.INVOICE_DISTRIBUTION_ID JOIN ap_invoices_all pre_ai ON prepay_dist.INVOICE_ID = pre_ai.INVOICE_ID WHERE     aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND pre_ai.INVOICE_TYPE_LOOKUP_CODE = 'PREPAYMENT' GROUP BY aid.INVOICE_ID) prepays ON ai.INVOICE_ID = prepays.INVOICE_ID LEFT JOIN (  SELECT aps.INVOICE_ID, SUM (aps.AMOUNT_REMAINING) AS TOTAL_OUTSTANDING_AMOUNT FROM ap_payment_schedules_all aps GROUP BY aps.INVOICE_ID) schedules ON ai.INVOICE_ID = schedules.INVOICE_ID WHERE ai.INVOICE_NUM = 'ABC'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 4848,
      "prompt_token_estimate": 1250,
      "sql_length": 1391
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000739",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List item codes and their PO numbers where receipt transactions are manually entered.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, pha.segment1 AS po_number FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.user_entered_flag = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2023,
      "sql_length": 461
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001138",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where quantity returned exceeds quantity received for any line (over-return case).*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_TRANSACTIONS.SHIPMENT_LINE_ID = RCV_SHIPMENT_LINES.SHIPMENT_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsl.shipment_line_id FROM po_headers_all pha JOIN rcv_shipment_lines rsl ON pha.po_header_id = rsl.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE (SELECT SUM(quantity) FROM rcv_transactions WHERE shipment_line_id = rsl.shipment_line_id AND transaction_type = 'RETURN TO SUPPLIER') > (SELECT SUM(quantity) FROM rcv_transactions WHERE shipment_line_id = rsl.shipment_line_id AND transaction_type = 'RECEIVE')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4759,
      "prompt_token_estimate": 1242,
      "sql_length": 484
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001387",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get list of PO headers where all shipments are closed (no OPEN status)`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_header_id FROM po_line_locations_all GROUP BY po_header_id HAVING SUM(CASE WHEN closed_code = 'OPEN' THEN 1 ELSE 0 END) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINE_LOCATIONS_ALL"
      ],
      "schema_length": 2047,
      "prompt_token_estimate": 555,
      "sql_length": 133
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000740",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers where at least one shipment had a missing packing slip.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT aps.vendor_name FROM ap_suppliers aps JOIN po_headers_all pha ON aps.vendor_id = pha.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.packing_slip IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 628,
      "sql_length": 216
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002144",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find vendors who have no approved invoices yet */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT s.VENDOR_NAME FROM ap_suppliers s WHERE NOT EXISTS (SELECT 1 FROM ap_invoices_all i WHERE i.VENDOR_ID = s.VENDOR_ID AND i.APPROVAL_STATUS = 'APPROVED')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2507,
      "prompt_token_estimate": 665,
      "sql_length": 167
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002220",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get THE LSIT OF PREPAYMENTS invoices and balances as  AS ON DATE */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Table VALID_PREPAYMENTS schema not available\n\n-- Table DUAL schema not available\n\n-- Table CUT_OFF schema not available\n\n-- Table CONSUMED_PREPAYMENTS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH cut_off AS ( SELECT TO_DATE('2024-12-31', 'YYYY-MM-DD') AS as_of_date FROM dual ), valid_prepayments AS ( SELECT ai.INVOICE_ID, ai.INVOICE_NUM, ai.INVOICE_DATE, ai.INVOICE_AMOUNT, ai.AMOUNT_PAID, ai.VENDOR_ID, s.VENDOR_NAME, ai.GL_DATE FROM ap_invoices_all ai JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID JOIN cut_off c ON 1=1 WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'PREPAYMENT' AND ai.AMOUNT_PAID = ai.INVOICE_AMOUNT AND ai.GL_DATE <= c.as_of_date ), consumed_prepayments AS ( SELECT prepay_dist.INVOICE_ID, SUM(aid.AMOUNT) AS CONSUMED_AMOUNT FROM ap_invoice_distributions_all aid JOIN ap_invoice_distributions_all prepay_dist ON aid.PREPAY_DISTRIBUTION_ID = prepay_dist.INVOICE_DISTRIBUTION_ID JOIN cut_off c ON 1=1 WHERE aid.LINE_TYPE_LOOKUP_CODE = 'PREPAY' AND aid.ACCOUNTING_DATE <= c.as_of_date GROUP BY prepay_dist.INVOICE_ID ) SELECT vp.INVOICE_NUM AS PREPAYMENT_INVOICE_NUM, vp.INVOICE_DATE AS PREPAYMENT_INVOICE_DATE, vp.INVOICE_AMOUNT, vp.AMOUNT_PAID, vp.VENDOR_NAME, NVL(cp.CONSUMED_AMOUNT, 0) AS CONSUMED_AMOUNT, vp.INVOICE_AMOUNT - NVL(cp.CONSUMED_AMOUNT, 0) AS BALANCE_REMAINING FROM valid_prepayments vp LEFT JOIN consumed_prepayments cp ON vp.INVOICE_ID = cp.INVOICE_ID WHERE vp.INVOICE_AMOUNT - NVL(cp.CONSUMED_AMOUNT, 0) > 0 ORDER BY vp.VENDOR_NAME, vp.INVOICE_NUM"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "VALID_PREPAYMENTS",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "DUAL",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "CUT_OFF",
        "CONSUMED_PREPAYMENTS"
      ],
      "schema_length": 3905,
      "prompt_token_estimate": 1019,
      "sql_length": 1290
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002576",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `get net movment of any account in a single period say Mar-08`\n\n### Database Schema\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\nCREATE TABLE GL_BALANCES (\n    LEDGER_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    ACTUAL_FLAG VARCHAR2,\n    BEGIN_BALANCE_DR NUMBER,\n    BEGIN_BALANCE_CR NUMBER,\n    PERIOD_NET_DR NUMBER,\n    PERIOD_NET_CR NUMBER\n);\n\n-- Table OPENINGBALANCE schema not available\n\n-- Table MAR schema not available\n\n-- Table PERIODMOVEMENTS schema not available\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE GL_CODE_COMBINATIONS (\n    CODE_COMBINATION_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    SEGMENT1 VARCHAR,\n    SEGMENT2 VARCHAR,\n    SEGMENT3 VARCHAR,\n    SUMMARY_FLAG VARCHAR\n);\n\n-- Table FIRST schema not available\n\n-- Join relationships:\n\n-- GL_BALANCES.CODE_COMBINATION_ID = GL_CODE_COMBINATIONS.CODE_COMBINATION_ID\n\n-- GL_BALANCES.LEDGER_ID = GL_LEDGERS.LEDGER_ID\n\n-- GL_BALANCES.PERIOD_NAME = GL_PERIODS.PERIOD_NAME\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.LEDGER_ID = GL_BALANCES.LEDGER_ID\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_NAME = GL_BALANCES.PERIOD_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- PERIODMOVEMENTS.ACCOUNT = OPENINGBALANCE.ACCOUNT\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH OpeningBalance AS ( SELECT gcc.segment3 AS account, SUM(NVL(bal.BEGIN_BALANCE_DR, 0) - NVL(bal.BEGIN_BALANCE_CR, 0)) AS opening_balance FROM gl_balances bal JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id JOIN GL_LEDGERS led ON bal.LEDGER_ID = led.LEDGER_ID JOIN GL_PERIODS gp ON bal.PERIOD_NAME = gp.PERIOD_NAME AND gp.period_set_name = led.period_set_name AND gp.period_type = led.accounted_period_type WHERE led.LEDGER_ID = 1 AND gcc.account_type = 'E' AND gp.PERIOD_NAME = 'Mar-08'  /*Only take opening balance from first period*/ AND bal.ACTUAL_FLAG = 'A' AND bal.TEMPLATE_ID IS NULL AND bal.TRANSLATED_FLAG IS NULL AND bal.CURRENCY_CODE = led.CURRENCY_CODE GROUP BY gcc.segment3 ), PeriodMovements AS ( SELECT gcc.segment3 AS account, SUM(NVL(bal.PERIOD_NET_DR, 0)) AS total_debit, SUM(NVL(bal.PERIOD_NET_CR, 0)) AS total_credit FROM gl_balances bal JOIN gl_code_combinations gcc ON bal.code_combination_id = gcc.code_combination_id JOIN GL_LEDGERS led ON bal.LEDGER_ID = led.LEDGER_ID JOIN GL_PERIODS gp ON bal.PERIOD_NAME = gp.PERIOD_NAME AND gp.period_set_name = led.period_set_name AND gp.period_type = led.accounted_period_type WHERE led.LEDGER_ID = 1 AND gcc.account_type = 'E' AND gp.START_DATE >= (SELECT start_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = led.period_set_name AND period_type = led.accounted_period_type) AND gp.END_DATE <= (SELECT end_date FROM gl_periods WHERE period_name = 'Mar-08' AND period_set_name = led.period_set_name AND period_type = led.accounted_period_type) AND bal.ACTUAL_FLAG = 'A' AND bal.TEMPLATE_ID IS NULL AND bal.TRANSLATED_FLAG IS NULL AND bal.CURRENCY_CODE = led.CURRENCY_CODE GROUP BY gcc.segment3 ) SELECT pm.account, gl_flexfields_pkg.get_description_sql(led.chart_of_accounts_id, 3, pm.account) AS account_desc, NVL(ob.opening_balance, 0) AS opening_balance,  /* Opening balance from Mar-08 only */ NVL(pm.total_debit, 0) AS debit,  /* Total period debits from Mar-08 to Mar-08 */ NVL(pm.total_credit, 0) AS credit,  /* Total period credits from Mar-08 to Mar-08 */ NVL(ob.opening_balance, 0) + NVL(pm.total_debit, 0) - NVL(pm.total_credit, 0) AS closing_balance /*Correct closing balance calculation*/ FROM PeriodMovements pm LEFT JOIN OpeningBalance ob ON pm.account = ob.account JOIN GL_LEDGERS led ON led.LEDGER_ID = 1 ORDER BY pm.account"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_PERIODS",
        "GL_BALANCES",
        "OPENINGBALANCE",
        "MAR",
        "PERIODMOVEMENTS",
        "GL_LEDGERS",
        "GL_CODE_COMBINATIONS",
        "FIRST"
      ],
      "schema_length": 1859,
      "prompt_token_estimate": 505,
      "sql_length": 2367
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000741",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers where at least one shipment had a missing packing slip.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT aps.vendor_name FROM ap_suppliers aps JOIN po_headers_all pha ON aps.vendor_id = pha.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.packing_slip IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 628,
      "sql_length": 216
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000906",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and item codes where total received is zero but shipment exists using LEFT JOIN and HAVING.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, COALESCE(SUM(rct.quantity), 0) AS total_received FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id LEFT JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id GROUP BY pha.segment1, NVL(msi.segment1, pla.item_description) HAVING COALESCE(SUM(rct.quantity), 0) = 0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2028,
      "sql_length": 587
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001068",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and POs where shipments have more than 2 NULL packing slips.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, count(*) AS null_packing_count FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.packing_slip IS NULL GROUP BY aps.vendor_name, pha.segment1 HAVING count(*) > 2"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 629,
      "sql_length": 325
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000591",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and total NET quantity received for items measured in  primary uom AND TRANS UOM FOR PURCHASE ORDERS CRATED BETWEEN DATES AND RECEIVED BEFORE A GIVEN DATE*/`\n\n### Database Schema\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,PHA.SEGMENT1 PO_NUMBER,        rct.primary_unit_of_measure,UOM_CODE TRANS_uom,        SUM(            CASE                 WHEN rct.transaction_type = 'RECEIVE' THEN rct.primary_quantity                WHEN rct.transaction_type = 'RETURN TO VENDOR' THEN -rct.primary_quantity                ELSE 0            END        ) AS primary_net_qty_received,          SUM(            CASE                 WHEN rct.transaction_type = 'RECEIVE' THEN rct.quantity                WHEN rct.transaction_type = 'RETURN TO VENDOR' THEN -rct.quantity                ELSE 0            END        ) AS trans_net_qty_received        FROM rcv_transactions rct      JOIN po_headers_all pha          ON rct.po_header_id = pha.po_header_id      JOIN po_lines_all pla          ON rct.po_line_id = pla.po_line_id      JOIN ap_suppliers aps          ON pha.vendor_id = aps.vendor_id      LEFT JOIN mtl_system_items_b msi          ON pla.item_id = msi.inventory_item_id         AND rct.organization_id = msi.organization_id WHERE rct.transaction_type IN ('RECEIVE', 'RETURN TO VENDOR') and transaction_date < to_date('31-JAN-2007','DD-MON-YYYY') AND PHA.CREATION_DATE BETWEEN to_date('01-JAN-2006','DD-MON-YYYY') AND to_date('31-JAN-2007','DD-MON-YYYY') GROUP BY aps.vendor_name, rct.primary_unit_of_measure,PHA.SEGMENT1,rct.primary_unit_of_measure,UOM_CODE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6666,
      "prompt_token_estimate": 1735,
      "sql_length": 1352
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002543",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Give me the list of items that are frequently purchased say more than once in a month fo the last few months`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Table ITEMS_PURCHASED_ALL_MONTHS schema not available\n\n-- Table MONTHLY_PURCHASE_COUNT schema not available\n\n-- Table PURCHASE_DATA schema not available\n\n-- Table POH schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH purchase_data AS (SELECT pol.item_id, pol.item_description, poh.segment1 AS po_number, poh.creation_date, EXTRACT(MONTH FROM poh.creation_date) AS purchase_month, EXTRACT(YEAR FROM poh.creation_date) AS purchase_year FROM po_headers_all poh JOIN po_lines_all pol ON poh.po_header_id = pol.po_header_id WHERE poh.approved_flag = 'Y' AND poh.creation_date BETWEEN DATE '2007-01-01' AND DATE '2007-12-31' /* Only consider approved POs in 2007 */), monthly_purchase_count AS (SELECT item_id, item_description, purchase_month, COUNT(DISTINCT po_number) AS purchase_count FROM purchase_data GROUP BY item_id, item_description, purchase_month /* Count unique POs per item per month */), items_purchased_all_months AS (SELECT item_id, item_description FROM monthly_purchase_count WHERE purchase_count >= 1 /* Change to > 1 for higher frequency */ GROUP BY item_id, item_description HAVING COUNT(DISTINCT purchase_month) = 12 /* Only include items purchased in all 12 months */) SELECT m.item_id, m.item_description, SUM(CASE WHEN m.purchase_month = 1 THEN m.purchase_count ELSE 0 END) AS Jan, SUM(CASE WHEN m.purchase_month = 2 THEN m.purchase_count ELSE 0 END) AS Feb, SUM(CASE WHEN m.purchase_month = 3 THEN m.purchase_count ELSE 0 END) AS Mar, SUM(CASE WHEN m.purchase_month = 4 THEN m.purchase_count ELSE 0 END) AS Apr, SUM(CASE WHEN m.purchase_month = 5 THEN m.purchase_count ELSE 0 END) AS May, SUM(CASE WHEN m.purchase_month = 6 THEN m.purchase_count ELSE 0 END) AS Jun, SUM(CASE WHEN m.purchase_month = 7 THEN m.purchase_count ELSE 0 END) AS Jul, SUM(CASE WHEN m.purchase_month = 8 THEN m.purchase_count ELSE 0 END) AS Aug, SUM(CASE WHEN m.purchase_month = 9 THEN m.purchase_count ELSE 0 END) AS Sep, SUM(CASE WHEN m.purchase_month = 10 THEN m.purchase_count ELSE 0 END) AS Oct, SUM(CASE WHEN m.purchase_month = 11 THEN m.purchase_count ELSE 0 END) AS Nov, SUM(CASE WHEN m.purchase_month = 12 THEN m.purchase_count ELSE 0 END) AS Dec FROM monthly_purchase_count m JOIN items_purchased_all_months a ON m.item_id = a.item_id GROUP BY m.item_id, m.item_description ORDER BY m.item_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "ITEMS_PURCHASED_ALL_MONTHS",
        "MONTHLY_PURCHASE_COUNT",
        "PO_LINES_ALL",
        "PURCHASE_DATA",
        "POH",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 1958,
      "prompt_token_estimate": 542,
      "sql_length": 2085
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001194",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where shipment lines have more than 3 different subinventories.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, COUNT(DISTINCT rsl.to_subinventory) AS subinventory_count FROM po_headers_all pha JOIN rcv_shipment_lines rsl ON pha.po_header_id = rsl.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING COUNT(DISTINCT rsl.to_subinventory) > 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3299,
      "prompt_token_estimate": 872,
      "sql_length": 340
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002336",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report vendor-wise cleared vs uncleared payment totals under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(CASE WHEN aca.STATUS_LOOKUP_CODE = 'CLEARED' THEN aca.AMOUNT ELSE 0 END) AS CLEARED_TOTAL, SUM(CASE WHEN aca.STATUS_LOOKUP_CODE <> 'CLEARED' THEN aca.AMOUNT ELSE 0 END) AS UNCLEARED_TOTAL FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4645,
      "prompt_token_estimate": 1207,
      "sql_length": 537
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002411",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Report total payments made per ledger as of 31-Dec-2007 */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS \"LEDGER_NAME\", SUM(aip.AMOUNT) AS \"TOTAL_PAYMENTS\" FROM ap_invoice_payments_all aip JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN gl_ledgers g ON ai.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE aip.ACCOUNTING_DATE <= TO_DATE('2007-12-31', 'YYYY-MM-DD') GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 1979,
      "prompt_token_estimate": 535,
      "sql_length": 293
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000397",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show PO details and the total number of containers received per PO.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, COUNT(rsh.num_of_containers) AS total_containers FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id GROUP BY pha.segment1"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2363,
      "prompt_token_estimate": 634,
      "sql_length": 264
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001132",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and items where total invoiced amount is greater than 1 million.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.DESTINATION_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, msi.segment1 AS item_code, SUM(pod.amount_billed) AS total_billed FROM po_distributions_all pod JOIN po_headers_all pha ON pod.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN mtl_system_items_b msi ON pod.destination_organization_id = msi.organization_id AND pod.po_distribution_id = msi.inventory_item_id GROUP BY aps.vendor_name, msi.segment1 HAVING SUM(pod.amount_billed) > 1000000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "AP_SUPPLIERS"
      ],
      "schema_length": 5488,
      "prompt_token_estimate": 1418,
      "sql_length": 452
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001717",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get debit memo invoices with base amount`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, BASE_AMOUNT FROM ap_invoices_all WHERE INVOICE_TYPE_LOOKUP_CODE = 'DEBIT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 382,
      "sql_length": 93
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002126",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under supplier site 'MAIN' with total amount over 10,000 */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, ss.VENDOR_SITE_CODE, i.INVOICE_AMOUNT FROM ap_invoices_all i JOIN ap_supplier_sites_all ss ON i.VENDOR_SITE_ID = ss.VENDOR_SITE_ID WHERE ss.VENDOR_SITE_CODE = 'MAIN' AND i.INVOICE_AMOUNT > 10000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 1826,
      "prompt_token_estimate": 500,
      "sql_length": 216
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002375",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List top 5 bank accounts by cleared payment value under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NAME, SUM(aca.AMOUNT) AS CLEARED_TOTAL FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.BANK_ACCOUNT_NAME ORDER BY CLEARED_TOTAL DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 932,
      "sql_length": 435
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000916",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and supplier names where all transactions were manually entered using NOT EXISTS.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE NOT EXISTS ( SELECT 1 FROM rcv_transactions rct WHERE rct.po_header_id = pha.po_header_id AND rct.user_entered_flag = 'N' )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 832,
      "sql_length": 258
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000116",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show units where business_group_id is in (100, 200, 300 and usable_flag = 'N'.`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM hr_operating_units WHERE business_group_id IN (100, 200, 300) AND usable_flag = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS"
      ],
      "schema_length": 285,
      "prompt_token_estimate": 116,
      "sql_length": 97
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001181",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List suppliers and POs where items were delivered with different UOMs than orderd uom*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT     aps.vendor_name,     pha.segment1 AS po_number,     rsh.shipment_num AS shipment_number,     pla.line_num AS po_line_number,     pla.UNIT_MEAS_LOOKUP_CODE AS po_uom,     rct.UNIT_OF_MEASURE AS receipt_uom,     rct.transaction_id,     rsh.receipt_num,     rct.quantity,     rct.transaction_date    FROM     po_headers_all pha     JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id     JOIN rcv_transactions rct ON pla.po_line_id = rct.po_line_id     JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id     JOIN rcv_shipment_headers rsh ON rct.shipment_header_id = rsh.shipment_header_id WHERE     pla.UNIT_MEAS_LOOKUP_CODE <> rct.UNIT_OF_MEASURE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_TRANSACTIONS",
        "RCV_SHIPMENT_HEADERS",
        "PO_LINES_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 4842,
      "prompt_token_estimate": 1258,
      "sql_length": 668
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002076",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with outstanding balances grouped by ledger and vendor */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, s.VENDOR_NAME, SUM(i.INVOICE_AMOUNT - NVL(i.AMOUNT_PAID, 0)) AS OUTSTANDING_BALANCE FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE i.INVOICE_AMOUNT > NVL(i.AMOUNT_PAID, 0) GROUP BY g.NAME, s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2785,
      "prompt_token_estimate": 740,
      "sql_length": 316
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002373",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List top 5 bank accounts by cleared payment value under Vision Operations */`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NAME, SUM(aca.AMOUNT) AS CLEARED_TOTAL FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY aca.BANK_ACCOUNT_NAME ORDER BY CLEARED_TOTAL DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_CHECKS_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 3549,
      "prompt_token_estimate": 932,
      "sql_length": 435
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000628",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List top 5 items by total PO value in the last 12 months.*/`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT NVL(msi.segment1, pla.item_description) AS item_code, SUM(pla.unit_price * plla.quantity) AS total_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pha.creation_date >= ADD_MONTHS(SYSDATE, -12) GROUP BY NVL(msi.segment1, pla.item_description) ORDER BY total_value DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINE_LOCATIONS_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_HEADERS_ALL",
        "PO_LINES_ALL"
      ],
      "schema_length": 6518,
      "prompt_token_estimate": 1670,
      "sql_length": 542
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001039",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers where the max PO revision number is greater than 5.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, MAX(rct.po_revision_num) AS max_revision FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING MAX(rct.po_revision_num) > 5"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 827,
      "sql_length": 310
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001761",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices with a specific document sub-type`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_NUM, DOCUMENT_SUB_TYPE FROM ap_invoices_all WHERE DOCUMENT_SUB_TYPE = 'STANDARD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1387,
      "prompt_token_estimate": 384,
      "sql_length": 95
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000509",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs where packing slip number is missing but shipment exists.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, rsh.shipment_num FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.packing_slip IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 347,
      "sql_length": 180
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000862",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find PO numbers and item codes where routing header ID is not null.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.routing_header_id IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2018,
      "sql_length": 472
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000454",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get total PO value per supplier where currency code is 'USD'.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, SUM(pla.unit_price * pla.quantity) AS total_value FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.currency_code = 'USD' GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS",
        "PO_LINES_ALL"
      ],
      "schema_length": 2861,
      "prompt_token_estimate": 757,
      "sql_length": 270
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002002",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total distribution amounts by payment terms name */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT t.NAME AS TERMS_NAME, SUM(d.AMOUNT) AS TOTAL_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID GROUP BY t.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_TERMS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2673,
      "prompt_token_estimate": 708,
      "sql_length": 206
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000159",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the earliest and latest enable dates per business group.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT business_group_id, MIN(user_definition_enable_date) AS earliest_enable, MAX(user_definition_enable_date) AS latest_enable FROM org_organization_definitions GROUP BY business_group_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 135,
      "sql_length": 189
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001091",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List POs and suppliers where total PO distribution amount billed exceeds 500,000 using SUM.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, SUM(pod.amount_billed) AS total_billed FROM po_headers_all pha JOIN po_distributions_all pod ON pha.po_header_id = pod.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name, pha.segment1 HAVING SUM(pod.amount_billed) > 500000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 809,
      "sql_length": 315
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001978",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find all DEBIT invoices with validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'DEBIT' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 698,
      "sql_length": 273
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002203",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Select INVOICE_PAYMENT_ID, INVOICE_ID, CHECK_ID, AMOUNT, ACCOUNTING_DATE, ACCOUNTING_EVENT_ID, CASH_POSTED_FLAG, ACCRUAL_POSTED_FLAG, LAST_UPDATED_BY, LAST_UPDATE_DATE from ap_invoice_payments_all */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT INVOICE_PAYMENT_ID, INVOICE_ID, CHECK_ID, AMOUNT, ACCOUNTING_DATE, ACCOUNTING_EVENT_ID, CASH_POSTED_FLAG, ACCRUAL_POSTED_FLAG, LAST_UPDATED_BY, LAST_UPDATE_DATE FROM ap_invoice_payments_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 312,
      "prompt_token_estimate": 153,
      "sql_length": 196
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000385",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve the list of active POs (approved and not cancelled) with supplier and currency details.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, pha.currency_code FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pha.approved_flag = 'Y' AND pha.cancel_flag = 'N'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 1740,
      "prompt_token_estimate": 485,
      "sql_length": 203
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001684",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count transactions per CURRENCY_CODE where CURRENCY_CODE is not NULL and AMOUNT > 500.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, COUNT(*) AS high_amount_count FROM rcv_transactions WHERE currency_code IS NOT NULL AND amount > 500 GROUP BY currency_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 393,
      "sql_length": 145
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000979",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find POs and supplier names where total return to supplier transactions > 200 units using GROUP BY and HAVING.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name, SUM(rct.quantity) AS total_return_qty FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.transaction_type = 'RETURN TO SUPPLIER' GROUP BY pha.segment1, aps.vendor_name HAVING SUM(rct.quantity) > 200"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 835,
      "sql_length": 352
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001778",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find paid invoices under 'Vision Operations' with amounts`\n\n### Database Schema\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, a.PAYMENT_STATUS_FLAG, a.AMOUNT_PAID, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.PAYMENT_STATUS_FLAG = 'Y'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1762,
      "prompt_token_estimate": 480,
      "sql_length": 226
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000863",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find PO numbers and item codes where routing header ID is not null.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.routing_header_id IS NOT NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2018,
      "sql_length": 472
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001941",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find credit memo invoices where all distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID WHERE i.INVOICE_TYPE_LOOKUP_CODE = 'CREDIT' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all WHERE INVOICE_ID = i.INVOICE_ID AND MATCH_STATUS_FLAG = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 2633,
      "prompt_token_estimate": 700,
      "sql_length": 274
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001414",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List distinct destination type codes available in the table.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT destination_type_code FROM po_distributions_all"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 348,
      "sql_length": 63
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000707",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get the count of POs for each supplier where destination type is 'EXPENSE'.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        COUNT(DISTINCT pha.po_header_id) AS po_count FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla     ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod     ON plla.line_location_id = pod.line_location_id JOIN ap_suppliers aps     ON pha.vendor_id = aps.vendor_id WHERE pod.destination_type_code = 'EXPENSE' GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1683,
      "sql_length": 446
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000967",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and supplier names where billed currency is different from standard using DISTINCT.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT DISTINCT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN rcv_transactions rct ON pha.po_header_id = rct.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rct.currency_code <> 'USD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_TRANSACTIONS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3124,
      "prompt_token_estimate": 833,
      "sql_length": 235
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001569",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count how many lines have NULL quantity_received.`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS null_received_count FROM rcv_shipment_lines WHERE quantity_received IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 1491,
      "prompt_token_estimate": 411,
      "sql_length": 94
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002101",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find average invoice amount per vendor and ledger where distributions are validated */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, g.NAME AS LEDGER_NAME, AVG(i.INVOICE_AMOUNT) AS AVG_AMOUNT FROM ap_invoices_all i JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all d WHERE d.INVOICE_ID = i.INVOICE_ID AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N') GROUP BY s.VENDOR_NAME, g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 4007,
      "prompt_token_estimate": 1049,
      "sql_length": 374
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000217",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List conversions where the conversion rate is greater than 1.0.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE conversion_rate > 1.0"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 88,
      "sql_length": 132
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001456",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO distributions where code combination ID matches a specific value and ordered quantity > 100.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM po_distributions_all WHERE code_combination_id = 2020 AND quantity_ordered > 100"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 358,
      "sql_length": 94
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000567",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve the number of distinct items ordered per organization where currency is not INR.*/`\n\n### Database Schema\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\n-- Join relationships:\n\n-- ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = ORG_ORGANIZATION_DEFINITIONS.ORGANIZATION_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT org.organization_name, COUNT(DISTINCT NVL(msi.segment1, pla.item_description)) AS distinct_items FROM po_headers_all pha JOIN po_lines_all pla ON pha.po_header_id = pla.po_header_id JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id JOIN org_organization_definitions org ON pha.org_id = org.organization_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE pha.currency_code <> 'INR' GROUP BY org.organization_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL",
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 7081,
      "prompt_token_estimate": 1819,
      "sql_length": 521
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000129",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `show some details for purchase order lines along with operating unit`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT hou.name AS operating_unit, pla.po_line_id, pla.item_id, pla.item_description, pla.unit_price, pla.quantity FROM hr_operating_units hou JOIN po_lines_all pla ON hou.organization_id = pla.org_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "PO_LINES_ALL"
      ],
      "schema_length": 1286,
      "prompt_token_estimate": 364,
      "sql_length": 200
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002347",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate vendor-level payment clearing rate in Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, COUNT(DISTINCT CASE WHEN aca.STATUS_LOOKUP_CODE = 'CLEARED' THEN aca.CHECK_ID END) AS CLEARED_COUNT, COUNT(DISTINCT aca.CHECK_ID) AS TOTAL_COUNT, (COUNT(DISTINCT CASE WHEN aca.STATUS_LOOKUP_CODE = 'CLEARED' THEN aca.CHECK_ID END) / COUNT(DISTINCT aca.CHECK_ID)) * 100 AS CLEARING_RATE FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4645,
      "prompt_token_estimate": 1204,
      "sql_length": 630
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000214",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List conversions where uom_class is in ('Volume', 'Area') and the conversion rate is greater than 10.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE uom_class IN ('Volume', 'Area') AND conversion_rate > 10"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 97,
      "sql_length": 167
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001054",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find suppliers and PO numbers where all shipments have NULL ASN type using NOT EXISTS.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE NOT EXISTS ( SELECT 1 FROM rcv_shipment_headers rsh WHERE rsh.shipment_header_id = pha.po_header_id AND rsh.asn_type IS NOT NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 632,
      "sql_length": 265
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001457",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find the top 3 distributions with the highest amount cancelled per PO header.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT * FROM ( SELECT po_distribution_id, po_header_id, amount_cancelled, RANK() OVER (PARTITION BY po_header_id ORDER BY amount_cancelled DESC) AS rnk FROM po_distributions_all ) WHERE rnk <= 3"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 353,
      "sql_length": 195
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001915",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `LSIT OF STANDARD INVOICES FOR THE YEAR 2007`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_SUPPLIER_SITES_ALL (\n    VENDOR_SITE_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_CODE VARCHAR2,\n    ADDRESS_LINE1 VARCHAR2,\n    ADDRESS_LINE2 VARCHAR2,\n    ADDRESS_LINE3 VARCHAR2,\n    ADDRESS_LINE4 VARCHAR2,\n    ADDRESS_STYLE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PARTY_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_PERIODS (\n    PERIOD_SET_NAME VARCHAR2,\n    PERIOD_NAME VARCHAR2,\n    START_DATE DATE,\n    END_DATE DATE,\n    YEAR_START_DATE DATE,\n    QUARTER_START_DATE DATE,\n    PERIOD_TYPE VARCHAR2,\n    PERIOD_YEAR NUMBER,\n    PERIOD_NUM NUMBER,\n    QUARTER_NUM NUMBER,\n    ENTERED_PERIOD_NAME VARCHAR2,\n    ADJUSTMENT_PERIOD_FLAG VARCHAR2,\n    CREATION_DATE DATE\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICES_ALL.VENDOR_SITE_ID = AP_SUPPLIER_SITES_ALL.VENDOR_SITE_ID\n\n-- AP_SUPPLIERS.VENDOR_ID = AP_SUPPLIER_SITES_ALL.VENDOR_ID\n\n-- GL_LEDGERS.ACCOUNTED_PERIOD_TYPE = GL_PERIODS.PERIOD_TYPE\n\n-- GL_LEDGERS.PERIOD_SET_NAME = GL_PERIODS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_SET_NAME = GL_LEDGERS.PERIOD_SET_NAME\n\n-- GL_PERIODS.PERIOD_TYPE = GL_LEDGERS.ACCOUNTED_PERIOD_TYPE\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT ai.INVOICE_NUM, ai.INVOICE_AMOUNT, ai.INVOICE_CURRENCY_CODE, s.VENDOR_NAME, ss.VENDOR_SITE_CODE, ai.WFAPPROVAL_STATUS, ai.AMOUNT_PAID, ai.CANCELLED_DATE, ai.GL_DATE, ai.CREATION_DATE, ai.EXCHANGE_RATE, ai.INVOICE_AMOUNT * NVL(ai.EXCHANGE_RATE, 1) base_cur_amt, ai.DESCRIPTION, ai.INVOICE_TYPE_LOOKUP_CODE, ai.SOURCE, t.NAME AS TERM_NAME, hou.NAME AS OPERATING_UNIT_NAME, gl.NAME AS LEDGER_NAME, AP_INVOICES_PKG.GET_APPROVAL_STATUS(ai.INVOICE_ID, ai.INVOICE_AMOUNT, ai.PAYMENT_STATUS_FLAG, ai.INVOICE_TYPE_LOOKUP_CODE) AS VALIDATION_STATUS FROM AP_INVOICES_ALL ai JOIN AP_SUPPLIERS s ON ai.VENDOR_ID = s.VENDOR_ID LEFT JOIN AP_SUPPLIER_SITES_ALL ss ON ai.VENDOR_SITE_ID = ss.VENDOR_SITE_ID LEFT JOIN AP_TERMS t ON ai.TERMS_ID = t.TERM_ID JOIN HR_OPERATING_UNITS hou ON ai.ORG_ID = hou.ORGANIZATION_ID AND UPPER(hou.NAME) LIKE '%VISION%OPERATIONS%' JOIN GL_LEDGERS gl ON ai.SET_OF_BOOKS_ID = gl.LEDGER_ID JOIN GL_PERIODS gp ON gp.PERIOD_SET_NAME = gl.PERIOD_SET_NAME AND gp.PERIOD_TYPE = gl.ACCOUNTED_PERIOD_TYPE AND gp.PERIOD_YEAR = 2007 AND ai.GL_DATE BETWEEN gp.START_DATE AND gp.END_DATE WHERE ai.INVOICE_TYPE_LOOKUP_CODE = 'STANDARD'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "GL_PERIODS",
        "AP_SUPPLIERS",
        "AP_TERMS",
        "AP_INVOICES_ALL",
        "GL_LEDGERS",
        "AP_SUPPLIER_SITES_ALL"
      ],
      "schema_length": 4398,
      "prompt_token_estimate": 1136,
      "sql_length": 1143
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000260",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count of conversions grouped by UOM code where inventory_item_id is not NULL.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT uom_code, COUNT(*) AS conversion_count FROM mtl_uom_conversions WHERE inventory_item_id IS NOT NULL GROUP BY uom_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 91,
      "sql_length": 124
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002377",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate vendor-level average days from invoice to first cleared payment under Vision Operations */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, AVG(aca.CHECK_DATE - ai.INVOICE_DATE) AS AVG_DAYS_TO_CLEAR FROM ap_suppliers s JOIN ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID JOIN ap_invoice_payments_all aip ON ai.INVOICE_ID = aip.INVOICE_ID JOIN ap_checks_all aca ON aip.CHECK_ID = aca.CHECK_ID JOIN hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID WHERE aca.STATUS_LOOKUP_CODE = 'CLEARED' AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4645,
      "prompt_token_estimate": 1212,
      "sql_length": 443
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002234",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get bank account wise total payment amounts */`\n\n### Database Schema\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.BANK_ACCOUNT_NUM, SUM(aca.AMOUNT) AS TOTAL_PAID FROM ap_checks_all aca GROUP BY aca.BANK_ACCOUNT_NUM"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_CHECKS_ALL"
      ],
      "schema_length": 1471,
      "prompt_token_estimate": 405,
      "sql_length": 111
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001425",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List distributions where destination type is 'INVENTORY' and the amount delivered is greater than 5000.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_distribution_id, amount_delivered FROM po_distributions_all WHERE destination_type_code = 'INVENTORY' AND amount_delivered > 5000"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 359,
      "sql_length": 139
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000446",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get suppliers and total PO quantities where destination type is INVENTORY.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.LINE_LOCATION_ID = PO_LINE_LOCATIONS_ALL.LINE_LOCATION_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_DISTRIBUTIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name,        SUM(pod.quantity_ordered) AS total_quantity FROM po_headers_all pha JOIN po_lines_all pla     ON pha.po_header_id = pla.po_header_id JOIN ap_suppliers aps     ON pha.vendor_id = aps.vendor_id JOIN po_line_locations_all plla     ON pla.po_line_id = plla.po_line_id JOIN po_distributions_all pod     ON plla.line_location_id = pod.line_location_id WHERE pod.destination_type_code = 'INVENTORY' GROUP BY aps.vendor_name"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_DISTRIBUTIONS_ALL",
        "PO_LINES_ALL",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 6551,
      "prompt_token_estimate": 1682,
      "sql_length": 447
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002150",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find total ITEM-type distribution amounts per vendor */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(d.AMOUNT) AS TOTAL_ITEM_AMOUNT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'ITEM' GROUP BY s.VENDOR_NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 972,
      "sql_length": 257
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000026",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count of ledgers by chart_of_accounts_id, only for ledgers with currency code 'EUR'.`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT chart_of_accounts_id, COUNT(ledger_id) AS ledger_count FROM gl_ledgers WHERE currency_code = 'EUR' GROUP BY chart_of_accounts_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "GL_LEDGERS"
      ],
      "schema_length": 276,
      "prompt_token_estimate": 116,
      "sql_length": 135
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000165",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count organizations where both legal entity and operating unit are NULL.`\n\n### Database Schema\nCREATE TABLE ORG_ORGANIZATION_DEFINITIONS (\n    ORGANIZATION_ID NUMBER,\n    BUSINESS_GROUP_ID NUMBER,\n    USER_DEFINITION_ENABLE_DATE DATE,\n    DISABLE_DATE DATE,\n    ORGANIZATION_CODE VARCHAR2,\n    ORGANIZATION_NAME VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    INVENTORY_ENABLED_FLAG VARCHAR2,\n    OPERATING_UNIT NUMBER,\n    LEGAL_ENTITY NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT COUNT(*) AS no_legal_no_operating FROM org_organization_definitions WHERE legal_entity IS NULL AND operating_unit IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "ORG_ORGANIZATION_DEFINITIONS"
      ],
      "schema_length": 378,
      "prompt_token_estimate": 138,
      "sql_length": 128
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001444",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count distributions grouped by destination context.`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT destination_context, COUNT(*) AS count FROM po_distributions_all GROUP BY destination_context"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL"
      ],
      "schema_length": 1231,
      "prompt_token_estimate": 346,
      "sql_length": 100
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000207",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List conversions where the UOM class contains the word 'Weight'.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE uom_class LIKE '%Weight%'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 88,
      "sql_length": 136
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002070",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 10 suppliers by total withholding tax (AWT) applied */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT s.VENDOR_NAME, SUM(d.AMOUNT) AS TOTAL_AWT FROM ap_invoice_distributions_all d JOIN ap_invoices_all i ON d.INVOICE_ID = i.INVOICE_ID JOIN ap_suppliers s ON i.VENDOR_ID = s.VENDOR_ID WHERE d.LINE_TYPE_LOOKUP_CODE = 'AWT' GROUP BY s.VENDOR_NAME ORDER BY TOTAL_AWT DESC FETCH FIRST 10 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3729,
      "prompt_token_estimate": 974,
      "sql_length": 297
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000854",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve the top 5 suppliers by the count of PO distributions with an amount ordered above 50000.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, COUNT(pod.po_distribution_id) AS high_value_distributions FROM po_distributions_all pod JOIN po_headers_all pha ON pod.po_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE pod.amount_ordered > 50000 GROUP BY aps.vendor_name ORDER BY high_value_distributions DESC FETCH FIRST 5 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 811,
      "sql_length": 350
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001653",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List transactions where COMMENTS include 'late' and INSPECTION_STATUS_CODE = 'REJECTED'.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT transaction_id, transaction_type, comments, inspection_status_code FROM rcv_transactions WHERE comments like '%late%' AND inspection_status_code = 'REJECTED'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 393,
      "sql_length": 164
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000783",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and POs where shipments have over 10 containers and were shipped in the last year.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number, rsh.num_of_containers FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.num_of_containers > 10 AND rsh.shipped_date BETWEEN ADD_MONTHS(SYSDATE, -12) AND SYSDATE"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_SHIPMENT_HEADERS",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 636,
      "sql_length": 325
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001215",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Count PO lines per po_header_id where canceled.`\n\n### Database Schema\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT po_header_id, COUNT(*) FROM po_lines_all WHERE cancel_flag = 'Y' GROUP BY po_header_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_LINES_ALL"
      ],
      "schema_length": 999,
      "prompt_token_estimate": 287,
      "sql_length": 93
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002460",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `list of invoices not approved even after 10 days from creation date`\n\n### Database Schema\n-- Table Q1 schema not available\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INV_APRVL_HIST_ALL (\n    INVOICE_ID NUMBER,\n    ITERATION NUMBER,\n    RESPONSE VARCHAR2,\n    APPROVER_ID NUMBER,\n    APPROVER_NAME VARCHAR2,\n    AMOUNT_APPROVED NUMBER,\n    APPROVER_COMMENTS VARCHAR2,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    LAST_UPDATE_DATE DATE,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_LOGIN NUMBER,\n    ORG_ID NUMBER,\n    NOTIFICATION_ORDER NUMBER,\n    ORIG_SYSTEM VARCHAR2,\n    ITEM_CLASS VARCHAR2,\n    ITEM_ID VARCHAR2,\n    LINE_NUMBER NUMBER,\n    HOLD_ID NUMBER,\n    HISTORY_TYPE VARCHAR2\n);\n\n-- Table Q2 schema not available\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.INVOICE_ID = AP_INV_APRVL_HIST_ALL.INVOICE_ID\n\n-- AP_INV_APRVL_HIST_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH q1 AS (\n    SELECT AH.APPROVAL_HISTORY_ID, \n           AH.RESPONSE, \n           AH.ITERATION, \n           AH.APPROVER_NAME, \n           AH.INVOICE_ID, \n           AH.CREATION_DATE AS ACTION_DATE, \n           AH.LAST_UPDATE_DATE\n    FROM AP_INV_APRVL_HIST_ALL AH\n    WHERE AH.HISTORY_TYPE = 'DOCUMENTAPPROVAL'\n      AND AH.APPROVAL_HISTORY_ID = (\n          SELECT MAX(AH2.APPROVAL_HISTORY_ID)\n          FROM AP_INV_APRVL_HIST_ALL AH2\n          WHERE AH2.INVOICE_ID = AH.INVOICE_ID\n            AND AH2.HISTORY_TYPE = 'DOCUMENTAPPROVAL'\n      )\n), \nq2 AS (\n    SELECT INVOICE_ID, CREATION_DATE \n    FROM AP_INVOICES_ALL\n)\nSELECT q2.INVOICE_ID, \n       q2.CREATION_DATE, \n       q1.RESPONSE, \n       q1.ACTION_DATE, \n       q1.LAST_UPDATE_DATE AS FINAL_APPROVAL_DATE,\n       CASE \n           WHEN q1.RESPONSE IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') \n                AND (q1.ACTION_DATE - q2.CREATION_DATE) > 10--x days\n           THEN 'Approved but took more than 10 days'\n           WHEN q1.RESPONSE NOT IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') \n                AND (SYSDATE - q2.CREATION_DATE) > 10 --x days\n           THEN 'Pending for more than 10 days'\n           ELSE 'Does not meet criteria'\n       END AS STATUS\nFROM q1 \nJOIN q2 ON q1.INVOICE_ID = q2.INVOICE_ID\nWHERE (q1.RESPONSE IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') \n        AND (q1.ACTION_DATE - q2.CREATION_DATE) > 10)\n   OR (q1.RESPONSE NOT IN ('WFAPPROVED', 'MANUALLY APPROVED', 'APPROVED') \n        AND (SYSDATE - q2.CREATION_DATE) > 10)"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "Q1",
        "AP_INVOICES_ALL",
        "AP_INV_APRVL_HIST_ALL",
        "Q2"
      ],
      "schema_length": 2157,
      "prompt_token_estimate": 582,
      "sql_length": 1538
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002081",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List validated invoices with organization name and ledger */`\n\n### Database Schema\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.LEDGER_ID\n\n-- HR_OPERATING_UNITS.SET_OF_BOOKS_ID = GL_LEDGERS.SET_OF_BOOKS_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, h.NAME AS ORG_NAME, g.NAME AS LEDGER_NAME FROM ap_invoices_all i JOIN hr_operating_units h ON i.ORG_ID = h.ORGANIZATION_ID JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID WHERE NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all d WHERE d.INVOICE_ID = i.INVOICE_ID AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 3392,
      "prompt_token_estimate": 889,
      "sql_length": 335
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000974",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve POs and suppliers where PO distributions have null code_combination_id using EXISTS.*/`\n\n### Database Schema\nCREATE TABLE PO_DISTRIBUTIONS_ALL (\n    ACCRUAL_ACCOUNT_ID NUMBER,\n    ACCRUE_ON_RECEIPT_FLAG VARCHAR2,\n    ACCRUED_FLAG VARCHAR2,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_DELIVERED NUMBER,\n    AMOUNT_FINANCED NUMBER,\n    AMOUNT_ORDERED NUMBER,\n    AWARD_ID NUMBER,\n    BUDGET_ACCOUNT_ID NUMBER,\n    CODE_COMBINATION_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DESTINATION_CONTEXT VARCHAR2,\n    DESTINATION_ORGANIZATION_ID NUMBER,\n    DESTINATION_SUBINVENTORY VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    DISTRIBUTION_NUM NUMBER,\n    DISTRIBUTION_TYPE VARCHAR2,\n    EXPENDITURE_ITEM_DATE DATE,\n    EXPENDITURE_ORGANIZATION_ID NUMBER,\n    EXPENDITURE_TYPE VARCHAR2,\n    LINE_LOCATION_ID NUMBER,\n    ORG_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROJECT_ACCOUNTING_CONTEXT VARCHAR2,\n    PROJECT_ID NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_DELIVERED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_ORDERED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    SET_OF_BOOKS_ID NUMBER,\n    SOURCE_DISTRIBUTION_ID NUMBER\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_DISTRIBUTIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, aps.vendor_name FROM po_headers_all pha JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE EXISTS ( SELECT 1 FROM po_distributions_all pod WHERE pod.po_header_id = pha.po_header_id AND pod.code_combination_id IS NULL )"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_DISTRIBUTIONS_ALL",
        "PO_HEADERS_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3041,
      "prompt_token_estimate": 810,
      "sql_length": 262
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002154",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under ledger 'Vision US Ledger' and terms 'Net 30' with validated distributions */`\n\n### Database Schema\nCREATE TABLE AP_INVOICE_DISTRIBUTIONS_ALL (\n    ACCOUNTING_DATE DATE,\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    ADJUSTMENT_REASON VARCHAR2,\n    AMOUNT NUMBER,\n    AMOUNT_VARIANCE NUMBER,\n    ASSET_BOOK_TYPE_CODE VARCHAR2,\n    ASSET_CATEGORY_ID NUMBER,\n    ASSETS_ADDITION_FLAG VARCHAR2,\n    ASSETS_TRACKING_FLAG VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CANCELLATION_FLAG VARCHAR2,\n    CANCELLED_FLAG VARCHAR2,\n    DESCRIPTION VARCHAR2,\n    DIST_CODE_COMBINATION_ID NUMBER,\n    DIST_MATCH_TYPE VARCHAR2,\n    DISTRIBUTION_CLASS VARCHAR2,\n    DISTRIBUTION_LINE_NUMBER NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    INVOICE_DISTRIBUTION_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_LINE_NUMBER NUMBER,\n    LINE_TYPE_LOOKUP_CODE VARCHAR2,\n    MATCH_STATUS_FLAG VARCHAR2,\n    MATCHED_UOM_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PERIOD_NAME VARCHAR2,\n    PO_DISTRIBUTION_ID NUMBER,\n    POSTED_FLAG VARCHAR2,\n    PREPAY_AMOUNT_REMAINING NUMBER,\n    PREPAY_DISTRIBUTION_ID NUMBER,\n    PREPAY_TAX_DIFF_AMOUNT NUMBER,\n    QUANTITY_INVOICED NUMBER,\n    RCV_TRANSACTION_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    UNIT_PRICE NUMBER\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Table AP_TERMS schema not available\n\n-- Join relationships:\n\n-- AP_INVOICE_DISTRIBUTIONS_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT i.INVOICE_NUM, g.NAME AS LEDGER_NAME, t.NAME AS TERMS_NAME FROM ap_invoices_all i JOIN gl_ledgers g ON i.SET_OF_BOOKS_ID = g.LEDGER_ID JOIN ap_terms t ON i.TERMS_ID = t.TERM_ID WHERE g.NAME = 'Vision US Ledger' AND t.NAME = 'Net 30' AND NOT EXISTS (SELECT 1 FROM ap_invoice_distributions_all d WHERE d.INVOICE_ID = i.INVOICE_ID AND NVL(d.MATCH_STATUS_FLAG, 'N') = 'N')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_TERMS",
        "AP_INVOICE_DISTRIBUTIONS_ALL",
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 2951,
      "prompt_token_estimate": 787,
      "sql_length": 375
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000767",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List PO numbers and item codes where inspection status is either 'ACCEPTED' or 'REJECTED'.*/`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\nCREATE TABLE PO_LINES_ALL (\n    AMOUNT NUMBER,\n    BASE_QTY NUMBER,\n    BASE_UNIT_PRICE NUMBER,\n    BASE_UOM VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CATEGORY_ID NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_REASON VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    LINE_NUM NUMBER,\n    LINE_TYPE_ID NUMBER,\n    LIST_PRICE_PER_UNIT NUMBER,\n    ORG_ID NUMBER,\n    OVER_TOLERANCE_ERROR_FLAG VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PURCHASE_BASIS VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    SECONDARY_QTY NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SECONDARY_UOM VARCHAR2,\n    START_DATE DATE,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    UN_NUMBER_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_PRICE NUMBER,\n    UNORDERED_FLAG VARCHAR2\n);\n\nCREATE TABLE MTL_SYSTEM_ITEMS_B (\n    ALLOW_ITEM_DESC_UPDATE_FLAG VARCHAR2,\n    ALLOW_SUBSTITUTE_RECEIPTS_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    COST_OF_SALES_ACCOUNT NUMBER,\n    COSTING_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_ENABLED_FLAG VARCHAR2,\n    CUSTOMER_ORDER_FLAG VARCHAR2,\n    CYCLE_COUNT_ENABLED_FLAG VARCHAR2,\n    DUAL_UOM_CONTROL NUMBER,\n    DESCRIPTION VARCHAR2,\n    EXPENSE_ACCOUNT NUMBER,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INTERNAL_ORDER_ENABLED_FLAG VARCHAR2,\n    INTERNAL_ORDER_FLAG VARCHAR2,\n    INVENTORY_ASSET_FLAG VARCHAR2,\n    INVENTORY_ITEM_FLAG VARCHAR2,\n    INVENTORY_ITEM_ID NUMBER,\n    INVENTORY_ITEM_STATUS_CODE VARCHAR2,\n    INVOICE_ENABLED_FLAG VARCHAR2,\n    INVOICEABLE_ITEM_FLAG VARCHAR2,\n    INVOICING_RULE_ID NUMBER,\n    ITEM_CATALOG_GROUP_ID NUMBER,\n    ITEM_TYPE VARCHAR2,\n    LIST_PRICE_PER_UNIT NUMBER,\n    LOCATION_CONTROL_CODE NUMBER,\n    LOT_CONTROL_CODE NUMBER,\n    MARKET_PRICE NUMBER,\n    MTL_TRANSACTIONS_ENABLED_FLAG VARCHAR2,\n    MUST_USE_APPROVED_VENDOR_FLAG VARCHAR2,\n    ORGANIZATION_ID NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    PRIMARY_UOM_CODE VARCHAR2,\n    PROCESS_COSTING_ENABLED_FLAG VARCHAR2,\n    PROCESS_EXECUTION_ENABLED_FLAG VARCHAR2,\n    PROCESS_QUALITY_ENABLED_FLAG VARCHAR2,\n    PROCESS_SUPPLY_LOCATOR_ID NUMBER,\n    PROCESS_SUPPLY_SUBINVENTORY VARCHAR2,\n    PROCESS_YIELD_LOCATOR_ID NUMBER,\n    PROCESS_YIELD_SUBINVENTORY VARCHAR2,\n    PRODUCT_FAMILY_ITEM_ID NUMBER,\n    PURCHASING_ENABLED_FLAG VARCHAR2,\n    PURCHASING_ITEM_FLAG VARCHAR2,\n    PURCHASING_TAX_CODE VARCHAR2,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    RECIPE_ENABLED_FLAG VARCHAR2,\n    RESTRICT_LOCATORS_CODE NUMBER,\n    RESTRICT_SUBINVENTORIES_CODE NUMBER,\n    RFQ_REQUIRED_FLAG VARCHAR2,\n    SALES_ACCOUNT NUMBER,\n    SECONDARY_UOM_CODE VARCHAR2,\n    SERIAL_NUMBER_CONTROL_CODE NUMBER,\n    SERIAL_STATUS_ENABLED VARCHAR2,\n    SHELF_LIFE_CODE NUMBER,\n    SHELF_LIFE_DAYS NUMBER,\n    SOURCE_ORGANIZATION_ID NUMBER,\n    SOURCE_SUBINVENTORY VARCHAR2,\n    SOURCE_TYPE NUMBER,\n    STOCK_ENABLED_FLAG VARCHAR2,\n    SUMMARY_FLAG VARCHAR2,\n    TAX_CODE VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    SEGMENT1 VARCHAR2\n);\n\nCREATE TABLE PO_LINE_LOCATIONS_ALL (\n    AMOUNT NUMBER,\n    AMOUNT_BILLED NUMBER,\n    AMOUNT_CANCELLED NUMBER,\n    AMOUNT_RECEIVED NUMBER,\n    AMOUNT_REJECTED NUMBER,\n    AMOUNT_SHIPPED NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    CALCULATE_TAX_FLAG VARCHAR2,\n    CANCEL_DATE DATE,\n    CANCEL_FLAG VARCHAR2,\n    CANCEL_REASON VARCHAR2,\n    CANCELLED_BY NUMBER,\n    CLOSED_BY NUMBER,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CLOSED_FLAG VARCHAR2,\n    CLOSED_FOR_INVOICE_DATE DATE,\n    CLOSED_FOR_RECEIVING_DATE DATE,\n    CLOSED_REASON VARCHAR2,\n    CREATION_DATE DATE,\n    DAYS_EARLY_RECEIPT_ALLOWED NUMBER,\n    DAYS_LATE_RECEIPT_ALLOWED NUMBER,\n    SHIP_TO_ORGANIZATION_ID NUMBER,\n    FINAL_MATCH_FLAG VARCHAR2,\n    FOB_LOOKUP_CODE VARCHAR2,\n    FREIGHT_TERMS_LOOKUP_CODE VARCHAR2,\n    INSPECTION_REQUIRED_FLAG VARCHAR2,\n    INVOICE_CLOSE_TOLERANCE NUMBER,\n    LINE_LOCATION_ID NUMBER,\n    MANUAL_PRICE_CHANGE_FLAG VARCHAR2,\n    MATCH_OPTION VARCHAR2,\n    MATCHING_BASIS VARCHAR2,\n    NEED_BY_DATE DATE,\n    NOTE_TO_RECEIVER VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PROMISED_DATE DATE,\n    QTY_RCV_EXCEPTION_CODE VARCHAR2,\n    QTY_RCV_TOLERANCE NUMBER,\n    QUANTITY NUMBER,\n    QUANTITY_ACCEPTED NUMBER,\n    QUANTITY_BILLED NUMBER,\n    QUANTITY_CANCELLED NUMBER,\n    QUANTITY_FINANCED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    QUANTITY_RECOUPED NUMBER,\n    QUANTITY_REJECTED NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    RECEIPT_DAYS_EXCEPTION_CODE VARCHAR2,\n    RECEIPT_REQUIRED_FLAG VARCHAR2,\n    RECEIVE_CLOSE_TOLERANCE NUMBER,\n    RECEIVING_ROUTING_ID NUMBER,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    SHIPMENT_CLOSED_DATE DATE,\n    SHIPMENT_NUM NUMBER,\n    SHIPMENT_TYPE VARCHAR2,\n    TAX_CODE_ID NUMBER,\n    TAX_NAME VARCHAR2,\n    TAX_USER_OVERRIDE_FLAG VARCHAR2,\n    TAXABLE_FLAG VARCHAR2,\n    TERMS_ID NUMBER,\n    UNIT_MEAS_LOOKUP_CODE VARCHAR2,\n    UNIT_OF_MEASURE_CLASS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.PO_HEADER_ID = PO_LINES_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.ITEM_ID = MTL_SYSTEM_ITEMS_B.INVENTORY_ITEM_ID\n\n-- PO_LINES_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINES_ALL.PO_LINE_ID = PO_LINE_LOCATIONS_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- PO_LINE_LOCATIONS_ALL.PO_LINE_ID = PO_LINES_ALL.PO_LINE_ID\n\n-- PO_LINE_LOCATIONS_ALL.SHIP_TO_ORGANIZATION_ID = MTL_SYSTEM_ITEMS_B.ORGANIZATION_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, NVL(msi.segment1, pla.item_description) AS item_code, rct.inspection_status_code FROM rcv_transactions rct JOIN po_lines_all pla ON rct.po_line_id = pla.po_line_id JOIN po_headers_all pha ON pla.po_header_id = pha.po_header_id LEFT JOIN po_line_locations_all plla ON pla.po_line_id = plla.po_line_id LEFT JOIN mtl_system_items_b msi ON pla.item_id = msi.inventory_item_id AND plla.ship_to_organization_id = msi.organization_id WHERE rct.inspection_status_code IN ('ACCEPTED', 'REJECTED')"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS",
        "PO_LINES_ALL",
        "MTL_SYSTEM_ITEMS_B",
        "PO_LINE_LOCATIONS_ALL",
        "PO_HEADERS_ALL"
      ],
      "schema_length": 7902,
      "prompt_token_estimate": 2024,
      "sql_length": 521
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001884",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Sum of paid amounts by ledger`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE GL_LEDGERS (\n    LEDGER_ID NUMBER,\n    NAME VARCHAR,\n    SHORT_NAME VARCHAR,\n    CURRENCY_CODE VARCHAR,\n    CHART_OF_ACCOUNTS_ID NUMBER,\n    PERIOD_SET_NAME VARCHAR,\n    ACCOUNTED_PERIOD_TYPE VARCHAR2,\n    LEDGER_CATEGORY_CODE VARCHAR,\n    ENABLED_FLAG VARCHAR\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT g.NAME AS LEDGER_NAME, SUM(a.AMOUNT_PAID) AS TOTAL_PAID FROM ap_invoices_all a JOIN gl_ledgers g ON a.SET_OF_BOOKS_ID = g.LEDGER_ID GROUP BY g.NAME"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_INVOICES_ALL",
        "GL_LEDGERS"
      ],
      "schema_length": 1665,
      "prompt_token_estimate": 449,
      "sql_length": 154
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002303",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Calculate total overdue amount by supplier across Vision Operations  as of today or current or  latest or system date*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT \n    s.VENDOR_NAME, \n    SUM(aps.AMOUNT_REMAINING) AS TOTAL_OVERDUE \nFROM \n    ap_suppliers s \nJOIN \n    ap_invoices_all ai ON s.VENDOR_ID = ai.VENDOR_ID \nJOIN \n    ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID \nJOIN \n    hr_operating_units h ON ai.ORG_ID = h.ORGANIZATION_ID \nWHERE \n    aps.DUE_DATE < SYSDATE \n    AND aps.AMOUNT_REMAINING > 0 \n    AND UPPER(h.NAME) LIKE '%VISION%OPERATIONS%'      -- Only approved invoices\n    AND AP_INVOICES_PKG.GET_APPROVAL_STATUS(\n            ai.INVOICE_ID,\n            ai.INVOICE_AMOUNT,\n            ai.PAYMENT_STATUS_FLAG,\n            ai.INVOICE_TYPE_LOOKUP_CODE\n        ) = 'APPROVED'\n    AND ai.WFAPPROVAL_STATUS IN ('WFAPPROVED','MANUALLY APPROVED','NOT REQUIRED')\n    AND ai.CANCELLED_DATE IS NULL  GROUP BY \n    s.VENDOR_NAME \nORDER BY \n    TOTAL_OVERDUE DESC"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICES_ALL",
        "HR_OPERATING_UNITS",
        "AP_SUPPLIERS"
      ],
      "schema_length": 3105,
      "prompt_token_estimate": 832,
      "sql_length": 830
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001117",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve suppliers and POs where shipments have missing expected receipt dates.*/`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aps.vendor_name, pha.segment1 AS po_number FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id WHERE rsh.expected_receipt_date IS NULL"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 2337,
      "prompt_token_estimate": 630,
      "sql_length": 243
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001832",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find invoices under 'Vision Operations' for vendor type 'EMPLOYEE'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, s.VENDOR_NAME, s.VENDOR_TYPE_LOOKUP_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id JOIN ap_suppliers s ON a.VENDOR_ID = s.VENDOR_ID WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND s.VENDOR_TYPE_LOOKUP_CODE = 'EMPLOYEE'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL",
        "AP_SUPPLIERS"
      ],
      "schema_length": 2858,
      "prompt_token_estimate": 757,
      "sql_length": 290
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000265",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List conversions where the conversion rate is greater than 50 and the UOM class is not 'Weight'.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE conversion_rate > 50 AND uom_class <> 'Weight'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 96,
      "sql_length": 157
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000932",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 3 suppliers by total transportation cost using RANK and CTE.*/`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\n-- Table SUPPLIER_TRANSPORT schema not available\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH supplier_transport AS ( SELECT aps.vendor_name, SUM(rsl.transportation_cost) AS total_transport FROM rcv_shipment_lines rsl JOIN rcv_shipment_headers rsh ON rsl.shipment_header_id = rsh.shipment_header_id JOIN po_headers_all pha ON rsh.shipment_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name ) SELECT vendor_name, total_transport, RANK() OVER (ORDER BY total_transport DESC) AS transport_rank FROM supplier_transport FETCH FIRST 3 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_SHIPMENT_HEADERS",
        "SUPPLIER_TRANSPORT",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 4030,
      "prompt_token_estimate": 1051,
      "sql_length": 507
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000934",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find top 3 suppliers by total transportation cost using RANK and CTE.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE RCV_SHIPMENT_LINES (\n    SHIPMENT_LINE_ID NUMBER,\n    CREATION_DATE DATE,\n    SHIPMENT_HEADER_ID NUMBER,\n    LINE_NUM NUMBER,\n    CATEGORY_ID NUMBER,\n    QUANTITY_SHIPPED NUMBER,\n    QUANTITY_RECEIVED NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    ITEM_DESCRIPTION VARCHAR2,\n    ITEM_ID NUMBER,\n    ITEM_REVISION VARCHAR2,\n    VENDOR_ITEM_NUM VARCHAR2,\n    VENDOR_LOT_NUM VARCHAR2,\n    UOM_CONVERSION_RATE NUMBER,\n    SHIPMENT_LINE_STATUS_CODE VARCHAR2,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    REQ_DISTRIBUTION_ID NUMBER,\n    ROUTING_HEADER_ID NUMBER,\n    PACKING_SLIP VARCHAR2,\n    FROM_ORGANIZATION_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    EMPLOYEE_ID NUMBER,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    TO_ORGANIZATION_ID NUMBER,\n    TO_SUBINVENTORY VARCHAR2,\n    LOCATOR_ID NUMBER,\n    CHARGE_ACCOUNT_ID NUMBER,\n    TRANSPORTATION_ACCOUNT_ID NUMBER,\n    SHIPMENT_UNIT_PRICE NUMBER,\n    TRANSFER_COST NUMBER,\n    TRANSPORTATION_COST NUMBER,\n    COMMENTS VARCHAR2,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    COUNTRY_OF_ORIGIN_CODE VARCHAR2,\n    OE_ORDER_HEADER_ID NUMBER,\n    OE_ORDER_LINE_ID NUMBER,\n    CUSTOMER_ITEM_NUM VARCHAR2,\n    COST_GROUP_ID NUMBER,\n    SECONDARY_QUANTITY_SHIPPED NUMBER,\n    SECONDARY_QUANTITY_RECEIVED NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2\n);\n\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n-- Table SUPPLIER_TRANSPORT schema not available\n\n-- Join relationships:\n\n-- PO_HEADERS_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- RCV_SHIPMENT_LINES.PO_HEADER_ID = PO_HEADERS_ALL.PO_HEADER_ID\n\n-- RCV_SHIPMENT_LINES.SHIPMENT_HEADER_ID = RCV_SHIPMENT_HEADERS.SHIPMENT_HEADER_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "WITH supplier_transport AS ( SELECT aps.vendor_name, SUM(rsl.transportation_cost) AS total_transport FROM rcv_shipment_lines rsl JOIN rcv_shipment_headers rsh ON rsl.shipment_header_id = rsh.shipment_header_id JOIN po_headers_all pha ON rsh.shipment_header_id = pha.po_header_id JOIN ap_suppliers aps ON pha.vendor_id = aps.vendor_id GROUP BY aps.vendor_name ) SELECT vendor_name, total_transport, RANK() OVER (ORDER BY total_transport DESC) AS transport_rank FROM supplier_transport FETCH FIRST 3 ROWS ONLY"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_SUPPLIERS",
        "RCV_SHIPMENT_HEADERS",
        "SUPPLIER_TRANSPORT",
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_LINES"
      ],
      "schema_length": 4030,
      "prompt_token_estimate": 1051,
      "sql_length": 507
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000745",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Retrieve PO numbers and their expected receipt date for shipments of type 'ASBN'.*/`\n\n### Database Schema\nCREATE TABLE RCV_SHIPMENT_HEADERS (\n    CREATION_DATE DATE,\n    RECEIPT_SOURCE_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SHIPMENT_NUM VARCHAR2,\n    RECEIPT_NUM VARCHAR2,\n    SHIP_TO_LOCATION_ID NUMBER,\n    BILL_OF_LADING VARCHAR2,\n    PACKING_SLIP VARCHAR2,\n    SHIPPED_DATE DATE,\n    EXPECTED_RECEIPT_DATE DATE,\n    EMPLOYEE_ID NUMBER,\n    NUM_OF_CONTAINERS NUMBER,\n    WAYBILL_AIRBILL_NUM VARCHAR2,\n    COMMENTS VARCHAR2,\n    ASN_TYPE VARCHAR2,\n    FREIGHT_BILL_NUMBER VARCHAR2,\n    INVOICE_STATUS_CODE VARCHAR2,\n    ASN_STATUS VARCHAR2\n);\n\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT pha.segment1 AS po_number, rsh.expected_receipt_date FROM po_headers_all pha JOIN rcv_shipment_headers rsh ON pha.po_header_id = rsh.shipment_header_id WHERE rsh.asn_type = 'ASBN'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "PO_HEADERS_ALL",
        "RCV_SHIPMENT_HEADERS"
      ],
      "schema_length": 1218,
      "prompt_token_estimate": 351,
      "sql_length": 186
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000302",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Use COALESCE to handle null rate as 1.0 and get avg per currency.`\n\n### Database Schema\nCREATE TABLE PO_HEADERS_ALL (\n    ACCEPTANCE_DUE_DATE DATE,\n    AGENT_ID NUMBER,\n    APPROVED_DATE DATE,\n    APPROVED_FLAG VARCHAR2,\n    AUTHORIZATION_STATUS VARCHAR2,\n    CANCEL_FLAG VARCHAR2,\n    CLOSED_CODE VARCHAR2,\n    CLOSED_DATE DATE,\n    CREATION_DATE DATE,\n    CURRENCY_CODE VARCHAR2,\n    ENABLED_FLAG VARCHAR2,\n    END_DATE DATE,\n    FROZEN_FLAG VARCHAR2,\n    ORG_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    RATE NUMBER,\n    RATE_DATE DATE,\n    RATE_TYPE VARCHAR2,\n    REVISION_NUM NUMBER,\n    SEGMENT1 VARCHAR2,\n    TERMS_ID NUMBER,\n    TYPE_LOOKUP_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT currency_code, AVG(COALESCE(rate, 1.0)) AS avg_rate_incl_nulls FROM po_headers_all GROUP BY currency_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "PO_HEADERS_ALL"
      ],
      "schema_length": 621,
      "prompt_token_estimate": 197,
      "sql_length": 112
    }
  },
  {
    "id": "oracle_sqlcoder_v1_002394",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Show detailed remittance advice with total paid per check and associated invoices */`\n\n### Database Schema\nCREATE TABLE AP_SUPPLIERS (\n    VENDOR_ID NUMBER,\n    SEGMENT1 VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_TYPE_LOOKUP_CODE VARCHAR2,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    DISTRIBUTION_SET_ID NUMBER,\n    AMOUNT_INCLUDES_TAX_FLAG VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    HOLD_ALL_PAYMENTS_FLAG VARCHAR2,\n    HOLD_FUTURE_PAYMENTS_FLAG VARCHAR2,\n    ONE_TIME_FLAG VARCHAR2,\n    HOLD_UNMATCHED_INVOICES_FLAG VARCHAR2,\n    ALLOW_UNORDERED_RECEIPTS_FLAG VARCHAR2,\n    CREATE_DEBIT_MEMO_FLAG VARCHAR2,\n    ALLOW_AWT_FLAG VARCHAR2,\n    HOLD_FLAG VARCHAR2,\n    PARTY_ID NUMBER,\n    PAY_GROUP_LOOKUP_CODE VARCHAR2,\n    PAYMENT_PRIORITY NUMBER,\n    TERMS_ID NUMBER,\n    SET_OF_BOOKS_ID NUMBER,\n    AUTO_TAX_CALC_FLAG VARCHAR2,\n    PAY_DATE_BASIS_LOOKUP_CODE VARCHAR2,\n    PREPAY_CODE_COMBINATION_ID NUMBER,\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AWT_GROUP_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VAT_REGISTRATION_NUM VARCHAR2,\n    VERIFICATION_REQUEST_ID NUMBER,\n    VERIFICATION_NUMBER VARCHAR2,\n    WITHHOLDING_STATUS_LOOKUP_CODE VARCHAR2\n);\n\nCREATE TABLE AP_PAYMENT_SCHEDULES_ALL (\n    PAYMENT_SCHEDULE_ID NUMBER,\n    INVOICE_ID NUMBER,\n    DUE_DATE DATE,\n    AMOUNT_DUE_ORIGINAL NUMBER,\n    AMOUNT_REMAINING NUMBER\n);\n\nCREATE TABLE AP_CHECKS_ALL (\n    AMOUNT NUMBER,\n    BANK_ACCOUNT_ID NUMBER,\n    BANK_ACCOUNT_NAME VARCHAR2,\n    CHECK_DATE DATE,\n    CHECK_ID NUMBER,\n    CHECK_NUMBER NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    PAYMENT_METHOD_LOOKUP_CODE VARCHAR2,\n    PAYMENT_TYPE_FLAG VARCHAR2,\n    CHECKRUN_NAME VARCHAR2,\n    CHECK_FORMAT_ID NUMBER,\n    CHECK_STOCK_ID NUMBER,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    STATUS_LOOKUP_CODE VARCHAR2,\n    VENDOR_NAME VARCHAR2,\n    VENDOR_SITE_CODE VARCHAR2,\n    BANK_ACCOUNT_NUM VARCHAR2,\n    BANK_ACCOUNT_TYPE VARCHAR2,\n    BANK_NUM VARCHAR2,\n    CHECK_VOUCHER_NUM NUMBER,\n    CLEARED_AMOUNT NUMBER,\n    CLEARED_DATE DATE,\n    ORG_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    BASE_AMOUNT NUMBER,\n    CHECKRUN_ID NUMBER,\n    REQUEST_ID NUMBER,\n    EXTERNAL_BANK_ACCOUNT_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    ACTUAL_VALUE_DATE DATE,\n    ANTICIPATED_VALUE_DATE DATE,\n    RELEASED_DATE DATE,\n    STOPPED_DATE DATE,\n    CE_BANK_ACCT_USE_ID NUMBER,\n    PAYMENT_METHOD_CODE VARCHAR2,\n    PARTY_ID NUMBER,\n    PARTY_SITE_ID NUMBER,\n    PAYMENT_PROFILE_ID NUMBER,\n    PAYMENT_DOCUMENT_ID NUMBER,\n    COMPLETED_PMTS_GROUP_ID NUMBER,\n    PAYMENT_ID NUMBER,\n    PAYMENT_INSTRUCTION_ID NUMBER,\n    REMIT_TO_SUPPLIER_NAME VARCHAR2,\n    REMIT_TO_SUPPLIER_ID NUMBER,\n    REMIT_TO_SUPPLIER_SITE VARCHAR2,\n    REMIT_TO_SUPPLIER_SITE_ID NUMBER\n);\n\nCREATE TABLE AP_INVOICE_PAYMENTS_ALL (\n    ACCOUNTING_EVENT_ID NUMBER,\n    ACCOUNTING_DATE DATE,\n    ACCRUAL_POSTED_FLAG VARCHAR2,\n    AMOUNT NUMBER,\n    CASH_POSTED_FLAG VARCHAR2,\n    CHECK_ID NUMBER,\n    INVOICE_ID NUMBER,\n    INVOICE_PAYMENT_ID NUMBER,\n    LAST_UPDATED_BY NUMBER,\n    LAST_UPDATE_DATE DATE\n);\n\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\n-- Join relationships:\n\n-- AP_INVOICES_ALL.VENDOR_ID = AP_SUPPLIERS.VENDOR_ID\n\n-- AP_PAYMENT_SCHEDULES_ALL.INVOICE_ID = AP_INVOICES_ALL.INVOICE_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT aca.CHECK_NUMBER, aca.CHECK_DATE, aca.CURRENCY_CODE, aca.AMOUNT AS TOTAL_CHECK_AMOUNT, s.VENDOR_NAME, ai.INVOICE_NUM, ai.INVOICE_DATE, aps.DUE_DATE, aip.AMOUNT AS INVOICE_PAYMENT_AMOUNT, aip.PAYMENT_NUM FROM ap_checks_all aca JOIN ap_invoice_payments_all aip ON aca.CHECK_ID = aip.CHECK_ID JOIN ap_invoices_all ai ON aip.INVOICE_ID = ai.INVOICE_ID JOIN ap_payment_schedules_all aps ON ai.INVOICE_ID = aps.INVOICE_ID AND aip.PAYMENT_NUM = aps.PAYMENT_NUM JOIN ap_suppliers s ON ai.VENDOR_ID = s.VENDOR_ID ORDER BY aca.CHECK_NUMBER, s.VENDOR_NAME, ai.INVOICE_NUM"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "AP_CHECKS_ALL",
        "AP_SUPPLIERS",
        "AP_INVOICES_ALL",
        "AP_PAYMENT_SCHEDULES_ALL",
        "AP_INVOICE_PAYMENTS_ALL"
      ],
      "schema_length": 4541,
      "prompt_token_estimate": 1182,
      "sql_length": 567
    }
  },
  {
    "id": "oracle_sqlcoder_v1_000204",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `List conversions where both unit_of_measure and uom_code are identical.`\n\n### Database Schema\nCREATE TABLE MTL_UOM_CONVERSIONS (\n    UNIT_OF_MEASURE VARCHAR2(150),\n    UOM_CODE VARCHAR2(150),\n    UOM_CLASS VARCHAR2(150),\n    INVENTORY_ITEM_ID NUMBER,\n    CONVERSION_RATE NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT unit_of_measure, uom_code, uom_class, inventory_item_id, conversion_rate FROM mtl_uom_conversions WHERE unit_of_measure = uom_code"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "MTL_UOM_CONVERSIONS"
      ],
      "schema_length": 186,
      "prompt_token_estimate": 90,
      "sql_length": 137
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001697",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Get average AMOUNT grouped by ORGANIZATION_ID where amount > 0.`\n\n### Database Schema\nCREATE TABLE RCV_TRANSACTIONS (\n    TRANSACTION_ID NUMBER,\n    TRANSACTION_TYPE VARCHAR2,\n    TRANSACTION_DATE DATE,\n    QUANTITY NUMBER,\n    UNIT_OF_MEASURE VARCHAR2,\n    SHIPMENT_HEADER_ID NUMBER,\n    SHIPMENT_LINE_ID NUMBER,\n    USER_ENTERED_FLAG VARCHAR2,\n    INTERFACE_SOURCE_CODE VARCHAR2,\n    INTERFACE_SOURCE_LINE_ID NUMBER,\n    INV_TRANSACTION_ID NUMBER,\n    SOURCE_DOCUMENT_CODE VARCHAR2,\n    DESTINATION_TYPE_CODE VARCHAR2,\n    PRIMARY_QUANTITY NUMBER,\n    PRIMARY_UNIT_OF_MEASURE VARCHAR2,\n    UOM_CODE VARCHAR2,\n    EMPLOYEE_ID NUMBER,\n    PARENT_TRANSACTION_ID NUMBER,\n    PO_HEADER_ID NUMBER,\n    PO_RELEASE_ID NUMBER,\n    PO_LINE_ID NUMBER,\n    PO_LINE_LOCATION_ID NUMBER,\n    PO_DISTRIBUTION_ID NUMBER,\n    PO_REVISION_NUM NUMBER,\n    REQUISITION_LINE_ID NUMBER,\n    PO_UNIT_PRICE NUMBER,\n    CURRENCY_CODE VARCHAR2,\n    CURRENCY_CONVERSION_TYPE VARCHAR2,\n    CURRENCY_CONVERSION_RATE NUMBER,\n    CURRENCY_CONVERSION_DATE DATE,\n    ROUTING_HEADER_ID NUMBER,\n    ROUTING_STEP_ID NUMBER,\n    DELIVER_TO_PERSON_ID NUMBER,\n    DELIVER_TO_LOCATION_ID NUMBER,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    ORGANIZATION_ID NUMBER,\n    SUBINVENTORY VARCHAR2,\n    INSPECTION_STATUS_CODE VARCHAR2,\n    ACCRUAL_STATUS_CODE VARCHAR2,\n    REASON_ID NUMBER,\n    COMMENTS VARCHAR2,\n    SECONDARY_QUANTITY NUMBER,\n    SECONDARY_UNIT_OF_MEASURE VARCHAR2,\n    AMOUNT NUMBER\n);\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT organization_id, AVG(amount) AS avg_amount FROM rcv_transactions WHERE amount > 0 GROUP BY organization_id"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "original",
      "tables": [
        "RCV_TRANSACTIONS"
      ],
      "schema_length": 1382,
      "prompt_token_estimate": 387,
      "sql_length": 113
    }
  },
  {
    "id": "oracle_sqlcoder_v1_001790",
    "sql_type": "oracle",
    "conversations": [
      {
        "role": "user",
        "content": "### Task\nGenerate a SQL query to answer the following question: `Find debit memos under 'Vision Operations'`\n\n### Database Schema\nCREATE TABLE AP_INVOICES_ALL (\n    ACCTS_PAY_CODE_COMBINATION_ID NUMBER,\n    AMOUNT_APPLICABLE_TO_DISCOUNT NUMBER,\n    AMOUNT_PAID NUMBER,\n    APPROVAL_DESCRIPTION VARCHAR2,\n    APPROVAL_ITERATION NUMBER,\n    APPROVAL_READY_FLAG VARCHAR2,\n    APPROVAL_STATUS VARCHAR2,\n    APPROVED_AMOUNT NUMBER,\n    ATTRIBUTE_CATEGORY VARCHAR2,\n    AWT_FLAG VARCHAR2,\n    AWT_GROUP_ID NUMBER,\n    BASE_AMOUNT NUMBER,\n    BATCH_ID NUMBER,\n    CANCELLED_AMOUNT NUMBER,\n    CANCELLED_BY NUMBER,\n    CANCELLED_DATE DATE,\n    CREATED_BY NUMBER,\n    CREATION_DATE DATE,\n    CREDITED_INVOICE_ID NUMBER,\n    DESCRIPTION VARCHAR2,\n    DISPUTE_REASON VARCHAR2,\n    DOC_CATEGORY_CODE VARCHAR2,\n    DOC_SEQUENCE_ID NUMBER,\n    DOC_SEQUENCE_VALUE NUMBER,\n    DOCUMENT_SUB_TYPE VARCHAR2,\n    EXCHANGE_DATE DATE,\n    EXCHANGE_RATE NUMBER,\n    EXCHANGE_RATE_TYPE VARCHAR2,\n    GL_DATE DATE,\n    INVOICE_AMOUNT NUMBER,\n    INVOICE_CURRENCY_CODE VARCHAR2,\n    INVOICE_DATE DATE,\n    INVOICE_ID NUMBER,\n    INVOICE_NUM VARCHAR2,\n    INVOICE_RECEIVED_DATE DATE,\n    INVOICE_TYPE_LOOKUP_CODE VARCHAR2,\n    ORG_ID NUMBER,\n    PAYMENT_AMOUNT_TOTAL NUMBER,\n    PAYMENT_STATUS_FLAG VARCHAR2,\n    SET_OF_BOOKS_ID NUMBER,\n    TERMS_DATE DATE,\n    TERMS_ID NUMBER,\n    VALIDATION_REQUEST_ID NUMBER,\n    VAT_CODE VARCHAR2,\n    VENDOR_ID NUMBER,\n    VENDOR_SITE_ID NUMBER,\n    VOUCHER_NUM VARCHAR2,\n    WFAPPROVAL_STATUS VARCHAR2\n);\n\nCREATE TABLE HR_OPERATING_UNITS (\n    BUSINESS_GROUP_ID NUMBER(15),\n    ORGANIZATION_ID NUMBER(15),\n    NAME VARCHAR2(240),\n    DATE_FROM DATE,\n    SHORT_CODE VARCHAR2(150),\n    SET_OF_BOOKS_ID VARCHAR2(150),\n    DEFAULT_LEGAL_CONTEXT_ID VARCHAR2(150),\n    USABLE_FLAG VARCHAR2(150)\n);\n\n-- Join relationships:\n\n-- HR_OPERATING_UNITS.ORGANIZATION_ID = AP_INVOICES_ALL.ORG_ID\n\n### SQL Query\n"
      },
      {
        "role": "assistant",
        "content": "SELECT a.INVOICE_NUM, a.INVOICE_TYPE_LOOKUP_CODE, h.NAME FROM ap_invoices_all a JOIN hr_operating_units h ON a.ORG_ID = h.organization_id WHERE UPPER(h.NAME) LIKE '%VISION%OPERATIONS%' AND a.INVOICE_TYPE_LOOKUP_CODE = 'DEBIT'"
      }
    ],
    "meta": {
      "source": "main_training",
      "quality_tier": "primary",
      "augmentation_type": "schema_permutation",
      "tables": [
        "HR_OPERATING_UNITS",
        "AP_INVOICES_ALL"
      ],
      "schema_length": 1762,
      "prompt_token_estimate": 477,
      "sql_length": 225
    }
  }
]